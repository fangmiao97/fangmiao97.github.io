<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Kadaneç®—æ³•</title>
      <link href="/2019/05/27/Kadane&#39;s-Algorithm/"/>
      <url>/2019/05/27/Kadane&#39;s-Algorithm/</url>
      
        <content type="html"><![CDATA[<h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p><a href="https://leetcode.com/problems/maximum-subarray/" target="_blank" rel="noopener">53. Maximum Subarray</a><br><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/discuss/?currentPage=1&amp;orderBy=most_posts&amp;query=" target="_blank" rel="noopener">121. Best Time to Buy and Sell Stock</a></p><h2 id="æœ€å¤§å­æ•°ç»„ä¹‹å’Œ"><a href="#æœ€å¤§å­æ•°ç»„ä¹‹å’Œ" class="headerlink" title="æœ€å¤§å­æ•°ç»„ä¹‹å’Œ"></a>æœ€å¤§å­æ•°ç»„ä¹‹å’Œ</h2><p>algorithm that operates on arrays: it starts at the left end (element A[1]) and scans through to the right end (element A[n]), keeping track of the maximum sum subvector seen so far. The maximum is initially A[0]. Suppose weâ€™ve solved the problem for A[1 .. i - 1]; how can we extend that to A[1 .. i]? The maximum<br>sum in the first I elements is either the maximum sum in the first i - 1 elements (which weâ€™ll call MaxSoFar), or it is that of a subvector that ends in position i (which weâ€™ll call MaxEndingHere).<br>MaxEndingHere is either A[i] plus the previous MaxEndingHere, or just A[i], whichever is larger.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxSoFar=A[<span class="number">0</span>], maxEndingHere=A[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;A.length;++i)&#123;</span><br><span class="line">    maxEndingHere= Math.max(maxEndingHere+A[i],A[i]);</span><br><span class="line">    maxSoFar=Math.max(maxSoFar, maxEndingHere);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSoFar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€å¤§åˆ©æ¶¦"><a href="#æœ€å¤§åˆ©æ¶¦" class="headerlink" title="æœ€å¤§åˆ©æ¶¦"></a>æœ€å¤§åˆ©æ¶¦</h2><p>æœ€å¤§åˆ©æ¶¦æ˜¯ä¸€æ®µæ—¶é—´çš„åˆ©æ¶¦æ€»å’Œï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†æ¯å¤©ç›¸å¯¹äºå‰ä¸€å¤©çš„åˆ©æ¶¦ï¼Œä¹Ÿå°±æ˜¯æ¯å¤©å–å‡ºä¸€æ¬¡ï¼Œå†ä¹°è¿›ä¸€æ¬¡ã€‚<br>è®¡ç®—å‡ºä¸€ä¸ªè¡¨ï¼Œè¡¨ä¸­çš„æ¯ä¸€é¡¹ä¸ºprices[i] - prices[i - 1]ã€‚</p><p>æ±‚è¿™ä¸ªä»¥å¤©ä¸ºç»´åº¦çš„åˆ©æ¶¦åºåˆ—çš„æœ€å¤§å­æ•°ç»„ä¹‹å’Œï¼ˆç”¨ä¸Šé¢ä¸€é¢˜çš„ç®—æ³•ï¼‰ï¼Œå°±æ˜¯æœ€å¤§åˆ©æ¶¦ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max_ending_here, max_so_far;</span><br><span class="line">        max_ending_here = max_so_far =<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> n = <span class="number">1</span>; n &lt; prices.length; n++)&#123;</span><br><span class="line">            max_ending_here = Math.max(max_ending_here + prices[n] - prices[n-<span class="number">1</span>], prices[n] - prices[n-<span class="number">1</span>]);</span><br><span class="line">            max_so_far = Math.max(max_ending_here, max_so_far);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max_so_far;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢çš„æµç¨‹ç²¾ç®€<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxCur = <span class="number">0</span>, maxSoFar = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">            maxCur = Math.max(<span class="number">0</span>, maxCur += prices[i] - prices[i-<span class="number">1</span>]);</span><br><span class="line">            maxSoFar = Math.max(maxCur, maxSoFar);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxSoFar;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>maxCuræ˜¯å½“å‰ä¸€æ®µæ—¶é—´çš„æœ€å¤§åˆ©æ¶¦ï¼Œå½“åˆ©æ¶¦é™ä¸º0æ—¶ï¼Œå°±ä¸å†è®¡ç®—è¿™ä¸ªæ—¶é—´æ®µçš„åˆ©æ¶¦ï¼Œé‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„åºåˆ—<br>maxSoFarå°±æ˜¯æ‰€æœ‰å¤©ä¸­ï¼Œåˆ©æ¶¦æœ€å¤§çš„æ—¶é—´åºåˆ—çš„åˆ©æ¶¦å€¼</p><h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><p>A more clear explanation on why sum of subarray works.:</p><p>Suppose we have original array:<br>[a0, a1, a2, a3, a4, a5, a6]</p><p>what we are given here(or we calculate ourselves) is:<br>[b0, b1, b2, b3, b4, b5, b6]</p><p>where,<br>b[i] = 0, when i == 0<br>b[i] = a[i] - a[i - 1], when i != 0</p><p>suppose if a2 and a6 are the points that give us the max difference (a2 &lt; a6)<br>then in our given array, we need to find the sum of sub array from b3 to b6.</p><p>b3 = a3 - a2<br>b4 = a4 - a3<br>b5 = a5 - a4<br>b6 = a6 - a5</p><p>adding all these, all the middle terms will cancel out except two<br>i.e.</p><p>b3 + b4 + b5 + b6 = a6 - a2</p><p>a6 - a2 is the required solution.</p><p>so we need to find the largest sub array sum to get the most profit</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ KMP</title>
      <link href="/2019/05/03/KMP/"/>
      <url>/2019/05/03/KMP/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><ul><li><a href="https://leetcode.com/problems/implement-strstr/" target="_blank" rel="noopener">Implement strStr()</a><ul><li>LeetCodeå®ç°String.indexOf()ï¼Œå³è¿”å›å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œå­ä¸²ä¸ºç©ºåˆ™è¿”å›0</li></ul></li><li>æš´åŠ›è§£æ³•<ul><li>ä»0ä½ç½®å¼€å§‹ï¼Œæ¯”å¯¹ä¸å­ä¸²æ˜¯å¦ç›¸åŒï¼Œå‡ºç°ä¸åŒåˆ™åœ¨å­—ç¬¦ä¸²ä¸­å¾€åç§»ä¸€ä½ï¼Œå†æ¬¡æ¯”è¾ƒå­ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°ã€‚</li><li>å¤æ‚åº¦<ul><li>è®¾å­—ç¬¦ä¸²é•¿åº¦ä¸ºmï¼Œè¦æŸ¥æ‰¾çš„å­ä¸²é•¿åº¦ä¸ºn</li><li>æ—¶é—´ O(m*n)</li></ul></li><li>é—®é¢˜<ul><li>æ¯æ¬¡å‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œåªå‘åç§»åŠ¨ä¸€ä½ï¼Œå†ä»å¤´å¼€å§‹æ¯”å¯¹ï¼Œå¾ˆå¤šæ²¡æœ‰å¿…è¦</li><li>å¦‚ï¼šåœ¨aaaaaaaaaaaab,æŸ¥æ‰¾aaaab</li></ul></li></ul></li></ul><p><img src="https://puui.qpic.cn/fans_admin/0/3_1500912214_1556864943460/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1486517634_1556864983556/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_308750603_1556864998323/0" alt></p><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><ul><li><p>æ¦‚å¿µ</p><ul><li>KMPç®—æ³•è¦è§£å†³çš„é—®é¢˜å°±æ˜¯åœ¨å­—ç¬¦ä¸²ï¼ˆä¹Ÿå«ä¸»ä¸²ï¼‰ä¸­çš„æ¨¡å¼ï¼ˆpatternï¼‰å®šä½é—®é¢˜ã€‚è¯´ç®€å•ç‚¹å°±æ˜¯æˆ‘ä»¬å¹³æ—¶å¸¸è¯´çš„å…³é”®å­—æœç´¢ã€‚æ¨¡å¼ä¸²å°±æ˜¯å…³é”®å­—ï¼ˆæ¥ä¸‹æ¥ç§°å®ƒä¸ºPï¼‰ï¼Œå¦‚æœå®ƒåœ¨ä¸€ä¸ªä¸»ä¸²ï¼ˆæ¥ä¸‹æ¥ç§°ä¸ºTï¼‰ä¸­å‡ºç°ï¼Œå°±è¿”å›å®ƒçš„å…·ä½“ä½ç½®ï¼Œå¦åˆ™è¿”å›-1ï¼ˆå¸¸ç”¨æ‰‹æ®µï¼‰ã€‚</li></ul></li><li><p>å¯¹äºæš´åŠ›ç ´è§£çš„ä¼˜åŒ–æ€è€ƒ</p><ul><li>ä¸»ä¸²ä¸è¦æ¯æ¬¡åªç§»ä¸€ä½ï¼Œå¯ä»¥è®©å®ƒï¼ˆiï¼‰ä¿æŒä¸åŠ¨ï¼Œç§»åŠ¨æ¨¡å¼ä¸­jçš„ä½ç½®</li><li>åˆ©ç”¨å·²ç»éƒ¨åˆ†åŒ¹é…è¿™ä¸ªæœ‰æ•ˆä¿¡æ¯ï¼Œä¿æŒiæŒ‡é’ˆä¸å›æº¯ï¼Œé€šè¿‡ä¿®æ”¹jæŒ‡é’ˆï¼Œè®©æ¨¡å¼ä¸²å°½é‡åœ°ç§»åŠ¨åˆ°æœ‰æ•ˆçš„ä½ç½®</li></ul></li></ul><p><img src="https://puui.qpic.cn/fans_admin/0/3_308750603_1556865032698/0" alt></p><ul><li>jè¦æ€ä¹ˆç§»åŠ¨<ul><li>å½“åŒ¹é…å¤±è´¥æ—¶ï¼Œjè¦ç§»åŠ¨çš„ä¸‹ä¸€ä¸ªä½ç½®kã€‚å­˜åœ¨ç€è¿™æ ·çš„æ€§è´¨ï¼šæœ€å‰é¢çš„kä¸ªå­—ç¬¦å’Œjä¹‹å‰çš„æœ€åkä¸ªå­—ç¬¦æ˜¯ä¸€æ ·çš„</li></ul></li></ul><p><img src="https://puui.qpic.cn/fans_admin/0/3_1486517634_1556865346487/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_771348268_1556865899518/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1268522869_1556866125545/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_122902507_1556866189608/0" alt></p><ul><li><p>æ•°å­¦è¡¨ç¤º</p><ul><li>å¦‚æœkè¡¨ç¤ºä¸åŒ¹é…æ—¶ï¼Œjè¦ç§»åŠ¨çš„ä½ç½®</li><li><p>P[0 ~ k-1] == P[j-k ~ j-1]</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1268522869_1556866470014/0" alt></p></li><li><p>å½“T[i] != P[j]æ—¶</p><p>æœ‰T[i-j ~ i-1] == P[0 ~ j-1]</p><p>ç”±P[0 ~ k-1] == P[j-k ~ j-1]</p><p>å¿…ç„¶ï¼šT[i-k ~ i-1] == P[0 ~ k-1]</p></li><li><p>å› æ­¤å¯ä»¥ç›´æ¥å°†jç§»åŠ¨åˆ°kè€Œæ— é¡»å†æ¯”è¾ƒå‰é¢çš„kä¸ªå­—ç¬¦</p></li></ul></li><li><p>æ€ä¹ˆæ‰¾åˆ°ä¸åŒ¹é…æ—¶jè¦ç§»åŠ¨çš„kä½ç½®</p><ul><li>æ¨¡å¼ä¸²ä¸­æ¯ä¸ªä½ç½®å‘ç”Ÿä¸åŒ¹é…æ—¶ï¼Œæ‰€è¦ç§»åŠ¨åˆ°çš„kä½ç½®éƒ½æ˜¯ä¸åŒçš„ï¼Œæ¯ä¸ªä½ç½®éƒ½è¦è®¡ç®—</li><li>ä½¿ç”¨nextæ•°æ®æ¥ä¿å­˜æ¨¡å¼ä¸²ä¸­æ¯ä¸ªä½ç½®çš„kå€¼</li><li>next[j]çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯kï¼‰è¡¨ç¤ºï¼Œå½“P[j] != T[i]æ—¶ï¼ŒjæŒ‡é’ˆçš„ä¸‹ä¸€æ­¥ç§»åŠ¨ä½ç½®</li><li><p>å½“jä¸º0æ—¶ï¼Œå¦‚æœè¿™æ—¶å€™ä¸åŒ¹é…</p><ul><li><p>jå·²ç»åœ¨æœ€å·¦è¾¹äº†ï¼Œä¸å¯èƒ½å†ç§»åŠ¨äº†ï¼Œè¿™æ—¶å€™è¦åº”è¯¥æ˜¯iæŒ‡é’ˆåç§»ã€‚æœ‰next[0] = -1</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_912665407_1556869374669/0" alt></p></li></ul></li><li><p>å½“jä¸º1</p><ul><li><p>jæŒ‡é’ˆä¸€å®šæ˜¯åç§»åˆ°0ä½ç½®çš„</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_767595719_1556869496396/0" alt></p></li></ul></li><li><p>å…¶ä»–</p><ul><li>å½“P[k] == P[j]æ—¶</li><li><p>next[j+1] == next[j] + 1</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_912665407_1556869639696/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_912665407_1556869662493/0" alt></p></li><li><p>P[k] != P[j]</p></li><li><p>k = next[k]</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_912665407_1556869752648/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_912665407_1556870613284/0" alt></p></li></ul></li></ul></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.cnblogs.com/yjiyjige/p/3263858.html#top" target="_blank" rel="noopener">https://www.cnblogs.com/yjiyjige/p/3263858.html#top</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€æ¯•ä¸šè®¾è®¡Minionsä¸€æœŸã€‘å¯è§†åŒ–éƒ¨åˆ†å±•ç¤º</title>
      <link href="/2019/04/24/Minions-Visualization-first/"/>
      <url>/2019/04/24/Minions-Visualization-first/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><ul><li>åŸºäºSpark Streamingçš„ç½‘ç«™å®æ—¶æµé‡åˆ†æ</li></ul><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><ul><li><p>å‰ç«¯æ¡†æ¶</p><ul><li>react</li><li>ç»„ä»¶<ul><li>ant-design</li><li>ant-design Pro</li><li>BizCharts</li></ul></li></ul></li><li><p>åç«¯æ¡†æ¶</p><ul><li>springboot</li></ul></li><li><p>æŒä¹…åŒ–</p><ul><li>HBase</li><li>MySQL</li></ul></li></ul><h2 id="å¯è§†åŒ–å†…å®¹æ¦‚è¿°"><a href="#å¯è§†åŒ–å†…å®¹æ¦‚è¿°" class="headerlink" title="å¯è§†åŒ–å†…å®¹æ¦‚è¿°"></a>å¯è§†åŒ–å†…å®¹æ¦‚è¿°</h2><ul><li>å¯è§†åŒ–å±•ç¤ºç”¨æˆ·è®¿é—®æ—¥å¿—æ•°æ®å’Œç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼Œæœ¬è®¾è®¡å…·ä½“åŒ–ä¸ºâ€éŸ³ä¹ç½‘ç«™â€æ—¥å¿—åˆ†æ</li></ul><h2 id="ç»†åŒ–å±•ç¤º"><a href="#ç»†åŒ–å±•ç¤º" class="headerlink" title="ç»†åŒ–å±•ç¤º"></a>ç»†åŒ–å±•ç¤º</h2><hr><ul><li>ä»Šæ—¥è®¿é—®æ—¥å¿—æ•°æ®æŒ‡æ ‡<ul><li>æŒ‡æ ‡æ•°æ®æ¨¡å—å±•ç¤ºéƒ¨åˆ†ï¼Œä»å·¦å‘å³ã€ä»ä¸Šåˆ°ä¸‹æŒ‡æ ‡ç»´åº¦ä¸æ–­ç»†åŒ–</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxf2zx0cj21hc0u07h0.jpg" alt></p><ul><li>å½“å‰PVï¼ˆpage viewï¼‰å€¼ç»Ÿè®¡<ul><li>æ˜¾ç¤ºå‘¨åŒæ¯”ã€æ—¥ç¯æ¯”å’Œ7æ—¥PVå‡å€¼</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxf2u6f5j20gg062t9h.jpg" alt></p><ul><li>7æ—¥PVèµ°åŠ¿<ul><li>PVå€¼åœ¨7æ—¥å‘¨ç»´åº¦ä¸Šçš„æ‹“å±•</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxf2u8fvj20fk04cgm3.jpg" alt></p><ul><li>ä»Šæ—¥å®æ—¶PVèµ°åŠ¿<ul><li>æ¯éš”30åˆ†é’Ÿç»Ÿè®¡å‰30åˆ†é’Ÿçª—å£å†…PVæ•°æ®</li><li>æ˜¯ å½“å‰PVç»Ÿè®¡ åœ¨æ—¶é—´ç»´åº¦ä¸‹çš„ç»†åŒ–</li></ul></li></ul><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g2dxf2w57fj20fh0anmyl.jpg" alt></p><ul><li>å„ç±»ç›®è®¿é—®ç»Ÿè®¡<ul><li>éŸ³ä¹ç½‘ç«™é¦–é¡µä¸‹å±6ä¸ªå­ç±»ç›®</li><li>ç»Ÿè®¡ä»Šæ—¥å½“å‰æ—¶é—´ä¸‹å„ç±»ç›®è®¿é—®æƒ…å†µ</li><li>æ˜¯ å½“å‰PVå€¼ç»Ÿè®¡ åœ¨ç±»ç›®ç»´åº¦ä¸‹çš„ç»†åŒ–</li></ul></li></ul><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g2dxer2jnaj20fi0bpmz4.jpg" alt></p><ul><li>å„ç±»ç›®è®¿é—®è¶‹åŠ¿<ul><li>ä»Šæ—¥å®æ—¶PVèµ°åŠ¿ åœ¨ç±»ç›®ç»´åº¦çš„ç»†åŒ–</li><li>äº¦æ˜¯ å„ç±»ç›®è®¿é—®ç»Ÿè®¡ åœ¨æ—¶é—´ç»´åº¦ä¸Šçš„æ‹“å±•</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxer2k6fj20fg0eitcb.jpg" alt></p><ul><li>Topæ¥æºç½‘ç«™ç»Ÿè®¡<ul><li>è®¿é—®æ—¥å¿—å…¶ä»–ä¿¡æ¯ç»Ÿè®¡</li></ul></li></ul><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g2dxer06woj20f70b6wfk.jpg" alt></p><hr><ul><li>ç½‘ç«™å†å²æ•°æ®Review<ul><li>å¯é€‰æ‹©æ—¥æœŸæŸ¥çœ‹è¯¥æ—¥ç›¸åº”æŒ‡æ ‡æ•°æ®</li><li>éƒ¨åˆ†æŒ‡æ ‡ä¸ä»Šæ—¥æ•°æ®ç›¸åŒ</li><li>å¢åŠ æ—¶é—´ç»´åº¦å¯¹æ¯”ç»Ÿè®¡å±•ç¤º</li></ul></li></ul><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxer7xxnj21hc0u0n8c.jpg" alt></p><ul><li>é€‰æ‹©æ—¥æœŸæ¨¡å—</li></ul><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxer2rfgj20910f4jt9.jpg" alt></p><ul><li>30å¤©æœˆPVæ•°æ®ç»Ÿè®¡</li></ul><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g2dxeqyzmfj20ff07nq4i.jpg" alt></p><hr><ul><li>éŸ³ä¹ç½‘ç«™ç”¨æˆ·è¡Œä¸ºåˆ†ææ¨¡æ‹Ÿ<ul><li>è®¾è®¡æœ‰éŸ³ä¹æ’­æ”¾æ¨¡å—ï¼Œæ¨¡æ‹Ÿç”¨æˆ·éŸ³ä¹æ’­æ”¾ã€æ”¶è—ã€è¯„è®ºè¡Œä¸º</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxer21m0j21hc0u0qm6.jpg" alt></p><ul><li>éŸ³ä¹æ¨¡å—<ul><li>æŒ‰é’®ä»å·¦åˆ°å³ï¼Œæ¨¡æ‹ŸéŸ³ä¹æ’­æ”¾ã€æ”¶è—å’Œè¯„è®º</li><li>éŸ³ä¹æ’­æ”¾æ˜¾ç¤ºå…¨å±€æç¤ºï¼Œæ¨¡æ‹Ÿæ’­æ”¾60ç§’</li></ul></li></ul><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g2dxeqw5o6j20700c4ab6.jpg" alt></p><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxer1oocj219t0ik7ht.jpg" alt></p><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxe3s5u7j204z02a749.jpg" alt></p><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g2dxe3sn9zj204x023q2w.jpg" alt></p><ul><li>ä»Šæ—¥æ­Œæ›²æ’­æ”¾æ•°æ®<ul><li>ä»è®°å½•çš„æ—¥å¿—ä¸­ï¼Œé€šè¿‡ä¸åŒç»´åº¦å±•ç¤ºç”¨æˆ·æ“ä½œæ­Œæ›²çš„è¡Œä¸º</li></ul></li></ul><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxe3y2z4j21hc0u0al0.jpg" alt></p><ul><li>ä»Šæ—¥æ­Œæ›²æ’­æ”¾æ•°æ®ä¸€è§ˆ<ul><li>æ ¹æ®æ’­æ”¾æ•°é‡æ’åˆ—</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxe3wuz4j20fi0l8di5.jpg" alt></p><ul><li>è¿‘ä¸€å°æ—¶æ’­æ”¾TOPæ­Œæ›²<ul><li>æ¯éš”ååˆ†é’Ÿç»Ÿè®¡å‰ä¸€ä¸ªå°æ—¶çª—å£æœŸå†…çš„æ’­æ”¾æ•°æ®</li><li>æ˜¯ä»Šæ—¥æ­Œæ›²æ’­æ”¾æ€»è§ˆçš„å­é›†</li></ul></li></ul><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2dxe3umj4j20f30iv75k.jpg" alt></p><ul><li>æ’­æ”¾éŸ³ä¹ç±»å‹ç»Ÿè®¡<ul><li>æ ¹æ®æ’­æ”¾æ­Œæ›²çš„ç±»å‹è¿›è¡Œç»Ÿè®¡</li><li>å±•ç¤ºå„ä¸ªç±»å‹çš„æµè¡Œç¨‹åº¦</li></ul></li></ul><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxe3vbvgj20f40el3zz.jpg" alt></p><ul><li>ä»Šæ—¥TOP10æ­Œæ›²æ ‡ç­¾äº‘</li></ul><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2dxe3u8lsj20f308uq43.jpg" alt></p><ul><li>å…¶ä»–æ­Œæ›²ä¿¡æ¯ç»´åº¦çš„ç»Ÿè®¡<ul><li>æ”¶è—é‡ç»Ÿè®¡</li><li>è¯„è®ºé‡ç»Ÿè®¡</li><li>ä¸æ”¾åœ¨ä¸€èµ·æ˜¯å› ä¸ºå¯èƒ½æœ‰çš„æ­Œæœ‰æ”¶è—æ²¡æœ‰è¯„è®º</li></ul></li></ul><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g2dxe3uzugj20f80mo76a.jpg" alt></p><hr><h2 id="TODOâ€¦"><a href="#TODOâ€¦" class="headerlink" title="TODOâ€¦"></a>TODOâ€¦</h2><ul><li>æ¨èï¼ŸååŒè¿‡æ»¤ï¼Ÿ</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¿é—®è¡Œä¸ºmock</title>
      <link href="/2019/04/22/mock-accesslog-python/"/>
      <url>/2019/04/22/mock-accesslog-python/</url>
      
        <content type="html"><![CDATA[<p>æ¨¡æ‹Ÿç”¨æˆ·è®¿é—®çš„Pythonè„šæœ¬</p><ul><li>generate_log.py</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">url_paths = &#123;</span><br><span class="line"><span class="string">"class/112.html"</span>:<span class="number">10</span>,</span><br><span class="line"><span class="string">"class/128.html"</span>:<span class="number">5</span>,</span><br><span class="line"><span class="string">"class/145.html"</span>:<span class="number">8</span>,</span><br><span class="line"><span class="string">"class/146.html"</span>:<span class="number">10</span>,</span><br><span class="line"><span class="string">"class/131.html"</span>:<span class="number">3</span>,</span><br><span class="line"><span class="string">"class/130.html"</span>:<span class="number">2</span>,</span><br><span class="line"><span class="string">"learn/821"</span>:<span class="number">1</span>,</span><br><span class="line"><span class="string">"course/list"</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ip_slices = [<span class="number">132</span>,<span class="number">156</span>,<span class="number">124</span>,<span class="number">10</span>,<span class="number">29</span>,<span class="number">167</span>,<span class="number">143</span>,<span class="number">187</span>,<span class="number">30</span>,<span class="number">46</span>,<span class="number">55</span>,<span class="number">63</span>,<span class="number">72</span>,<span class="number">87</span>,<span class="number">98</span>,<span class="number">168</span>]</span><br><span class="line"></span><br><span class="line">http_referers = [</span><br><span class="line"><span class="string">"http://www.baidu.com/s?wd=&#123;query&#125;"</span>,</span><br><span class="line"><span class="string">"https://www.sogou.com/web?query=&#123;query&#125;"</span>,</span><br><span class="line"><span class="string">"http://cn.bing.com/search?q=&#123;query&#125;"</span>,</span><br><span class="line"><span class="string">"https://search.yahoo.com/search?p=&#123;query&#125;"</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">search_keyword = [</span><br><span class="line"><span class="string">"æ–°è¿‘å‘å¸ƒ"</span>,</span><br><span class="line"><span class="string">"ä¸ºä½ æ¨è"</span>,</span><br><span class="line"><span class="string">"ä»Šæ—¥æ­Œå•"</span>,</span><br><span class="line"><span class="string">"ç©ç›®è‰ºäºº"</span>,</span><br><span class="line"><span class="string">"ä»Šæ—¥ä¸“è¾‘"</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">status_codes = [<span class="string">"200"</span>,<span class="string">"404"</span>,<span class="string">"500"</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_url</span><span class="params">()</span>:</span></span><br><span class="line">all_data = []</span><br><span class="line"><span class="keyword">for</span> v, w <span class="keyword">in</span> url_paths.items():</span><br><span class="line">temp = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(w):</span><br><span class="line">temp.append(v)</span><br><span class="line">all_data.extend(temp)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> random.sample(all_data, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_ip</span><span class="params">()</span>:</span></span><br><span class="line">slice = random.sample(ip_slices , <span class="number">4</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="string">"."</span>.join([str(item) <span class="keyword">for</span> item <span class="keyword">in</span> slice])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_referer</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">if</span> random.uniform(<span class="number">0</span>, <span class="number">1</span>) &gt; <span class="number">0.2</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="string">"-"</span></span><br><span class="line"></span><br><span class="line">refer_str = random.sample(http_referers, <span class="number">1</span>)</span><br><span class="line">query_str = random.sample(search_keyword, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> refer_str[<span class="number">0</span>].format(query=query_str[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_status_code</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">return</span> random.sample(status_codes, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_log</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">time_str = time.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>, time.localtime())</span><br><span class="line">now_hour = time.strftime(<span class="string">"%H"</span>, time.localtime())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> now_hour &lt; <span class="string">"01"</span>:</span><br><span class="line">count = random.randint(<span class="number">80</span>,<span class="number">100</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"02"</span>:</span><br><span class="line">count = random.randint(<span class="number">60</span>,<span class="number">85</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"03"</span>:</span><br><span class="line">count = random.randint(<span class="number">50</span>,<span class="number">75</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"05"</span>:</span><br><span class="line">count = random.randint(<span class="number">30</span>,<span class="number">60</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"06"</span>:</span><br><span class="line">count = random.randint(<span class="number">50</span>,<span class="number">65</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"08"</span>:</span><br><span class="line">count = random.randint(<span class="number">70</span>,<span class="number">85</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"10"</span>:</span><br><span class="line">count = random.randint(<span class="number">70</span>,<span class="number">95</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"11"</span>:</span><br><span class="line">count = random.randint(<span class="number">80</span>,<span class="number">100</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"13"</span>:</span><br><span class="line">count = random.randint(<span class="number">95</span>,<span class="number">150</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"15"</span>:</span><br><span class="line">count = random.randint(<span class="number">90</span>,<span class="number">130</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"17"</span>:</span><br><span class="line">count = random.randint(<span class="number">80</span>,<span class="number">120</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"18"</span>:</span><br><span class="line">count = random.randint(<span class="number">85</span>,<span class="number">130</span>)</span><br><span class="line"><span class="keyword">elif</span> now_hour &lt; <span class="string">"19"</span>:</span><br><span class="line">count = random.randint(<span class="number">100</span>,<span class="number">120</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">count = random.randint(<span class="number">110</span>,<span class="number">160</span>)</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">"/home/hadoop/data/project/logs/access.log"</span>,<span class="string">"w+"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> count &gt;= <span class="number">1</span>:</span><br><span class="line">query_log = <span class="string">"&#123;ip&#125;\t&#123;local_time&#125;\t\"GET /&#123;url&#125; HTTP/1.1\"\t&#123;status_code&#125;\t&#123;referer&#125;"</span>.format(url=sample_url(), ip=sample_ip(), referer=sample_referer(), status_code=sample_status_code(),local_time=time_str)</span><br><span class="line"></span><br><span class="line">f.write(query_log + <span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">count = count - <span class="number">1</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">generate_log()</span><br></pre></td></tr></table></figure><ul><li>å®šæ—¶æ‰§è¡Œè„šæœ¬<ul><li>Linux crontab</li><li><a href="https://tool.lu/crontab/" target="_blank" rel="noopener">å·¥å…·ç½‘ç«™</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯•ä¸šè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨æˆ·è¡Œä¸ºæ—¥å¿—è®°å½•æ–¹æ¡ˆè®¾è®¡</title>
      <link href="/2019/04/22/user-action-logger-design/"/>
      <url>/2019/04/22/user-action-logger-design/</url>
      
        <content type="html"><![CDATA[<ul><li><p>è®¾è®¡æ€è·¯</p><ul><li>spark streamingä½œä¸šæ ¹æ®ä¸åŒçš„kafka topicè¿›è¡Œæ¶ˆè´¹</li><li>Topics<ul><li>minions_songplay</li><li>minions_songlike</li><li>minions_songcomment</li></ul></li></ul></li><li><p>å‰ç«¯åŸ‹ç‚¹è®¾è®¡</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ’­æ”¾æ­Œæ›²è®°å½•</span></span><br><span class="line">    songplay(songInfo)&#123;</span><br><span class="line"></span><br><span class="line">        openNotification(songInfo);</span><br><span class="line"></span><br><span class="line">        axios.get(Utils.defaultURIdefaultURI+<span class="string">"/actionLogger"</span>, &#123;</span><br><span class="line">            params:&#123;</span><br><span class="line">                K_topic: <span class="string">'minions_songplay'</span>,</span><br><span class="line">                songId: songInfo.songID</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (response.data === <span class="number">1</span>)&#123;</span><br><span class="line">                message.success(<span class="string">'æ·»åŠ æ­Œæ›²æ’­æ”¾è®°å½•æˆåŠŸ'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•æˆåŠŸ"</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•é”™è¯¯"</span>)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(error)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¶è—æ­Œæ›²</span></span><br><span class="line">    likesong(songInfo)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//openNotification(songInfo);</span></span><br><span class="line"></span><br><span class="line">        axios.get(Utils.defaultURIdefaultURI+<span class="string">"/actionLogger"</span>, &#123;</span><br><span class="line">            params:&#123;</span><br><span class="line">                K_topic: <span class="string">'minions_songlike'</span>,</span><br><span class="line">                songId: songInfo.songID</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (response.data === <span class="number">1</span>)&#123;</span><br><span class="line">                message.success(<span class="string">'æ”¶è—æˆåŠŸ'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•æˆåŠŸ"</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•é”™è¯¯"</span>)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(error)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯„è®ºæ­Œæ›²</span></span><br><span class="line">    comment(songInfo)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//openNotification(songInfo);</span></span><br><span class="line"></span><br><span class="line">        axios.get(Utils.defaultURIdefaultURI+<span class="string">"/actionLogger"</span>, &#123;</span><br><span class="line">            params:&#123;</span><br><span class="line">                K_topic: <span class="string">'minions_songcomment'</span>,</span><br><span class="line">                songId: songInfo.songID</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (response.data === <span class="number">1</span>)&#123;</span><br><span class="line">                message.success(<span class="string">'è¯„è®ºæˆåŠŸ'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•æˆåŠŸ"</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">"æ—¥å¿—è®°å½•é”™è¯¯"</span>)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(error)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>æœåŠ¡ç«¯è®°å½•</li></ul><p><code>logger.info(&quot;topic:&quot; + k_topic + &quot; songID:&quot; + songID);</code></p><ul><li>log4j</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">log4j.appender.flume = org.apache.flume.clients.log4jappender.Log4jAppender</span><br><span class="line">log4j.appender.flume.Hostname = hadoop000</span><br><span class="line">log4j.appender.flume.Port = 41415</span><br><span class="line">log4j.appender.flume.UnsafeMode = true</span><br><span class="line">log4j.appender.flume.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.flume.layout.ConversionPattern= %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c] [%p] - %m%n</span><br></pre></td></tr></table></figure><p><code>2019-04-22 13:58:04,419 [http-nio-8080-exec-9] [com.chaoyue.minions.controller.ActionLogController] [INFO] - topic:minions_songlike songID:13</code></p><ul><li>spark streamingä½œä¸šæ ¹æ®ä¸åŒkafka topicåˆ’åˆ†</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘ç›¸å…³ </tag>
            
            <tag> æ¯•ä¸šè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å‘¨è®°å½•ğŸ“ï¼ˆ190420ï¼‰</title>
      <link href="/2019/04/20/weekly-report-190420/"/>
      <url>/2019/04/20/weekly-report-190420/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g294xszz4gj23402c0qv7.jpg" alt></p><p>è¿™å‘¨åƒçš„é“æ¿çƒ§ï¼å¤§å­¦é‡Œé¢æœ€å–œæ¬¢åƒçš„ä¸œè¥¿ï¼Œå®³æ€•ä»¥åå°±åƒä¸åˆ°äº†ã€‚</p><p>è¿™å‘¨æ”¶åˆ°å—æ´‹ç†å·¥CCAçš„offeräº†ï¼ŒISè¢«æ‹’äº†ã€‚å…¶å®å§ï¼Œæˆ‘æ›´æƒ³ä¸ŠISï¼Œä½†æ˜¯çœ‹äº†ä¸€ä¸‹ISçš„è¯¾ç¨‹ï¼Œæ„Ÿè§‰é™¤äº†ä¸ªåˆ«åŠé—¨ï¼Œå…¶ä»–çš„åœ¨æœ¬ç§‘ä¹Ÿæœ‰å­¦è¿‡ã€‚<br>CCAçš„è¯ï¼Œå°±åå‘æ§åˆ¶ä¹‹ç±»çš„ï¼Œæˆ‘å¯¹è¿™æ–¹é¢å…´è¶£ä¸å¤§å§ï¼Œä»¥åå°±æƒ³åšè½¯ä»¶ã€å¤§æ•°æ®æ–¹é¢çš„ã€‚åœ¨è´´å§ä¸Šçœ‹åˆ°æœ‰å­¦é•¿è¯´ï¼Œæ‰¾å·¥ä½œå…¶å®çœ‹è‡ªå·±çš„èƒ½åŠ›ï¼Œç¡®å®ä¹Ÿæ˜¯çš„ï¼Œæ‰€ä»¥CCAä¸Šä¹Ÿå¯ä»¥ï¼Œä¸»è¦æˆ‘å°±æ˜¯æƒ³å‡ºå»ã€‚<br>å¦å¤–å›½ç«‹å¤§å­¦çš„ç”³è¯·è¿˜æ²¡æœ‰ä¸‹æ¥ï¼Œæœ‰ç‚¹æ‰æ€¥ï¼Œå› ä¸ºå›½å¤§æœ‰SOï¼Œå¦‚æœå›½å¤§æœ‰çš„è¯ï¼Œæˆ‘æ›´æ„¿æ„æ¥å—å›½å¤§çš„ï¼Œå»ç­¾SOã€‚</p><p>è¿™å‘¨å‰å››å¤©é›†ä¸­åšæ¯•è®¾ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g294xqbiggj21i00ustmi.jpg" alt></p><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g294xqbic3j21i00us14u.jpg" alt></p><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g294xqa08vj21i00usgwg.jpg" alt></p><p>ç»´åº¦ç»†åŒ–äº†ï¼Œç•Œé¢äº¤äº’ä¹Ÿæœ‰äº†é€»è¾‘ã€‚æœ‰é—®é¢˜å°±æ˜¯åˆ†ç±»åˆ«ç»Ÿè®¡30åˆ†é’Ÿçª—å£çš„æ—¶å€™ï¼Œè®°å½•çš„rowkeyè®¾è®¡æœ‰é—®é¢˜ï¼Œæ‰€ä»¥åœ¨é›¶ç‚¹çš„å·¦å³ä¼šå‡ºç°é—®é¢˜ï¼Œæˆ‘æ˜¯æŒ‰dateåœ¨hbaseä¸­å–å€¼ï¼Œå¦‚æœwindowæ¨ªè·¨é›¶ç‚¹å·¦å³ï¼Œå‰ä¸€å¤©å°±ç»Ÿè®¡ä¸åˆ°ã€‚</p><p>å¦å¤–ï¼Œè¡Œä¸ºåˆ†æè¿˜è¦å¢æ·»ä¸€ç‚¹ä¸œè¥¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¯å‘¨è®°å½• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ HBase JAVA API</title>
      <link href="/2019/04/19/StudyHBaseJavaAPI/"/>
      <url>/2019/04/19/StudyHBaseJavaAPI/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h2><ul><li><a href="https://www.baeldung.com/hbase" target="_blank" rel="noopener">HBase with Java</a></li><li><a href="https://www.bilibili.com/video/av21911076" target="_blank" rel="noopener">HBaseè¡¨æ¦‚å¿µ</a></li><li><a href="https://www.jianshu.com/p/fb4bd7a2a23e" target="_blank" rel="noopener">Filter è¿‡æ»¤å™¨</a></li></ul><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><ul><li><p>Column Family</p><ul><li>åˆ—æ—æ˜¯åˆ—çš„é›†åˆ</li><li>è¡¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—æ—</li><li>å±äºåŒä¸€ä¸ªåˆ—æ—çš„æ‰€æœ‰åˆ—å‰ç¼€ç›¸åŒ<ul><li>containInfo:fname</li><li>containInfo:lname</li></ul></li><li>è¡¨æŒ‰ç…§åˆ—æ—ç»´åº¦è¿›è¡Œå­˜å‚¨ï¼Œä¸€ä¸ªåˆ—æ—çš„æ•°æ®å­˜åœ¨ä¸€èµ·</li><li>å¯¹ä¸€ä¸ªåˆ—æ—å¯ä»¥å•ç‹¬å®šä¹‰å­˜å‚¨å±æ€§è°ƒä¼˜ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªåˆ—æ—å­˜å‚¨å›¾ç‰‡æ•°æ®ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹è¿™ä¸ªåˆ—æ—è¿›è¡Œå­˜å‚¨å‹ç¼©</li><li>ä¸€ä¸ªåˆ—æ—æƒ³æœ‰å¤šå°‘åˆ—éƒ½å¯å®œï¼Œåœ¨è¿›è¡Œæ•°æ®æ·»åŠ æ“ä½œçš„æ—¶å€™æ’å…¥å³å¯ã€‚ä¸ç”¨ä¿®æ”¹è¡¨å®šä¹‰ï¼Œåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå®šå¥½åˆ—æ—å°±å¯ä»¥<br>*è®¾è®¡åŸåˆ™<ul><li>ä¸ç»å¸¸åœ¨ä¸€èµ·è®¿é—®çš„æ•°æ®åˆ†å¼€è®¾è®¡ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªç”¨æˆ·ä¿¡æ¯çš„è¡¨ï¼Œå¯ä»¥å°†ç”¨æˆ·åã€çœŸå®å§“åã€èŠ±åæ”¾åœ¨ä¸€ä¸ªåˆ—æ—ï¼Œå°†å¤´åƒæ”¾åœ¨å¦ä¸€ä¸ªåˆ—æ—</li><li>ä½¿ç”¨ä¸åŒåˆ—æ—å­˜å‚¨è®¾ç½®æ—¶åˆ†å¼€è®¾è®¡</li></ul></li></ul></li><li><p>Columns åˆ—</p><ul><li>åˆ—ä¸­åŒ…å«è¡¨çš„æ•°æ®</li><li>å¯ä»¥åŠ¨æ€å®æ—¶åœ°åˆ›å»º</li></ul></li><li><p>Rows è¡Œ</p><ul><li>æ¯ä¸€è¡Œæœ‰ä¸€ä¸ªè¡Œé”®ï¼ˆRowKey)</li><li>RowKeyç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„ä¸»é”®</li><li>RowKeyè®¾è®¡åŸåˆ™ï¼šæ–¹ä¾¿scanæ“ä½œï¼Œç»“åˆå…·ä½“ä¸šåŠ¡</li><li>è¡ŒæŒ‰ç…§è¡Œé”®æ’åºè¿›è¡Œå­˜å‚¨ï¼Œè¿™æ ·å°±æé«˜äº†æ£€ç´¢æ•ˆç‡</li></ul></li><li><p>Cell å•å…ƒ</p><ul><li>è¡Œä¸åˆ—çš„äº¤å‰ç‚¹</li><li>ç‰ˆæœ¬åŒ–ï¼Œæ”¯æŒå¤šä¸ªç‰ˆæœ¬ï¼Œæ›´æ–°ä¹‹å‰çš„æ•°æ®å¯ä»¥ä¿å­˜ï¼ˆè¦å®šä¹‰ï¼‰ï¼Œæ¯”å¦‚ï¼ŒQQå¤´åƒå¯ä»¥çœ‹åˆ°åŸæ¥çš„å¤´åƒ</li><li>å†…å®¹æ˜¯ä¸å¯åˆ†å‰²çš„</li><li>å­˜å‚¨çš„æ˜¯byte arrayå­—èŠ‚æ•°ç»„ï¼Œæ— å­—æ®µç±»å‹ã€‚åªè¦èƒ½è½¬æˆbyte arrayçš„éƒ½å¯ä»¥å­˜</li><li>å•å…ƒä¸ºç©ºæ—¶ï¼Œç‰©ç†ä¸Šæ˜¯ä¸å­˜å‚¨çš„</li></ul></li></ul><h2 id="HBase-Java-API"><a href="#HBase-Java-API" class="headerlink" title="HBase Java API"></a>HBase Java API</h2><ul><li><a href="https://www.jianshu.com/p/3c85060901da" target="_blank" rel="noopener">HBase Java API 01ï¼šåŸºç¡€æ“ä½œ</a></li><li><a href="https://www.jianshu.com/p/fb4bd7a2a23e" target="_blank" rel="noopener">HBase Java API 02ï¼šè¿‡æ»¤å™¨</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å‘¨è®°å½•ğŸ“ï¼ˆ190414ï¼‰</title>
      <link href="/2019/04/14/weekly-report-190414/"/>
      <url>/2019/04/14/weekly-report-190414/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g21zk7ocndj22482tq7wh.jpg" alt></p><p>ä¸Šä¸€å‘¨æ²¡æœ‰å‘¨è®°ï¼Œå› ä¸ºæ¸…æ˜èŠ‚å›å¤–å©†å®¶äº†ã€‚æ¯”è¾ƒå¿™ï¼Œä¹Ÿæ²¡æœ‰å¸¦ç”µè„‘ã€‚<br>æ‰€ä»¥è¯´ï¼ŒçœŸçš„å¥½åƒè¦è‡ªå·±çš„ä¸€å°ç”µè„‘å•Šï¼</p><p>å¦å¤–ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘çš„æ¯•è®¾åœ¨æ¸…æ˜èŠ‚ä¹‹å‰çš„å‘¨å››ä¹‹åå°±æ²¡æœ‰å¼„è¿‡äº†ï¼LeetCodeä¹Ÿæ²¡æœ‰åˆ·ï¼çœŸçš„å¾ˆç½ªæ¶äº†ã€‚<br>è¿™å‘¨å¼€å§‹å…¨èº«å¿ƒæŠ•å…¥ï¼</p><p>è¿™é‡Œå…ˆå®šä¸€ä¸‹è¿™å‘¨çš„è®¡åˆ’ï¼š</p><ul><li>å­¦ä¹ HBase RowKeyçš„è®¾è®¡ï¼Œä»¥åŠjava APIçš„å­¦ä¹ ï¼Œè®°ç¬”è®°ã€‚</li><li>ç”¨BizChartså®Œæˆæ¯•è®¾é¡µé¢æµè§ˆä¿¡æ¯çš„æ—¶é—´ç»´åº¦ç»†åŒ–ã€‚</li><li>ç»†åŒ–é¡µé¢è¡Œä¸ºä¿¡æ¯</li></ul><p>OKï¼Œå±•ç¤ºä¸€ä¸‹ç›®å‰æ¯•è®¾çš„çŠ¶æ€ï¼š</p><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g2207nk3atj21gn0u0tjq.jpg" alt></p><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g2207nmb18j21gn0u0kcv.jpg" alt></p><p>å¦å¤–ï¼Œå–œæ¬¢ä¸Šå–é“è§‚éŸ³ã€‚è‡ªå·±ä¸€å‘¨ä¹‹å†…è¢«éª—äº†2æ¬¡ï¼ŒæŸå¤±36å…ƒï¼è°¨è®°ï¼</p><p>be humbleï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ¯å‘¨è®°å½• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç¿»è¯‘ã€‘å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼šåŸºäºå†…å­˜çš„é›†ç¾¤è®¡ç®—çš„å®¹é”™æ€§æŠ½è±¡</title>
      <link href="/2019/04/13/tanslate-Resilient-Distributed-Datasets-A-Fault-Tolerant-Abstraction%E2%80%93for-In-Memory-Cluster-Computing/"/>
      <url>/2019/04/13/tanslate-Resilient-Distributed-Datasets-A-Fault-Tolerant-Abstraction%E2%80%93for-In-Memory-Cluster-Computing/</url>
      
        <content type="html"><![CDATA[<h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p>å¤§æ¦‚ç”¨äº†16ä¸ªå°æ—¶å®Œæˆäº†è¿™ç¯‡å…³äºRDDè®ºæ–‡çš„ç¿»è¯‘ï¼Œè¿™ç¯‡è®ºæ–‡å¥ å®šäº†Sparkçš„è®¾è®¡åŸºç¡€ã€‚</p><p>åŸæ–‡:<a href="https://www.usenix.org/system/files/conference/nsdi12/nsdi12-final138.pdf" target="_blank" rel="noopener">Resilient Distributed Datasets: A Fault-Tolerant Abstraction for In-Memory Cluster Computing</a></p><p>æ¨èå…ˆçœ‹æ—å­é›¨è€å¸ˆå…³äºRDDçš„<a href="http://dblab.xmu.edu.cn/blog/985-2/" target="_blank" rel="noopener">è§£é‡Š</a></p><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æœ¬æ–‡æå‡ºäº†ä¸€ä¸ªåˆ†å¸ƒå¼å†…å­˜æŠ½è±¡çš„æ¦‚å¿µâ€“å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆResilient Distributed Datasetsï¼Œä»¥ä¸‹ç§°ä¸ºRDDsï¼‰ï¼Œå…¶èƒ½å¤Ÿè®©å¼€å‘äººå‘˜ä»¥å®¹é”™çš„æ–¹å¼åœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸Šè¿›è¡ŒåŸºäºå†…å­˜çš„è®¡ç®—ã€‚RDDsçš„æå‡ºæ˜¯ç”±äºç°æœ‰çš„ä¸¤ç§è®¡ç®—æ¡†æ¶å¹¶ä¸é«˜æ•ˆï¼šè¿­ä»£å¼ç®—æ³•å’Œäº¤äº’å¼æ•°æ®æŒ–æ˜å·¥å…·ã€‚åœ¨å†…å­˜ä¸­æ“ä½œæ•°æ®å¯ä»¥å°†å‰ä¸¤ç§è®¡ç®—æ–¹å¼çš„æ•ˆç‡æé«˜ä¸€ä¸ªæ•°é‡çº§ã€‚RDDsæä¾›äº†ä¸€ç§å—é™çš„å…±äº«å†…å­˜ï¼Œæ˜¯åŸºäºç²—ç²’åº¦çš„è½¬æ¢æ“ä½œè€Œä¸æ˜¯ç»†ç²’åº¦çš„çŠ¶æ€åŒæ­¥ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒRDDsä¾ç„¶èƒ½å¤Ÿè¡¨ç¤ºå¤šç§ç±»å‹çš„è®¡ç®—ï¼ŒåŒ…æ‹¬ä¸“ç”¨çš„è¿­ä»£ç¼–ç¨‹æ¨¡å‹ï¼ˆå¦‚Pregelï¼‰å’Œä¸€äº›æ–°çš„åº”ç”¨æ¨¡å‹ã€‚æˆ‘ä»¬é€šè¿‡åœ¨Sparkä¸Šè¯„ä¼°å„ç§åº”ç”¨å’ŒåŸºå‡†ï¼Œå®ç°äº†RDDsã€‚</p><h2 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1 å¼•è¨€"></a>1 å¼•è¨€</h2><p>é›†ç¾¤è®¡ç®—æ¡†æ¶ï¼Œå¦‚MapReduce[10]å’ŒDryad[19]ï¼Œå·²ç»è¢«å¹¿æ³›åœ°è¿ç”¨äºå¤§è§„æ¨¡æ•°æ®åˆ†æã€‚è¿™äº›ç³»ç»Ÿèƒ½å¤Ÿè®©ç”¨æˆ·åœ¨ä¸ç”¨è€ƒè™‘ä»»åŠ¡è°ƒåº¦å’Œå®¹é”™çš„å‰æä¸‹ï¼Œä½¿ç”¨ä¸€ç³»åˆ—é«˜çº§çš„æ“ä½œè¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚</p><p>è™½ç„¶è¿™äº›æ¡†æ¶ä¸ºè·å–é›†æƒè®¡ç®—èµ„æºæä¾›äº†å¤§é‡çš„æŠ½è±¡ï¼Œä½†æ˜¯ç¼ºå°‘å¯¹åˆ†å¸ƒå¼å†…å­˜çš„è¿ç”¨ã€‚è¿™ä½¿ä»–ä»¬å¯¹äºä¸€ç±»æ–°å…´çš„åº”ç”¨ååˆ†ä½æ•ˆï¼šå®ƒä»¬åœ¨ä¸åŒçš„è®¡ç®—é˜¶æ®µ<em>é‡ç”¨</em>ä¸­é—´ç»“æœã€‚æ•°æ®é‡ç”¨åœ¨<em>è¿­ä»£å¼</em>æœºå™¨å­¦ä¹ å’Œå›¾ç®—æ³•ä¸­ååˆ†å¸¸è§ï¼ŒåŒ…æ‹¬PageRankã€K-meansèšç±»å’Œé€»è¾‘å›å½’ã€‚å¦ä¸€ä¸ªæ˜æ˜¾çš„ç”¨ä¾‹æ˜¯<em>äº¤äº’å¼</em>æ•°æ®æŒ–æ˜ï¼Œç”¨æˆ·åœ¨åŒæ ·çš„æ•°æ®å­é›†ä¸Šè¿›è¡Œad-hocæŸ¥è¯¢ã€‚ç„¶è€Œä¸å¥½çš„æ˜¯ï¼Œå¯¹äºç°åœ¨çš„æ¡†æ¶ï¼Œåœ¨ä¸åŒè®¡ç®—é˜¶æ®µä¹‹é—´é‡ç”¨æ•°æ®ï¼ˆå¦‚ï¼Œåœ¨ä¸¤ä¸ªMapReduceçš„jobä¹‹é—´ï¼‰çš„å”¯ä¸€æ–¹å¼æ˜¯å°†å…¶å†™å…¥å¤–éƒ¨ç¨³å®šå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå¦‚ï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚ç”±äºæ•°æ®çš„å¤åˆ¶ã€ç¡¬ç›˜I/Oå’Œåºåˆ—åŒ–ï¼Œå¯¼è‡´äº†å¤§é‡çš„æˆæœ¬å¼€é”€ï¼Œå¹¶å æ®äº†åº”ç”¨è¿è¡Œçš„å¤§éƒ¨åˆ†æ—¶é—´ã€‚</p><p>åœ¨æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œç ”ç©¶äººå‘˜é’ˆå¯¹éœ€è¦æ•°æ®é‡ç”¨çš„åº”ç”¨å¼€å‘äº†ä¸“é—¨çš„æ¡†æ¶ã€‚æ¯”å¦‚ï¼Œè¿­ä»£å¼å›¾è®¡ç®—ç³»ç»ŸPregel[22]ï¼Œå…¶å°†ä¸­é—´æ•°æ®å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€ŒHaLoop[7]æä¾›äº†ä¸€ç§è¿­ä»£å¼MapReduceæ¥å£ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™äº›æ¡†æ¶ä»…æ”¯æŒç‰¹å®šçš„è®¡ç®—æ¨¡å¼ï¼ˆå¦‚ï¼Œå¾ªç¯ä¸€ç³»åˆ—çš„MapReduceæ­¥éª¤ï¼‰ï¼Œå¹¶éšå¼åœ°æä¾›è¿™äº›æ¨¡å¼çš„æ•°æ®å…±äº«ã€‚å®ƒä»¬æ²¡æœ‰æä¾›æ›´åŠ é€šç”¨çš„æ•°æ®é‡ç”¨çš„æŠ½è±¡ï¼Œå¦‚ï¼Œè®©ç”¨æˆ·ç›´æ¥å‘å†…å­˜ä¸­è£…è½½æ•°æ®é›†ï¼Œå¹¶å¯¹å…¶è¿›è¡Œad-hocæŸ¥è¯¢ã€‚</p><p>åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§èƒ½å¤Ÿå¹¿æ³›è¿ç”¨äºå„ç§åº”ç”¨ä¸­é«˜æ•ˆçš„æ•°æ®é‡ç”¨æŠ½è±¡ï¼Œ<em>å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†</em>ï¼ˆRDDsï¼‰ã€‚RDDsæ˜¯ä¸€ä¸ªå®¹é”™çš„ã€å¹¶è¡Œçš„æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿè®©ç”¨æˆ·æ˜ç¡®åœ°åœ¨å†…å­˜ä¸­æŒä¹…åŒ–ä¸­é—´ç»“æœï¼Œæ§åˆ¶å…¶åˆ†åŒºä»¥ä¼˜åŒ–æ•°æ®çš„æ”¾ç½®å’Œä½¿ç”¨ä¸°å¯Œçš„æ“ä½œç¬¦å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p><p>è®¾è®¡RDDsçš„ä¸»è¦æŒ‘æˆ˜æ˜¯ï¼Œå®šä¹‰ä¸€ä¸ªèƒ½å¤Ÿé«˜æ•ˆå®¹é”™èƒ½åŠ›çš„ç¼–ç¨‹æ¥å£ã€‚ç°æœ‰çš„åŸºäºé›†ç¾¤çš„å†…å­˜å­˜å‚¨æŠ½è±¡ï¼Œå¦‚åˆ†å¸ƒå¼å…±äº«å†…å­˜ã€é”®å€¼å¯¹å­˜å‚¨ã€æ•°æ®åº“å’ŒPiccoloï¼Œæä¾›äº†åŸºäºç»†ç²’åº¦æ›´æ–°å¯å˜çŠ¶æ€çš„æ¥å£ï¼ˆå¦‚ï¼Œè¡¨ä¸­çš„cellï¼‰ã€‚è¿ç”¨è¿™äº›æ¥å£æ—¶ï¼Œè¾¾åˆ°æ•°æ®å®¹é”™çš„å”¯ä¸€æ–¹å¼æ˜¯åœ¨ä¸åŒçš„æœºå™¨ä¹‹é—´è¿›è¡Œæ•°æ®çš„å†—ä½™æˆ–è€…è®°å½•æ›´æ–°æ—¥å¿—ã€‚è¿™ä¸¤ç§æ–¹æ³•å¯¹äºæ•°æ®å¯†é›†å‹å·¥ä½œæ¥è¯´ä»£ä»·é«˜æ˜‚ï¼Œå› ä¸ºä»–ä»¬éœ€è¦åœ¨é›†ç¾¤ç½‘ç»œé—´å¤åˆ¶å¤§é‡æ•°æ®ï¼Œè€Œç½‘ç»œå¸¦å®½è¿œå°äºRAMå¸¦å®½ï¼ŒåŒæ—¶è¿˜ä¼šäº§ç”Ÿå¤§é‡æ•°æ®å­˜å‚¨å¼€é”€ã€‚</p><p>ç›¸æ¯”äºè¿™äº›ç³»ç»Ÿï¼ŒRDDsæä¾›åŸºäºç²—ç²’åº¦è½¬æ¢çš„ï¼Œå¯ç”¨äºå¤§é‡æ•°æ®é¡¹è¿›è¡Œç›¸åŒæ“ä½œçš„æ¥å£ï¼ˆå¦‚ï¼Œmap,filterå’Œjoinï¼‰ã€‚è¿™ä½¿å¾—RDDsèƒ½å¤Ÿé€šè¿‡è®°å½•äº§ç”Ÿæ•°æ®é›†çš„ä¸€ç³»åˆ—è½¬æ¢æ“ä½œï¼ˆç§°ä¹‹ä¸ºlineageï¼‰ï¼Œè€Œä¸æ˜¯è®°å½•çœŸå®çš„æ•°æ®ï¼Œæ¥æé«˜å®¹é”™çš„æ•ˆç‡ã€1å½“lineageé“¾è¿‡é•¿æ—¶ï¼Œå¯¹ä¸€äº›RDDsè¿›è¡Œæ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰è®¾ç½®å¯èƒ½æ›´åŠ æœ‰ç”¨ï¼Œæˆ‘ä»¬åœ¨5.4èŠ‚å¯¹å…¶è¿›è¡Œè®¨è®ºã€‘ã€‚å¦‚æœä¸€ä¸ªåˆ†åŒºçš„RDDä¸¢å¤±äº†ï¼Œå®ƒæœ‰è¶³å¤Ÿçš„ä¿¡æ¯çŸ¥é“è‡ªå·±æ˜¯å¦‚ä½•ä»å…¶ä»–çš„RDDäº§ç”Ÿçš„ï¼Œä»è€Œé‡æ–°è®¡ç®—è¯¥åˆ†åŒºã€‚å› æ­¤ï¼Œä¸¢å¤±çš„æ•°æ®å¯ä»¥å¾ˆå¿«åœ°æ¢å¤ï¼Œè€Œä¸éœ€è¦ä»£ä»·æ˜‚è´µçš„å¤åˆ¶ã€‚</p><p>åŸºäºç²—ç²’åº¦è½¬æ¢çš„æ¥å£ä¹ä¸€çœ‹æ˜¯æœ‰å±€é™æ€§çš„ï¼Œä½†RDDså¯¹äºè®¸å¤šå¹¶è¡Œåº”ç”¨éƒ½éå¸¸é€‚ç”¨ï¼Œå› ä¸ºè¿™äº›åº”ç”¨æœ¬è´¨ä¸Šå°±æ˜¯ä¼šå¯¹å¤šç§æ•°æ®é¡¹è¿›è¡Œç›¸åŒçš„æ“ä½œã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¯æ˜äº†RDDsé«˜æ•ˆåœ°è¿ç”¨äºè¡¨è¾¾å„ç§å·²ç»è¢«ç°æœ‰çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ‰€å®ç°çš„é›†ç¾¤ç¼–ç¨‹æ¨¡å‹ï¼ŒåŒ…æ‹¬MapReduceï¼ŒDryadLINQ,ï¼ŒSQLï¼ŒPregel å’Œ HaLoopï¼Œä»¥åŠè¿™äº›ç³»ç»Ÿæ— æ³•å®ç°çš„æ–°åº”ç”¨ï¼Œå¦‚äº¤äº’å¼æ•°æ®æŒ–æ˜ã€‚RDDsèƒ½å¤Ÿä½œä¸ºè¢«ç”¨æ¥è§£å†³å‰é¢æåˆ°çš„è®¡ç®—éœ€æ±‚è€Œå¼•å…¥çš„æ–°æ¡†æ¶çš„è¯æ®ï¼Œæ˜¯å› ä¸ºå…¶å¼ºå¤§çš„æŠ½è±¡èƒ½åŠ›ã€‚</p><p>æˆ‘ä»¬å·²ç»åœ¨ä¸€ä¸ªè¢«ç”¨äºUC Berkeleyçš„å®éªŒç¯å¢ƒå’Œè®¸å¤šå…¬å¸ç”Ÿäº§ç¯å¢ƒä¸‹çš„åº”ç”¨â€“Sparkä¸Šï¼Œå®ç°äº†RDDsã€‚Sparkæä¾›äº†ä¸€ä¸ªè¿ç”¨Scalaè¯­è¨€ï¼Œç±»ä¼¼DryadLINQçš„æ˜“ç”¨çš„è¯­è¨€é›†æˆç¼–ç¨‹æ¥å£ã€‚å¦å¤–ï¼ŒSparkè¿˜å¯ä»¥åœ¨Scalaè§£é‡Šå™¨ä¸­è¿›è¡Œäº¤äº’å¼å¤§æ•°æ®é›†çš„æŸ¥è¯¢ã€‚æˆ‘ä»¬ç›¸ä¿¡Sparkä¼šæ˜¯ç¬¬ä¸€ä¸ªè¿ç”¨é€šç”¨ç¼–ç¨‹è¯­è¨€å®Œæˆäº¤äº’å¼é€Ÿåº¦ä¸‹é›†ç¾¤å†…å­˜æ•°æ®æŒ–æ˜çš„ç³»ç»Ÿã€‚</p><p>æˆ‘ä»¬é€šè¿‡å¾®åŸºå‡†æµ‹è¯•å’Œç”¨æˆ·åº”ç”¨å¯¹RDDså’ŒSparkè¿›è¡Œè¯„ä¼°ã€‚æˆ‘ä»¬å¾—å‡ºï¼ŒSparkåœ¨è¿­ä»£å¼åº”ç”¨ä¸Šæ¯”Hadoopå¿«20å€ï¼Œåœ¨çœŸå®æ•°æ®æŠ¥è¡¨åˆ†æä¸Šå¿«40å€ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨5-7ç§’çš„å»¶è¿Ÿå†…å®Œæˆ1TBæ•°æ®é›†çš„äº¤äº’å¼æ‰«æã€‚æ›´åŠ æ ¹æœ¬åœ°ï¼Œä¸ºäº†è¯´æ˜RDDsçš„é€šç”¨æ€§ï¼Œæˆ‘ä»¬åœ¨Sparkä¸Šå®ç°äº†Pregelå’ŒHaLoopçš„ç¼–ç¨‹æ¨¡å‹ï¼ŒåŒ…æ‹¬ç”¨ä¸€äº›ç›¸å¯¹è¾ƒå°çš„åº“ï¼ˆæ¯ä¸ªåº“å¤§æ¦‚200è¡Œä»£ç ï¼‰å®ç°å®ƒä»¬æ‰€é‡‡ç”¨å­˜å‚¨ä¼˜åŒ–ç­–ç•¥ã€‚</p><p>è¿™ç¯‡è®ºæ–‡é¦–å…ˆä»‹ç»RDDsçš„æ¦‚è§ˆï¼ˆç¬¬2éƒ¨åˆ†ï¼‰å’ŒSparkï¼ˆç¬¬3éƒ¨åˆ†ï¼‰ï¼Œç„¶åè®¨è®ºRDDsçš„å†…éƒ¨è¡¨ç¤ºï¼ˆç¬¬4éƒ¨åˆ†ï¼‰ï¼Œå®ç°ï¼ˆç¬¬5éƒ¨åˆ†ï¼‰ï¼Œå’Œä¸€äº›å®éªŒç»“æœï¼ˆç¬¬6éƒ¨åˆ†ï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬è®¨è®ºäº†ç”¨RDDså®ç°å‡ ä¸ªç°æœ‰çš„é›†ç¾¤ç¼–ç¨‹æ¨¡å‹ï¼ˆç¬¬7éƒ¨åˆ†ï¼‰ï¼Œç›¸å…³ç ”ç©¶å·¥ä½œï¼ˆç¬¬8éƒ¨åˆ†ï¼‰å’Œæ€»ç»“ã€‚</p><h2 id="2-å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDsï¼‰"><a href="#2-å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDsï¼‰" class="headerlink" title="2 å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDsï¼‰"></a>2 å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDsï¼‰</h2><p>è¿™ä¸€éƒ¨åˆ†æä¾›å…³äºRDDsçš„æ¦‚è¿°ã€‚å…ˆå®šä¹‰RDDsï¼ˆ2.1èŠ‚ï¼‰ï¼Œä»‹ç»å…¶åœ¨Sparkä¸­çš„ç¼–ç¨‹æ¥å£ï¼ˆ2.2èŠ‚ï¼‰ã€‚ç„¶åå°†RDDsä¸ç»†ç²’åº¦å…±äº«å†…å­˜æŠ½è±¡è¿›è¡Œæ¯”è¾ƒï¼ˆ2.3èŠ‚ï¼‰ã€‚æœ€åè®¨è®ºRDDæ¨¡å‹çš„é™åˆ¶ï¼ˆ2.4èŠ‚ï¼‰ã€‚</p><h3 id="2-1-RDDæŠ½è±¡"><a href="#2-1-RDDæŠ½è±¡" class="headerlink" title="2.1 RDDæŠ½è±¡"></a>2.1 RDDæŠ½è±¡</h3><p>ä¸€ä¸ªRDDæ˜¯åªè¯»çš„ï¼Œæ˜¯å°†è®°å½•è¿›è¡Œåˆ†åŒºçš„é›†åˆã€‚RDDsåªèƒ½ç”±ï¼ˆ1ï¼‰ç¨³å®šç‰©ç†å­˜å‚¨ä¸­çš„æ•°æ®é›†ï¼ˆ2ï¼‰å…¶ä»–RDDsé€šè¿‡æ˜ç¡®çš„æ“ä½œäº§ç”Ÿã€‚æˆ‘ä»¬ç§°è¿™äº›æ“ä½œä¸ºè½¬æ¢ï¼ˆtransformationsï¼‰ä»¥åŒºåˆ«å…¶ä»–å¯¹RDDsçš„æ“ä½œã€‚è½¬æ¢çš„ä¾‹å­åŒ…æ‹¬mapï¼Œfilterå’Œjoinã€‚ã€2 è™½ç„¶å•ä¸ªRDDsæ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å¤šä¸ªRDDsæ¥è¡¨ç¤ºä¸åŒç‰ˆæœ¬çš„æ•°æ®é›†ä»¥å®ç°å¤šçŠ¶æ€ã€‚æˆ‘ä»¬è®©RDDsä¸å¯å˜ä»¥ä½¿lineageå›¾è¡¨ç¤ºæ›´ç®€ä¾¿ï¼Œä½†è¿™ä¹Ÿç›¸å½“äºå°†æˆ‘ä»¬çš„æŠ½è±¡å˜æˆç‰ˆæœ¬åŒ–æ•°æ®å¹¶åœ¨lineageå›¾ä¸­è¿½è¸ªä¸åŒç‰ˆæœ¬ã€‘</p><p>RDDsä¸éœ€è¦éƒ½å®ä½“åŒ–ã€‚ä¸€ä¸ªRDDæœ‰è¶³å¤Ÿçš„ä¿¡æ¯äº†è§£è‡ªå·±æ˜¯å¦‚ä½•ä»å…¶ä»–æ•°æ®é›†äº§ç”Ÿçš„ï¼ˆlineageï¼‰å¹¶é€šè¿‡ä¿¡æ¯ä»ç¨³å®šçš„ç‰©ç†å­˜å‚¨ä¸­è®¡ç®—å‡ºè‡ªå·±çš„åˆ†åŒºã€‚è¿™ä¸€å¼ºå¤§ç‰¹æ€§çš„æœ¬è´¨æ˜¯ï¼Œç¨‹åºèƒ½å¤Ÿåœ¨RDDé‡å»ºä¹‹åå¯¹å…¶è¿›è¡Œå¼•ç”¨ã€‚</p><p>æœ€åä¸€ç‚¹ï¼Œç”¨æˆ·å¯ä»¥å¯¹RDDsè¿›è¡Œ2æ–¹é¢çš„æ§åˆ¶ï¼šæŒä¹…åŒ–å’Œåˆ†åŒºã€‚ç”¨æˆ·å¯ä»¥è¡¨æ˜å°†è¦é‡ç”¨çš„RDDså¹¶ä¸ºå…¶é€‰æ‹©å­˜å‚¨ç­–ç•¥ï¼ˆå¦‚ï¼Œå†…å­˜å­˜å‚¨ï¼‰ã€‚ä¹Ÿå¯ä»¥å°†RDDsçš„å…ƒç´ é€šè¿‡ç‰¹å®šé”®å€¼è¿›è¡Œåˆ†åŒºã€‚è¿™äº›åŠŸèƒ½å¯¹äºå­˜å‚¨ä¼˜åŒ–ç‰¹åˆ«æœ‰ç”¨ï¼Œæ¯”å¦‚ä¿è¯ä¸¤ä¸ªå°†è¦è¿›è¡Œjoinæ“ä½œçš„æ•°æ®é›†éƒ½è¿›è¡Œäº†ç›¸åŒçš„å“ˆå¸Œåˆ†åŒºã€‚</p><h3 id="2-2-Sparkç¼–ç¨‹æ¥å£"><a href="#2-2-Sparkç¼–ç¨‹æ¥å£" class="headerlink" title="2.2 Sparkç¼–ç¨‹æ¥å£"></a>2.2 Sparkç¼–ç¨‹æ¥å£</h3><p>Sparkæš´éœ²äº†ç±»ä¼¼DryadLINQå’ŒFlumeJavaçš„RDDsè¯­è¨€é›†æˆAPIï¼Œæ¯ä¸ªæ•°æ®é›†éƒ½è¢«è¡¨ç¤ºæˆä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶é€šè¿‡æ‰§è¡Œæ–¹æ³•åœ¨è¿™äº›å¯¹è±¡ä¸Šè¿›è¡Œè½¬æ¢æ“ä½œï¼ˆtransformationsï¼‰ã€‚</p><p>å¼€å‘äººå‘˜é€šè¿‡å°†ç‰©ç†å­˜å‚¨ä¸Šçš„æ•°æ®é›†è¿›è¡Œè½¬æ¢ï¼ˆå¦‚ï¼Œmapå’Œfilterï¼‰æ¥å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªRDDsã€‚ç„¶åå¯ä»¥ç”¨åŠ¨ä½œï¼ˆactionsï¼‰å¯¹è¿™äº›RDDsè¿›è¡Œæ“ä½œï¼Œè¿™äº›æ“ä½œå‘åº”ç”¨è¿”å›å€¼æˆ–è€…å‘å­˜å‚¨ç³»ç»Ÿäº§ç”Ÿå¤–éƒ¨æ•°æ®ã€‚åŠ¨ä½œï¼ˆactionsï¼‰çš„ä¾‹å­åŒ…æ‹¬ï¼Œcountï¼ˆè¿”å›æ•°æ®é›†ä¸­å…ƒç´ çš„æ•°ç›®ï¼‰ï¼Œcollectï¼ˆè¿”å›å…ƒç´ æœ¬èº«ï¼‰å’Œsaveï¼ˆå°†æ•°æ®é›†è¾“å‡ºåˆ°å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿï¼‰ã€‚åƒDryadLINQä¸€æ ·ï¼ŒSparkåœ¨é‡åˆ°ä¸€ä¸ªåŠ¨ä½œæ“ä½œæ—¶æ‰ä¼šçœŸæ­£è®¡ç®—å‡ºRDDsï¼Œæ‰€ä»¥å…¶å¯ä»¥å¯¹è½¬æ¢ï¼ˆtransformationsï¼‰è¿›è¡Œæµæ°´çº¿æ“ä½œã€‚</p><p>æ­¤å¤–ï¼Œå¼€å‘äººå‘˜è¿˜å¯ä»¥è°ƒç”¨persistæ–¹æ³•æ¥å£°æ˜ä»–ä»¬æƒ³é‡ç”¨çš„RDDsã€‚Sparké»˜è®¤ä¼šå°†RDDsç•™å­˜åœ¨å†…å­˜ä¸­ï¼Œä½†æ˜¯ä¼šåœ¨æ²¡æœ‰è¶³å¤ŸRAMçš„æƒ…å†µä¸‹å°†å®ƒä»¬æº¢å‡ºåˆ°ç¡¬ç›˜ã€‚ç”¨æˆ·å¯ä»¥é‡‡ç”¨å…¶ä»–çš„æŒä¹…åŒ–ç­–ç•¥ï¼Œå¦‚é€šè¿‡persistæ ‡ä»·ï¼Œå°†ç‰¹å®šRDDåªå­˜åœ¨ç¡¬ç›˜ä¸Šæˆ–åœ¨æœºå™¨ä¹‹é—´è¿›è¡Œå¤‡ä»½ã€‚æœ€åï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ä¸ªRDDè®¾ç½®ä¼˜å…ˆçº§æ¥è¡¨æ˜å½“éœ€è¦æ—¶ï¼Œå°†å“ªä¸€ä¸ªå†…å­˜ä¸­çš„æ•°æ®æº¢å‡ºåˆ°ç¡¬ç›˜ä¸­ã€‚</p><h4 id="2-2-1-ä¾‹å­ï¼šæ§åˆ¶å°æ—¥å¿—æŒ–æ˜"><a href="#2-2-1-ä¾‹å­ï¼šæ§åˆ¶å°æ—¥å¿—æŒ–æ˜" class="headerlink" title="2.2.1 ä¾‹å­ï¼šæ§åˆ¶å°æ—¥å¿—æŒ–æ˜"></a>2.2.1 ä¾‹å­ï¼šæ§åˆ¶å°æ—¥å¿—æŒ–æ˜</h4><p>å‡è®¾ä¸€ä¸ªç½‘é¡µæœåŠ¡å‡ºç°é”™è¯¯ï¼Œç®¡ç†å‘˜æƒ³åœ¨HDFSä¸­å…†å­—èŠ‚è§„æ¨¡çš„æ—¥å¿—ä¸­æ‰¾åˆ°åŸå› ã€‚åº”ç”¨Sparkï¼Œç®¡ç†å‘˜èƒ½å¤Ÿå°†é”™è¯¯ä¿¡æ¯ä»å¤šä¸ªç»“ç‚¹çš„æ—¥å¿—ä¸­å¯¼å…¥RAMï¼Œå¹¶äº¤äº’å¼çš„è¿›è¡ŒæŸ¥è¯¢ã€‚å¥¹ä¼šé”®å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lines = spark.textFile(<span class="string">"hdfs://..."</span>)</span><br><span class="line">errors = lines.filter(_.startsWith(<span class="string">"ERROR"</span>))</span><br><span class="line">errors.persist()</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œä»ä¸€ä¸ªHDFSæ–‡ä»¶ï¼ˆæ–‡æœ¬è¡Œé›†åˆï¼‰å®šä¹‰äº†ä¸€ä¸ªRDDï¼Œå¹¶åœ¨ç¬¬äºŒè¡Œäº§ç”Ÿè¿‡æ»¤åçš„RDDã€‚</p><p>ç¬¬ä¸‰è¡Œå°†errorsæŒä¹…åŒ–åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·å°±èƒ½è¢«æŸ¥è¯¢ã€‚æ³¨æ„filterçš„å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…çš„Scalaè¯­æ³•ã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¹¶æ²¡æœ‰åœ¨é›†ç¾¤ä¸Šè¿è¡Œä½œä¸šã€‚ä½†æ˜¯ï¼Œç”¨æˆ·å¯ä»¥å¯¹RDDè¿›è¡ŒåŠ¨ä½œï¼ˆactionsï¼‰æ“ä½œï¼Œå¦‚è®¡ç®—æ¶ˆæ¯çš„æ•°ç›®ï¼š</p><p><code>errors.count()</code></p><p>è¿™ä½ç”¨æˆ·ä¹Ÿå¯ä»¥å¯¹è¯¥RDDè¿›è¡Œè¿›ä¸€æ­¥çš„è½¬æ¢æ“ä½œå¹¶è¿ç”¨ä»–ä»¬çš„ç»“æœï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Count errors mentioning MySQL:</span></span><br><span class="line">errors.filter(_.contains(<span class="string">"MySQL"</span>)).count()</span><br><span class="line"><span class="comment">// Return the time fields of errors mentioning</span></span><br><span class="line"><span class="comment">// HDFS as an array (assuming time is field</span></span><br><span class="line"><span class="comment">// number 3 in a tab-separated format):</span></span><br><span class="line">errors.filter(_.contains(<span class="string">"HDFS"</span>))</span><br><span class="line">      .map(_.split(â€™\tâ€™)(<span class="number">3</span>))</span><br><span class="line">      .collect()</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€ä¸ªå¯¹errorsè¿›è¡ŒåŠ¨ä½œæ“ä½œä¹‹åï¼ŒSparkå°†åœ¨å†…å­˜ä¸­æ‘å¡¾errorsçš„å„åˆ†åŒºï¼Œè¿™æå¤§åœ°åŠ å¿«äº†ä¸‹æ¸¸çš„è®¡ç®—æ“ä½œã€‚æ³¨æ„ï¼Œæœ€åŸå§‹çš„RDDï¼Œlinesï¼Œä¸ä¼šåŠ è½½åˆ°RAMä¸­ã€‚è¿™æ˜¯å¯å–çš„ï¼Œå› ä¸ºé”™è¯¯æ¶ˆæ¯å¯èƒ½åªæ˜¯æ•°æ®çš„ä¸€å°éƒ¨åˆ†ï¼ˆå°åˆ°è¶³å¤Ÿæ”¾è¿›å†…å­˜ï¼‰ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060102174/0" alt></p><p>æœ€åä¸ºäº†è¯´æ˜æ¨¡å‹æ˜¯å¦‚ä½•å®ç°å®¹é”™çš„ï¼Œå›¾1å±•ç¤ºäº†è¯¥RDDsçš„lineageå›¾ã€‚åœ¨è¿™æ¬¡æŸ¥è¯¢ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹linesè¿›è¡Œè¿‡æ»¤å¾—åˆ°errorsï¼Œç„¶ååœ¨è¿è¡Œcollectæ“ä½œå‰è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„filterå’Œmapæ“ä½œã€‚Sparkè°ƒåº¦å™¨å°†ä¼šæµæ°´æ‰§è¡Œåä¸¤ä¸ªè½¬æ¢æ“ä½œå¹¶å‘ç¼“å­˜äº†errorsåˆ†åŒºçš„ç»“ç‚¹å‘é€ä»»åŠ¡çš„é›†åˆæ¥å¯¹å…¶è¿›è¡Œè®¡ç®—ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœerrorsçš„ä¸€ä¸ªåˆ†åŒºä¸¢å¤±äº†ï¼ŒSparkåªä¼šåœ¨ç›¸å…³çš„linesåˆ†åŒºä¸Šè¿›è¡Œè¿‡æ»¤æ“ä½œæ¥é‡å»ºä¸¢å¤±çš„åˆ†åŒºã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060116532/0" alt></p><h3 id="2-3-RDDæ¨¡å‹çš„ä¼˜åŠ¿"><a href="#2-3-RDDæ¨¡å‹çš„ä¼˜åŠ¿" class="headerlink" title="2.3 RDDæ¨¡å‹çš„ä¼˜åŠ¿"></a>2.3 RDDæ¨¡å‹çš„ä¼˜åŠ¿</h3><p>ä¸ºäº†ç†è§£RDDsä½œä¸ºåˆ†å¸ƒå¼å†…å­˜æŠ½è±¡çš„ä¼˜åŠ¿ï¼Œè¡¨1å°†å…¶ä¸åˆ†å¸ƒå¼å…±äº«å†…å­˜ï¼ˆDSMï¼‰è¿›è¡Œäº†æ¯”è¾ƒã€‚åœ¨DSMç³»ç»Ÿä¸­ï¼Œåº”ç”¨å¯¹å…¨å±€åœ°å€ç©ºé—´è¿›è¡Œéšæ„ä½ç½®çš„è¯»å†™ã€‚è¯·æ³¨æ„ï¼Œæ ¹æ®æ­¤å®šä¹‰ï¼Œæˆ‘ä»¬ä¸ä»…åŒ…å«äº†ä¼ ç»Ÿçš„å…±äº«å†…å­˜ç³»ç»Ÿ[24]ï¼Œè¿˜åŒ…æ‹¬åº”ç”¨å¯ä»¥è¿›è¡Œç»†ç²’åº¦å†™å…±äº«çŠ¶æ€çš„å…¶ä»–ç³»ç»Ÿï¼Œå¦‚Piccolo[27]ï¼Œå…¶æä¾›å…±äº«DHTå’Œåˆ†å¸ƒå¼æ•°æ®åº“ã€‚DSMæ˜¯éå¸¸é€šç”¨çš„æŠ½è±¡ï¼Œä½†æ˜¯è¿™æ ·çš„é€šç”¨æ€§ä½¿å…¶å¾ˆéš¾ä»¥ä¸€ç§é«˜æ•ˆä¸”å®¹é”™çš„æ–¹å¼è¿ç”¨åœ¨å•†ä¸šé›†ç¾¤ä¸Šã€‚</p><p>RDDsä¸DSMçš„ä¸»è¦ä¸åŒæ˜¯ï¼ŒRDDsåªèƒ½é€šè¿‡ç²—ç²’åº¦çš„è½¬æ¢æ“ä½œäº§ç”Ÿï¼ˆâ€œå†™â€ï¼‰ï¼Œè€ŒDSMå…è®¸åœ¨å†…å­˜ä¸­ä»»æ„ä½ç½®è¯»å†™ã€æ³¨æ„å¯¹RDDsçš„è¯»ä»ç„¶å¯ä»¥æ˜¯ç»†ç²’åº¦çš„ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç³»ç»Ÿå¯ä»¥å°†ä¸€ä¸ªRDDè§†ä¸ºä¸€ä¸ªå¤§å‹åªè¯»æŸ¥æ‰¾è¡¨ã€‘ã€‚è¿™ä¼šé™åˆ¶RDDsä¸ºæ‰§è¡Œæ‰¹é‡å†™å…¥çš„åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯è¿™ä½¿å¾—å…¶å…·æœ‰é«˜æ•ˆçš„å®¹é”™æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼ŒRDDä¸éœ€è¦äº§ç”Ÿæ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰çš„å¼€é”€ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä½¿ç”¨lineageæ¥æ¢å¤ã€åœ¨ä¸€äº›åº”ç”¨ä¸­ï¼Œåœ¨å…·æœ‰å¾ˆé•¿lineageé“¾çš„RDDsä¸­ä»ç„¶å¯ä»¥ä½¿ç”¨checkpointæŠ€æœ¯ï¼Œæˆ‘ä»¬å°†åœ¨5.4èŠ‚è®¨è®ºã€‚ä½†æ˜¯ï¼Œè¿™äº›å¯ä»¥åœ¨åå°å®Œæˆï¼Œå› ä¸ºRDDsæ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”ä¸éœ€è¦åƒåœ¨DSMä¸­é‚£æ ·ä¿ç•™æ•´ä¸ªåº”ç”¨ç¨‹åºçš„å¿«ç…§ã€‘ã€‚è€Œä¸”ï¼Œåªæœ‰ä¸¢å¤±çš„RDDåˆ†åŒºæ‰éœ€è¦åœ¨å¤±è´¥æ—¶é‡æ–°è®¡ç®—ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šå¹¶è¡Œè®¡ç®—ï¼Œè€Œä¸å¿…å›æ»šæ•´ä¸ªç¨‹åºã€‚</p><p>RDDsçš„ç¬¬äºŒä¸ªä¼˜åŠ¿æ˜¯ï¼Œç”±äºå®ƒä»¬ä¸å¯å˜çš„ç‰¹æ€§ï¼Œé€šè¿‡è¿è¡Œç¼“æ…¢ä»»åŠ¡çš„å‰¯æœ¬æ¥ç¼“è§£æ…¢ç»“ç‚¹å¯¹ç³»ç»Ÿæ‹–æ‹½çš„å‹åŠ›ï¼Œå°±å’ŒMapReduceä¸€æ ·[10]ã€‚ä½¿ç”¨DSMå¾ˆéš¾å®ç°å¤‡ä»½ä»»åŠ¡ï¼Œå› ä¸ºä»»åŠ¡çš„ä¸¤ä¸ªå‰¯æœ¬å°†è®¿é—®ç›¸åŒçš„å†…å­˜ä½ç½®å¹¶å¹²æ‰°å½¼æ­¤çš„æ›´æ–°ã€‚</p><p>æœ€åï¼ŒRDDsæä¾›äº†DSMæ²¡æœ‰çš„ä¸¤ä¸ªå…¶ä»–å¥½å¤„ã€‚å…¶ä¸€ï¼Œåœ¨å¯¹RDDsçš„æ‰¹é‡æ“ä½œä¸­ï¼Œä¸€ä¸ªè¿è¡Œæ—¶å¯ä»¥åŸºäºæ•°æ®çš„ä½ç½®è¿›è¡Œä»»åŠ¡è°ƒåº¦ä»¥æé«˜æ€§èƒ½ã€‚å…¶äºŒï¼Œå½“æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥å­˜å‚¨RDDsæ—¶ï¼Œå®ƒå°±ä¼šä¼˜é›…åœ°é™çº§ï¼Œä½¿å®ƒä»¬ä»…ç”¨äºæ‰«ææ“ä½œã€‚ä¸é€‚åˆRAMçš„åˆ†åŒºå¯ä»¥å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå¹¶æä¾›ä¸å½“æœŸæ•°æ®å¹¶è¡Œç³»ç»Ÿç±»ä¼¼çš„æ€§èƒ½ã€‚</p><h3 id="2-4-ä¸é€‚åˆRDDsçš„åº”ç”¨"><a href="#2-4-ä¸é€‚åˆRDDsçš„åº”ç”¨" class="headerlink" title="2.4 ä¸é€‚åˆRDDsçš„åº”ç”¨"></a>2.4 ä¸é€‚åˆRDDsçš„åº”ç”¨</h3><p>æ­£å¦‚å¼•è¨€ä¸­æ‰€è®¨è®ºçš„ï¼ŒRDDséå¸¸é€‚ç”¨äºå¯¹æ•°æ®é›†ä¸­æ‰€æœ‰å…ƒç´ è¿›è¡Œç›¸åŒæ“ä½œçš„æ‰¹å¤„ç†åº”ç”¨ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼ŒRDDså¯ä»¥æœ‰æ•ˆåœ°å°†æ¯ä¸ªè½¬æ¢ï¼ˆtransformationsï¼‰è®°å½•ä¸ºlineageå›¾ä¸­çš„ä¸€ä¸ªæ­¥éª¤ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸è®°å½•å¤§é‡æ•°æ®çš„æƒ…å†µä¸‹æ¢å¤ä¸¢å¤±çš„åˆ†åŒºã€‚RDDsä¸å¤ªé€‚åˆå¯¹å…±äº«çŠ¶æ€è¿›è¡Œå¼‚æ­¥ç»†ç²’åº¦å…±äº«çŠ¶æ€æ›´æ–°çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚Webåº”ç”¨ç¨‹åºçš„å­˜å‚¨ç³»ç»Ÿæˆ–å¢é‡Webçˆ¬ç½‘ç¨‹åºã€‚å¯¹äºè¿™äº›åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨æ‰§è¡Œä¼ ç»Ÿæ›´æ–°æ—¥å¿—è®°å½•å’Œcheckpointçš„ç³»ç»Ÿæ›´æœ‰æ•ˆï¼Œä¾‹å¦‚æ•°æ®åº“ï¼ŒRAMCloud [25]ï¼ŒPercolator [26]å’ŒPiccolo [27]ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºæ‰¹é‡åˆ†ææä¾›é«˜æ•ˆçš„ç¼–ç¨‹æ¨¡å‹ï¼Œå¹¶å°†è¿™äº›å¼‚æ­¥åº”ç”¨ç¨‹åºç•™ç»™ä¸“ç”¨ç³»ç»Ÿã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºæ‰¹é‡åˆ†ææä¾›é«˜æ•ˆçš„ç¼–ç¨‹æ¨¡å‹ï¼Œå¹¶å°†è¿™äº›å¼‚æ­¥åº”ç”¨ç¨‹åºç•™ç»™ä¸“ç”¨ç³»ç»Ÿã€‚</p><h2 id="3-Sparkç¼–ç¨‹æ¥å£"><a href="#3-Sparkç¼–ç¨‹æ¥å£" class="headerlink" title="3 Sparkç¼–ç¨‹æ¥å£"></a>3 Sparkç¼–ç¨‹æ¥å£</h2><p>Sparké€šè¿‡Scala [2]æä¾›ç±»ä¼¼äºDryadLINQ [31]è¯­è¨€é›†æˆAPIçš„RDDsæŠ½è±¡ï¼ŒScala [2]æ˜¯åŸºäºJava VMçš„é™æ€ç±»å‹å‡½æ•°ç¼–ç¨‹è¯­è¨€ã€‚æˆ‘ä»¬ä¹‹æ‰€ä»¥é€‰æ‹©Scalaï¼Œæ˜¯å› ä¸ºå®ƒç»“åˆäº†ç®€æ´ï¼ˆä¾¿äºäº¤äº’ä½¿ç”¨ï¼‰å’Œæ•ˆç‡ï¼ˆé™æ€ç±»å‹ï¼‰ã€‚ä½†æ˜¯ï¼Œå…³äºRDDæŠ½è±¡çš„ä»»ä½•å†…å®¹éƒ½ä¸éœ€è¦å‡½æ•°å¼è¯­è¨€</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060128798/0" alt></p><p>è¦ä½¿ç”¨Sparkï¼Œå¼€å‘äººå‘˜ç¼–å†™ä¸€ä¸ªè¿æ¥åˆ°ä¸€ç»„workersçš„driverç¨‹åºï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚é©±åŠ¨ç¨‹åºå®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªRDDså¹¶åœ¨å…¶ä¸Šè°ƒç”¨åŠ¨ä½œæ“ä½œã€‚é©±åŠ¨ç¨‹åºä¸Šçš„Sparkä»£ç ä¹Ÿä¼šè¿½è¸ªRDDsçš„lineageã€‚è¿™äº›workersæ˜¯é•¿æœŸå­˜åœ¨çš„è¿‡ç¨‹ï¼Œèƒ½å¤Ÿè·¨æ“ä½œåœ¨RAMä¸­å­˜å‚¨RDDsåˆ†åŒºã€‚</p><p>æ­£å¦‚æˆ‘ä»¬åœ¨2.2.1ä¸­çš„æ—¥å¿—æŒ–æ˜ä¾‹å­ä¸­æ‰€å±•ç¤ºï¼Œç”¨æˆ·æƒ³å¦‚mapè¿™æ ·çš„RDDæ“ä½œä¼ é€’é—­åŒ…ï¼ˆå‡½æ•°å½¢å¼ï¼‰æ¥æä¾›å‚æ•°ã€‚Scalaå°†æ¯ä¸ªé—­åŒ…è¡¨ç¤ºä¸ºJavaå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åºåˆ—åŒ–å¹¶åŠ è½½åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä»¥é€šè¿‡ç½‘ç»œä¼ é€’é—­åŒ…ã€‚Scalaä¹Ÿå°†åœ¨é—­åŒ…ä¸­ç»‘å®šçš„ä»»ä½•å˜é‡ä½œä¸ºJavaå¯¹è±¡çš„åŸŸã€‚æ¯”å¦‚ï¼Œå¯ä»¥ç¼–å†™ä»£ç ï¼švar x = 5; rdd.map(_ + x)ï¼Œå°†åœ¨RDDä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½åŠ 5ã€æˆ‘ä»¬åœ¨é—­åŒ…åˆ›å»ºæ—¶å¯¹å…¶è¿›è¡Œä¿å­˜ï¼Œè¿™æ ·ä¾‹å­ä¸­çš„mapæ“ä½œæ°¸è¿œéƒ½æ˜¯åŠ 5ï¼Œå³ä½¿xå‘ç”Ÿå˜åŒ–ã€‘ã€‚</p><p>RDDæœ¬èº«æ˜¯ç”±å…ƒç´ ç±»å‹å‚æ•°åŒ–çš„é™æ€ç±»å‹å¯¹è±¡ã€‚ä¾‹å¦‚ï¼ŒRDD [Int]æ˜¯æ•´æ•°çš„RDDã€‚ä½†æ˜¯ï¼Œç”±äºScalaæ”¯æŒç±»å‹æ¨æ–­ï¼Œå› æ­¤æˆ‘ä»¬çš„å¤§å¤šæ•°ç¤ºä¾‹éƒ½çœç•¥äº†ç±»å‹ã€‚</p><p>è™½ç„¶æˆ‘ä»¬åœ¨Scalaä¸­æš´éœ²RDDsçš„æ–¹æ³•åœ¨æ¦‚å¿µä¸Šå¾ˆç®€å•ï¼Œä½†æˆ‘ä»¬å¿…é¡»ä½¿ç”¨åå°„è§£å†³Scalaçš„é—­åŒ…å¯¹è±¡çš„é—®é¢˜[33]ã€‚æˆ‘ä»¬è¿˜éœ€è¦æ›´å¤šçš„å·¥ä½œæ¥ä½¿Sparkå¯ä»¥ä½¿ç”¨Scalaè§£é‡Šå™¨ï¼Œæˆ‘ä»¬å°†åœ¨5.2èŠ‚ä¸­è®¨è®ºã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸å¿…ä¿®æ”¹Scalaç¼–è¯‘å™¨ã€‚</p><h3 id="3-1-Sparkä¸­çš„RDDæ“ä½œ"><a href="#3-1-Sparkä¸­çš„RDDæ“ä½œ" class="headerlink" title="3.1 Sparkä¸­çš„RDDæ“ä½œ"></a>3.1 Sparkä¸­çš„RDDæ“ä½œ</h3><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060140749/0" alt></p><p>è¡¨2åˆ—å‡ºäº†Sparkä¸­å¯ç”¨çš„ä¸»è¦RDDè½¬æ¢å’ŒåŠ¨ä½œæ“ä½œã€‚æˆ‘ä»¬ç»™å‡ºæ¯ä¸ªæ“ä½œçš„ç­¾åï¼Œåœ¨æ–¹æ‹¬å·ä¸­æ˜¾ç¤ºç±»å‹å‚æ•°ã€‚å†æ¬¡å¼ºè°ƒè½¬æ¢ï¼ˆtransformationsï¼‰æ˜¯å®šä¹‰æ–°RDDçš„å»¶è¿Ÿæ“ä½œï¼Œè€ŒåŠ¨ä½œï¼ˆactionsï¼‰å¯åŠ¨è®¡ç®—å°†å‘ç¨‹åºè¿”å›å€¼æˆ–å°†æ•°æ®å†™å…¥å¤–éƒ¨å­˜å‚¨ã€‚</p><p>è¯·æ³¨æ„ï¼ŒæŸäº›æ“ä½œï¼ˆå¦‚joinï¼‰ä»…é€‚ç”¨äºé”®å€¼å¯¹çš„RDDsã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å‡½æ•°åç§°è¢«é€‰æ‹©ä¸ºä¸Scalaå’Œå…¶ä»–å‡½æ•°å¼è¯­è¨€ä¸­çš„å…¶ä»–APIåŒ¹é…ï¼›ä¾‹å¦‚ï¼Œmapæ˜¯ä¸€å¯¹ä¸€æ˜ å°„ï¼Œè€ŒflatMapå°†æ¯ä¸ªè¾“å…¥å€¼æ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºï¼ˆç±»ä¼¼äºMapReduceä¸­çš„æ˜ å°„ï¼‰ã€‚</p><p>é™¤äº†è¿™äº›è¿ç®—ç¬¦ï¼Œç”¨æˆ·è¿˜å¯ä»¥æŒä¹…åŒ–RDDã€‚æ­¤å¤–ï¼Œç”¨æˆ·å¯ä»¥è·å¾—RDDçš„åˆ†åŒºé¡ºåºï¼ˆç”±Partitionerç±»è¡¨ç¤ºï¼‰ï¼Œå¹¶æ ¹æ®å®ƒå¯¹å¦ä¸€ä¸ªæ•°æ®é›†è¿›è¡Œåˆ†åŒºã€‚è¯¸å¦‚groupByKeyï¼ŒreduceByKeyå’Œsortæ“ä½œè‡ªåŠ¨åœ°ä¼šäº§ç”Ÿå“ˆå¸Œæˆ–èŒƒå›´åˆ†åŒºçš„RDDã€‚</p><h3 id="3-2-ç¤ºä¾‹åº”ç”¨"><a href="#3-2-ç¤ºä¾‹åº”ç”¨" class="headerlink" title="3.2 ç¤ºä¾‹åº”ç”¨"></a>3.2 ç¤ºä¾‹åº”ç”¨</h3><p>æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªè¿­ä»£åº”ç”¨ç¨‹åºè¡¥å……äº†2.2.1èŠ‚ä¸­çš„æ•°æ®æŒ–æ˜ç¤ºä¾‹ï¼šé€»è¾‘å›å½’å’ŒPageRankã€‚åè€…è¿˜å±•ç¤ºäº†å¦‚ä½•æ§åˆ¶RDDçš„åˆ†åŒºä»¥æé«˜æ€§èƒ½ã€‚</p><h4 id="3-2-1-logisticå›å½’"><a href="#3-2-1-logisticå›å½’" class="headerlink" title="3.2.1 logisticå›å½’"></a>3.2.1 logisticå›å½’</h4><p>è®¸å¤šæœºå™¨å­¦ä¹ ç®—æ³•æœ¬è´¨ä¸Šæ˜¯è¿­ä»£çš„ï¼Œå› ä¸ºå®ƒä»¬è¿è¡Œè¿­ä»£ä¼˜åŒ–è¿‡ç¨‹ï¼Œä¾‹å¦‚æ¢¯åº¦ä¸‹é™ï¼Œä»¥æœ€å¤§åŒ–åŠŸèƒ½ã€‚å› æ­¤ï¼Œé€šè¿‡å°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä»¥æ›´å¿«åœ°è¿è¡Œã€‚</p><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¨‹åºå®ç°äº†é€»è¾‘å›å½’[14]ï¼Œè¿™æ˜¯ç”¨äºæœç´¢æœ€èƒ½åˆ†å¼€ä¸¤ç±»ç‚¹ï¼ˆä¾‹å¦‚ï¼Œåƒåœ¾é‚®ä»¶å’Œéåƒåœ¾é‚®ä»¶ï¼‰çš„è¶…å¹³é¢wçš„ä¸€ä¸ªé€šç”¨ç®—æ³•ã€‚è¯¥ç®—æ³•ä½¿ç”¨æ¢¯åº¦ä¸‹é™ï¼šå®ƒä»¥éšæœºå€¼å¼€å§‹wï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡è¿­ä»£æ—¶ï¼Œå®ƒå°†wçš„å‡½æ•°ä¸æ•°æ®ç›¸åŠ ä»¥æ²¿ç€æ”¹å–„å®ƒçš„æ–¹å‘ç§»åŠ¨ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> points = spark.textFile(...)</span><br><span class="line">                  .map(parsePoint).persist()</span><br><span class="line"><span class="keyword">var</span> w = <span class="comment">// random initial vector</span></span><br><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="type">ITERATIONS</span>) &#123;</span><br><span class="line">  <span class="keyword">val</span> gradient = points.map&#123; p =&gt;</span><br><span class="line">    p.x * (<span class="number">1</span>/(<span class="number">1</span>+exp(-p.y*(w dot p.x)))<span class="number">-1</span>)*p.y</span><br><span class="line">  &#125;.reduce((a,b) =&gt; a+b)</span><br><span class="line">  w -= gradient</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªåä¸ºpointsçš„æŒä¹…RDDä½œä¸ºæ–‡æœ¬æ–‡ä»¶ä¸Šçš„mapè½¬æ¢çš„ç»“æœï¼Œè¯¥æ–‡æœ¬æ–‡ä»¶å°†æ¯è¡Œæ–‡æœ¬è§£æä¸ºPointå¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡å¯¹å½“å‰wçš„å‡½æ•°æ±‚å’Œï¼Œå¯¹pointsé‡å¤è¿è¡Œmapå’Œreduceä»¥è®¡ç®—æ¯ä¸€æ­¥çš„æ¢¯åº¦ã€‚åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­å°†pointsä¿å­˜åœ¨å†…å­˜ä¸­å¯ä»¥è·å¾—20å€çš„åŠ é€Ÿï¼Œè¿™å°†åœ¨6.1èŠ‚å±•ç¤ºã€‚</p><h4 id="3-2-2-PageRank"><a href="#3-2-2-PageRank" class="headerlink" title="3.2.2 PageRank"></a>3.2.2 PageRank</h4><p>æ›´å¤æ‚çš„æ•°æ®å…±äº«æ¨¡å¼å‘ç”Ÿåœ¨PageRank [6]ã€‚ç®—æ³•é€šè¿‡ç´¯åŠ åœ¨æ–‡ä»¶ä¸­å¯¹æ¯ä¸ªæ–‡ä»¶çš„åº”ç”¨æ¬¡æ•°è¿­ä»£åœ°æ›´æ–°æ¯ä¸€æ–‡ä»¶çš„rankã€‚åœ¨æ¯æ¬¡è¿­ä»£æ—¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½å‘å…¶é‚»å±…å‘é€r/nçš„è´¡çŒ®å€¼ï¼Œræ˜¯å…¶æ’åï¼Œnæ˜¯å…¶é‚»å±…çš„æ•°é‡ã€‚ç„¶åé€šè¿‡Î±/N + (1 âˆ’ Î±)âˆ‘ciå¼å­æ›´æ–°æ’åï¼Œå…¶ä¸­æ±‚å’Œæ˜¯å®ƒæ‰€æ”¶åˆ°çš„è´¡çŒ®å€¼ï¼Œè€ŒNæ˜¯æ–‡ä»¶çš„æ€»æ•°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç Sparkä¸­å®ç°PageRankï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Load graph as an RDD of (URL, outlinks) pairs</span></span><br><span class="line"><span class="keyword">val</span> links = spark.textFile(...).map(...).persist()</span><br><span class="line"><span class="keyword">var</span> ranks = <span class="comment">// RDD of (URL, rank) pairs</span></span><br><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="type">ITERATIONS</span>) &#123;</span><br><span class="line"><span class="comment">// Build an RDD of (targetURL, float) pairs</span></span><br><span class="line">  <span class="comment">// with the contributions sent by each page</span></span><br><span class="line">  <span class="keyword">val</span> contribs = links.join(ranks).flatMap &#123;</span><br><span class="line">    (url, (links, rank)) =&gt;</span><br><span class="line">      links.map(dest =&gt; (dest, rank/links.size))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Sum contributions by URL and get new ranks</span></span><br><span class="line">  ranks = contribs.reduceByKey((x,y) =&gt; x+y)</span><br><span class="line">             .mapValues(sum =&gt; a/<span class="type">N</span> + (<span class="number">1</span>-a)*sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://puui.qpic.cn/fans_admin/0/3_1599777765_1557060154806/0" alt></p><p>è¯¥ç¨‹åºäº§ç”Ÿå›¾3ä¸­çš„RDD lineageå›¾ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬åŸºäºæ¥è‡ªå…ˆå‰çš„è¿­ä»£çš„contribså’Œranksä»¥åŠé™æ€linksæ•°æ®é›†æ¥åˆ›å»ºæ–°çš„æ’åæ•°æ®é›†ã€è¯·æ³¨æ„ï¼Œå°½ç®¡RDDæ˜¯ä¸å¯å˜çš„ï¼Œä½†ç¨‹åºä¸­çš„å˜é‡rankå’ŒcontribsæŒ‡å‘æ¯æ¬¡è¿­ä»£æ—¶çš„ä¸åŒRDDsã€‘ã€‚å›¾3çš„ä¸€ä¸ªæœ‰è¶£ç‰¹å¾æ˜¯éšç€è¿­ä»£æ•°ç›®çš„å¢åŠ è€Œä¸æ–­å¢é•¿ã€‚å› æ­¤ï¼Œåœ¨å…·æœ‰å¤šæ¬¡è¿­ä»£çš„ä½œä¸šä¸­ï¼Œå¯èƒ½éœ€è¦å¯é åœ°å¤åˆ¶æŸäº›ç‰ˆæœ¬çš„ranksä»¥å‡å°‘æ•…éšœæ¢å¤æ—¶é—´[20]ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨RELIABLEæ ‡å¿—è°ƒç”¨persistæ¥æ‰§è¡Œæ­¤æ“ä½œã€‚ä½†è¯·æ³¨æ„ï¼Œä¸éœ€è¦å¤åˆ¶linksæ•°æ®é›†ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡åœ¨è¾“å…¥æ–‡ä»¶çš„å—ä¸Šé‡æ–°è¿è¡Œmapæ¥æœ‰æ•ˆåœ°é‡å»ºå®ƒçš„åˆ†åŒºã€‚æ­¤æ•°æ®é›†é€šå¸¸æ¯”rankså¤§å¾—å¤šï¼Œå› ä¸ºæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰è®¸å¤šé“¾æ¥ï¼Œä½†åªæœ‰ä¸€ä¸ªæ•°å­—ä½œä¸ºå…¶æ’åï¼Œå› æ­¤ä½¿ç”¨lineageæ¢å¤å®ƒæ¯”ä½¿ç”¨checkpointå›å¤ç¨‹åºæ•´ä¸ªå†…å­˜ä¸­çŠ¶æ€çš„ç³»ç»Ÿæ›´èŠ‚çœæ—¶é—´ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ§åˆ¶RDDsçš„åˆ†åŒºæ¥ä¼˜åŒ–PageRankä¸­çš„é€šä¿¡ã€‚å¦‚æœæˆ‘ä»¬æŒ‡å®šlinksçš„åˆ†åŒºï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡èŠ‚ç‚¹é—´çš„URLå¯¹link listsè¿›è¡Œå“ˆå¸Œåˆ†åŒºï¼‰ï¼Œä»¥ç›¸åŒçš„æ–¹å¼å¯¹ranksè¿›è¡Œåˆ†åŒºï¼Œè¿™æ ·å°±ç¡®ä¿linkså’Œranksä¹‹é—´çš„joinæ“ä½œä¸éœ€è¦é€šä¿¡ï¼ˆå› ä¸ºæ¯ä¸ªURLçš„æ’åå°†ä¸å…¶link liståœ¨åŒä¸€å°æœºå™¨ä¸Šï¼‰ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™è‡ªå®šä¹‰åˆ†åŒºç¨‹åºç±»æ¥å¯¹ç›¸äº’é“¾æ¥çš„é¡µé¢è¿›è¡Œåˆ†ç»„ï¼ˆä¾‹å¦‚ï¼ŒæŒ‰åŸŸåå¯¹URLè¿›è¡Œåˆ†åŒºï¼‰ã€‚åœ¨å®šä¹‰linksæ—¶ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨partitionByæ¥è¡¨ç¤ºè¿™ä¸¤ç§ä¼˜åŒ–ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">links = spark.textFile(...).map(...)</span><br><span class="line">             .partitionBy(myPartFunc).persist()</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åˆå§‹åŒ–ä¹‹åï¼Œlinkså’Œranksä¹‹é—´çš„joinæ“ä½œä¼šè‡ªåŠ¨åœ°å°†æ¯ä¸ªURLçš„è´¡çŒ®å€¼èšé›†åˆ°å®ƒlink listsæ‰€åœ¨çš„æœºå™¨ä¸Šï¼Œåœ¨è¿™å°æœºå™¨ä¸Šè®¡ç®—æ–°çš„æ’åå¹¶ä¸å®ƒçš„linksè¿›è¡Œjoinæ“ä½œã€‚è¿™ç§è·¨è¿­ä»£çš„ä¸€è‡´åˆ†åŒºæ˜¯Pregelç­‰ä¸“ç”¨æ¡†æ¶ä¸­çš„ä¸»è¦ä¼˜åŒ–ä¹‹ä¸€ã€‚ RDDsè®©ç”¨æˆ·ç›´æ¥è¡¨è¾¾è¿™ä¸€ç›®æ ‡ã€‚</p><h2 id="4-è¡¨ç¤ºRDDs"><a href="#4-è¡¨ç¤ºRDDs" class="headerlink" title="4 è¡¨ç¤ºRDDs"></a>4 è¡¨ç¤ºRDDs</h2><p>æä¾›RDDä½œä¸ºæŠ½è±¡çš„æŒ‘æˆ˜ä¹‹ä¸€æ˜¯ä¸ºå®ƒä»¬é€‰æ‹©ä¸€ç§èƒ½å¤Ÿè·Ÿè¸ªå„ç§è½¬æ¢æ“ä½œçš„lineageçš„è¡¨ç¤ºã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå®ç°RDDçš„ç³»ç»Ÿåº”è¯¥æä¾›å°½å¯èƒ½ä¸°å¯Œçš„ä¸€ç»„è½¬æ¢æ“ä½œï¼ˆä¾‹å¦‚ï¼Œè¡¨2ä¸­çš„è½¬æ¢æ“ä½œï¼‰ï¼Œå¹¶è®©ç”¨æˆ·ä»¥ä»»æ„æ–¹å¼ç»„åˆå®ƒä»¬ã€‚æˆ‘ä»¬ä¸ºRDDæå‡ºäº†ä¸€ä¸ªç®€å•çš„åŸºäºå›¾çš„è¡¨ç¤ºï¼Œä»¥è¾¾åˆ°è¿™äº›ç›®æ ‡ã€‚æˆ‘ä»¬åœ¨Sparkä¸­ä½¿ç”¨è¿™ç§è¡¨ç¤ºæ¥æ”¯æŒå„ç§è½¬æ¢ï¼Œè€Œæ— éœ€ä¸ºè°ƒåº¦å™¨æ·»åŠ é’ˆå¯¹æ¯ä¸ªè½¬æ¢çš„ç‰¹æ®Šé€»è¾‘ï¼Œè¿™å¤§å¤§ç®€åŒ–äº†ç³»ç»Ÿè®¾è®¡ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å»ºè®®é€šè¿‡ä¸€ä¸ªå…¬å…±æ¥å£æ¥è¡¨ç¤ºæ¯ä¸ªRDDï¼Œè¿™ä¸ªæ¥å£åŒ…å«äº”æ¡ä¿¡æ¯ï¼šä¸€ç»„åˆ†åŒºï¼Œå®ƒä»¬æ˜¯æ•°æ®é›†çš„åŸå­éƒ¨åˆ†ï¼›çˆ¶RDDsï¼ˆparent RDDsï¼‰çš„ä¸€ç»„ä¾èµ–å…³ç³»ï¼›åŸºäºå…¶çˆ¶RDDsè®¡ç®—æ•°æ®é›†çš„å‡½æ•°ï¼›æœ‰å…³å…¶åˆ†åŒºæ–¹æ¡ˆå’Œæ•°æ®æ”¾ç½®çš„å…ƒæ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¡¨ç¤ºHDFSæ–‡ä»¶çš„RDDå…·æœ‰æ–‡ä»¶çš„æ¯ä¸ªå—çš„åˆ†åŒºï¼Œå¹¶ä¸”çŸ¥é“æ¯ä¸ªå—æ‰€åœ¨çš„æœºå™¨ã€‚åŒæ—¶ï¼Œå¯¹äºè¿™ä¸ªRDDè¿›è¡Œmapæ“ä½œçš„ç»“æœå…·æœ‰ç›¸åŒçš„åˆ†åŒºï¼Œä½†æ˜¯åœ¨è®¡ç®—å…¶å…ƒç´ æ—¶å°†åœ¨çˆ¶æ•°æ®ä¸Šåº”ç”¨mapæ–¹æ³•ã€‚æˆ‘ä»¬åœ¨è¡¨3ä¸­æ€»ç»“äº†è¿™ä¸ªæ¥å£ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_234219102_1557060167174/0" alt></p><p>è®¾è®¡æ­¤æ¥å£æ—¶æœ€æœ‰è¶£çš„é—®é¢˜æ˜¯å¦‚ä½•è¡¨ç¤ºRDDsä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚æˆ‘ä»¬å‘ç°å°†ä¾èµ–å…³ç³»åˆ†ä¸ºä¸¤ç±»æ˜¯è¶³å¤Ÿä¸”æœ‰ç”¨çš„ï¼šçª„ä¾èµ–å…³ç³»ï¼ˆnarrow dependenciesï¼‰ï¼Œå…¶ä¸­çˆ¶RDDçš„æ¯ä¸ªåˆ†åŒºæœ€å¤šç”±å­RDDçš„ä¸€ä¸ªåˆ†åŒºä½¿ç”¨ï¼›å®½ä¾èµ–å…³ç³»ï¼ˆwide dependenciesï¼‰ï¼Œå…¶ä¸­å¤šä¸ªå­RDDåˆ†åŒºå¯èƒ½ä¾èµ–ä¸€ä¸ªçˆ¶DDåˆ†åŒºã€‚ä¾‹å¦‚ï¼Œmapå¯¼è‡´çª„ä¾èµ–å…³ç³»ï¼Œè€Œjoinå¯¼è‡´å®½ä¾èµ–å…³ç³»ï¼ˆé™¤éçˆ¶RDDæ˜¯å“ˆå¸Œåˆ†åŒºçš„ï¼‰ã€‚å›¾4æ˜¾ç¤ºäº†å…¶ä»–ç¤ºä¾‹ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_256675758_1557060251325/0" alt></p><p>è¿™æ ·åŒºåˆ†æœ‰ä¸¤ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œçª„ä¾èµ–å…³ç³»å…è®¸åœ¨ä¸€ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šè¿›è¡Œæµæ°´çº¿æ‰§è¡Œï¼Œè¿™å¯ä»¥è®¡ç®—æ‰€æœ‰çˆ¶åˆ†åŒºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€ä¸ªå…ƒç´ åœ°åº”ç”¨mapï¼Œç„¶ååº”ç”¨filteræ“ä½œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå®½ä¾èµ–å…³ç³»è¦æ±‚æ‰€æœ‰çˆ¶åˆ†åŒºçš„æ•°æ®éƒ½å·²ç»è®¡ç®—å®Œæˆï¼Œå¹¶ä½¿ç”¨ç±»ä¼¼MapReduceçš„æ“ä½œåœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œshuffleã€‚å…¶æ¬¡ï¼ŒèŠ‚ç‚¹æ•…éšœåçš„æ¢å¤åœ¨çª„ä¾èµ–æ—¶æ›´æœ‰æ•ˆï¼Œå› ä¸ºåªéœ€è¦é‡æ–°è®¡ç®—ä¸¢å¤±çš„å¯¹åº”çš„çˆ¶åˆ†åŒºï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šå¹¶è¡Œåœ°é‡æ–°è®¡ç®—å®ƒä»¬ã€‚ç›¸åï¼Œåœ¨å…·æœ‰å®½ä¾èµ–çš„lineageå›¾ä¸­ï¼Œå•ä¸ªæ•…éšœèŠ‚ç‚¹å¯èƒ½å¯¼è‡´RDDçš„æ‰€æœ‰ç¥–å…ˆä¸¢å¤±æŸäº›åˆ†åŒºï¼Œä»è€Œéœ€è¦å®Œå…¨é‡æ–°æ‰§è¡Œè®¡ç®—ã€‚</p><p>RDDsçš„è¿™ä¸ªé€šç”¨æ¥å£ä½¿å¾—å¯ä»¥åœ¨å°‘äº20è¡Œä»£ç ä¸­å®ç°Sparkä¸­çš„å¤§å¤šæ•°è½¬æ¢æ“ä½œã€‚å®é™…ä¸Šï¼Œå³ä½¿æ˜¯æ–°çš„Sparkç”¨æˆ·ä¹Ÿå·²ç»å®ç°äº†æ–°çš„è½¬æ¢ï¼ˆä¾‹å¦‚ï¼Œé‡‡æ ·å’Œå„ç§ç±»å‹çš„joinï¼‰ï¼Œè€Œä¸ç”¨çŸ¥é“è°ƒåº¦å™¨çš„ç»†èŠ‚ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢é˜è¿°ä¸€äº›RDDå®ç°ã€‚</p><p><strong>HDFSæ–‡ä»¶ï¼š</strong><br>æˆ‘ä»¬æ ·æœ¬ä¸­çš„è¾“å…¥RDDsæ˜¯HDFSä¸­çš„æ–‡ä»¶ã€‚å¯¹äºè¿™äº›RDDsï¼Œpartitionsä¸ºæ–‡ä»¶çš„æ¯ä¸ªå—è¿”å›ä¸€ä¸ªåˆ†åŒºï¼ˆå—çš„åç§»é‡å­˜å‚¨åœ¨æ¯ä¸ªPartitionå¯¹è±¡ä¸­ï¼‰ï¼ŒpreferredLocationsç»™å‡ºå—æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œiteratorè¯»å–å—ã€‚</p><p><strong>mapï¼š</strong><br>åœ¨ä»»ä½•RDDä¸Šè°ƒç”¨mapéƒ½ä¼šè¿”å›MappedRDDå¯¹è±¡ã€‚è¯¥æ“ä½œä¼ é€’ä¸€ä¸ªå‡½æ•°å‚æ•°ç»™mapï¼Œå¯¹çˆ¶RDDä¸Šçš„è®°å½•æŒ‰ç…§iteratorçš„æ–¹å¼æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ç»„ç¬¦åˆæ¡ä»¶çš„çˆ¶RDDåˆ†åŒºåŠå…¶ä½ç½®ã€‚</p><p><strong>unionï¼š</strong><br>åœ¨ä¸¤ä¸ªRDDä¸Šæ‰§è¡Œunionæ“ä½œï¼Œè¿”å›ä¸¤ä¸ªçˆ¶RDDåˆ†åŒºçš„å¹¶é›†ã€‚é€šè¿‡ç›¸åº”çˆ¶RDDä¸Šçš„çª„ä¾èµ–å…³ç³»è®¡ç®—æ¯ä¸ªå­RDDåˆ†åŒºã€7æ³¨æ„unionæ“ä½œä¸ä¼šè¿‡æ»¤é‡å¤å€¼ã€‘ã€‚</p><p><strong>joinï¼š</strong><br>å¯¹ä¸¤ä¸ªRDDæ‰§è¡Œjoinæ“ä½œå¯èƒ½äº§ç”Ÿçª„ä¾èµ–ï¼ˆå¦‚æœè¿™ä¸¤ä¸ªRDDæ‹¥æœ‰ç›¸åŒçš„å“ˆå¸Œåˆ†åŒºæˆ–èŒƒå›´åˆ†åŒºï¼‰ï¼Œå¯èƒ½æ˜¯å®½ä¾èµ–ï¼Œä¹Ÿå¯èƒ½ä¸¤ç§ä¾èµ–éƒ½æœ‰ï¼ˆæ¯”å¦‚ä¸€ä¸ªçˆ¶RDDæœ‰åˆ†åŒºï¼Œè€Œå¦ä¸€çˆ¶RDDæ²¡æœ‰ï¼‰ã€‚åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œè¾“å‡ºRDDéƒ½æœ‰ä¸€ä¸ªåˆ†åŒºç¨‹åºï¼ˆä»çˆ¶é¡¹ç»§æ‰¿çš„åˆ†åŒºç¨‹åºæˆ–é»˜è®¤çš„æ•£åˆ—åˆ†åŒºç¨‹åºï¼‰ã€‚</p><h2 id="5-å®ç°"><a href="#5-å®ç°" class="headerlink" title="5 å®ç°"></a>5 å®ç°</h2><p>æˆ‘ä»¬å¤§çº¦ç”¨14000è¡Œscalaä»£ç å®ç°äº†Sparkã€‚è¯¥ç³»ç»Ÿè¿è¡Œåœ¨Mesosé›†ç¾¤ç®¡ç†å™¨[17]ä¸Šï¼Œå…è®¸å®ƒä¸Hadoopï¼ŒMPIå’Œå…¶ä»–åº”ç”¨ç¨‹åºå…±äº«èµ„æºã€‚æ¯ä¸ªSparkç¨‹åºä½œä¸ºå•ç‹¬çš„Mesosåº”ç”¨ç¨‹åºè¿è¡Œï¼Œå…·æœ‰è‡ªå·±çš„é©±åŠ¨ç¨‹åºï¼ˆmasterï¼‰å’Œå·¥ä½œç¨‹åºï¼ˆworkersï¼‰ï¼Œè¿™äº›åº”ç”¨ç¨‹åºä¹‹é—´çš„èµ„æºå…±äº«ç”±Mesosç®¡ç†çš„ã€‚Sparkå¯ä»¥ä½¿ç”¨Hadoopç°æœ‰çš„è¾“å…¥æ’ä»¶APIä»ä»»ä½•Hadoopè¾“å…¥æºï¼ˆä¾‹å¦‚ï¼ŒHDFSæˆ–HBaseï¼‰è¯»å–æ•°æ®ï¼Œå¹¶åœ¨æœªç»ä¿®æ”¹çš„Scalaç‰ˆæœ¬ä¸Šè¿è¡Œã€‚</p><p>æˆ‘ä»¬ç°åœ¨ç®€è¦ä»‹ç»ç³»ç»Ÿä¸­å‡ ä¸ªæŠ€æœ¯ä¸Šæœ‰è¶£çš„éƒ¨åˆ†ï¼šæˆ‘ä»¬çš„ä½œä¸šè°ƒåº¦ç¨‹åºï¼ˆç¬¬5.1èŠ‚ï¼‰ï¼Œå…è®¸äº¤äº’å¼ä½¿ç”¨çš„Sparkè§£é‡Šå™¨ï¼ˆç¬¬5.2èŠ‚ï¼‰ï¼Œå†…å­˜ç®¡ç†ï¼ˆç¬¬5.3èŠ‚ï¼‰å’Œæ”¯æŒæ£€æŸ¥ç‚¹ï¼ˆç¬¬5.4èŠ‚ï¼‰ã€‚</p><h3 id="5-1-ä½œä¸šè°ƒåº¦"><a href="#5-1-ä½œä¸šè°ƒåº¦" class="headerlink" title="5.1 ä½œä¸šè°ƒåº¦"></a>5.1 ä½œä¸šè°ƒåº¦</h3><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060276767/0" alt></p><p>Sparkçš„è°ƒåº¦ç¨‹åºä½¿ç”¨æˆ‘ä»¬åœ¨ç¬¬4èŠ‚æ‰€è¿°çš„RDDè¡¨ç¤ºã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„è°ƒåº¦ç¨‹åºç±»ä¼¼äºDryadçš„[19]ï¼Œä½†æ˜¯å¦å¤–è€ƒè™‘äº†RDDsåœ¨å†…å­˜ä¸­æŒä¹…åŒ–çš„åˆ†åŒºã€‚æ¯å½“ç”¨æˆ·åœ¨RDDä¸Šè¿è¡ŒåŠ¨ä½œï¼ˆä¾‹å¦‚ï¼Œcountæˆ–saveï¼‰æ—¶ï¼Œè¯¥è°ƒåº¦ç¨‹åºå°±ä¼šæ£€æŸ¥è¯¥RDDçš„lineageå›¾ä»¥æ„å»ºè¦æ‰§è¡Œçš„stageçš„DAGï¼Œå¦‚å›¾5æ‰€ç¤ºã€‚æ¯ä¸ªé˜¶æ®µåŒ…å«å°½å¯èƒ½å¤šçš„å…·æœ‰çª„ä¾èµ–çš„æµæ°´çº¿è½¬æ¢ã€‚é˜¶æ®µçš„è¾¹ç•Œæ˜¯å®½ä¾èµ–æ‰€éœ€çš„shuffleæ“ä½œï¼Œæˆ–ä»»ä½•å·²ç»è®¡ç®—è¿‡çš„åˆ†åŒºï¼Œå®ƒä»¬å¯ä»¥è·³è¿‡çˆ¶RDDçš„è®¡ç®—ã€‚ç„¶åï¼Œè°ƒåº¦ç¨‹åºå¯åŠ¨ä»»åŠ¡ä»¥è®¡ç®—æ¯ä¸ªé˜¶æ®µä¸­ä¸¢å¤±çš„åˆ†åŒºï¼Œç›´åˆ°è®¡ç®—å‡ºç›®æ ‡RDDä¸ºæ­¢ã€‚</p><p>æˆ‘ä»¬çš„è°ƒåº¦ç¨‹åºåŸºäºæ•°æ®ä½ç½®ä½¿ç”¨å»¶è¿Ÿè°ƒåº¦å°†ä»»åŠ¡åˆ†é…ç»™æœºå™¨[32]ã€‚å¦‚æœä»»åŠ¡éœ€è¦å¤„ç†èŠ‚ç‚¹å†…å­˜ä¸­å¯ç”¨çš„åˆ†åŒºï¼Œæˆ‘ä»¬ä¼šå°†å…¶å‘é€åˆ°è¯¥èŠ‚ç‚¹ã€‚å¦åˆ™ï¼Œå¦‚æœä»»åŠ¡å¤„ç†åŒ…å«RDDæä¾›ä¼˜é€‰ä½ç½®çš„åˆ†åŒºï¼ˆä¾‹å¦‚ï¼ŒHDFSæ–‡ä»¶ï¼‰ï¼Œæˆ‘ä»¬å°†å…¶å‘é€ç»™é‚£äº›åˆ†åŒºã€‚</p><p>å¯¹äºå®½ä¾èµ–å…³ç³»ï¼ˆå³ï¼Œshuffleä¾èµ–å…³ç³»ï¼‰ï¼Œæˆ‘ä»¬ç›®å‰åœ¨åŒ…å«çˆ¶åˆ†åŒºçš„èŠ‚ç‚¹ä¸Šç‰©åŒ–ä¸­é—´è®°å½•ä»¥ç®€åŒ–æ•…éšœæ¢å¤ï¼Œå°±åƒMapReduceç‰©åŒ–mapè¾“å‡ºä¸€æ ·ã€‚</p><p>å¦‚æœä»»åŠ¡å¤±è´¥ï¼Œåªè¦å…¶é˜¶æ®µçš„çˆ¶é¡¹ä»ç„¶å¯ç”¨ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šé‡æ–°è¿è¡Œå®ƒã€‚å¦‚æœæŸäº›é˜¶æ®µå˜å¾—ä¸å¯ç”¨ï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºæ¥è‡ªshuffleçš„â€œmap sideâ€çš„è¾“å‡ºä¸¢å¤±ï¼‰ï¼Œæˆ‘ä»¬é‡æ–°æäº¤ä»»åŠ¡ä»¥å¹¶è¡Œè®¡ç®—ä¸¢å¤±çš„åˆ†åŒºã€‚æˆ‘ä»¬è¿˜ä¸èƒ½è§£å†³è°ƒåº¦ç¨‹åºçš„å¤±è´¥ï¼Œå°½ç®¡å¤åˆ¶RDDçš„lineageå›¾ä¼šæ›´ç®€å•ã€‚</p><p>æœ€åï¼Œå°½ç®¡Sparkä¸­çš„æ‰€æœ‰è®¡ç®—å½“å‰éƒ½æ˜¯ä¸ºå“åº”é©±åŠ¨ç¨‹åºä¸­è°ƒç”¨çš„æ“ä½œè€Œè¿è¡Œçš„ï¼Œä½†æˆ‘ä»¬ä¹Ÿåœ¨å°è¯•è®©é›†ç¾¤ä¸Šçš„ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼Œæ˜ å°„ï¼‰è°ƒç”¨lookupæ“ä½œï¼Œå…¶æä¾›æ ¹æ®é”®å€¼å¯¹å“ˆå¸Œåˆ†åŒºçš„RDDsä¸­çš„å…ƒç´ è¿›è¡Œéšæœºè·å–ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»åŠ¡éœ€è¦å‘Šè¯‰è°ƒåº¦ç¨‹åºåœ¨ç¼ºå°‘æ—¶è®¡ç®—æ‰€éœ€çš„åˆ†åŒºã€‚</p><h3 id="5-2-è§£é‡Šå™¨æ•´åˆ"><a href="#5-2-è§£é‡Šå™¨æ•´åˆ" class="headerlink" title="5.2 è§£é‡Šå™¨æ•´åˆ"></a>5.2 è§£é‡Šå™¨æ•´åˆ</h3><p>ScalaåŒ…å«ä¸€ä¸ªç±»ä¼¼äºRubyå’ŒPythonçš„äº¤äº’å¼shellã€‚é‰´äºå†…å­˜æ•°æ®çš„å»¶è¿Ÿè¾ƒä½ï¼Œæˆ‘ä»¬å¸Œæœ›è®©ç”¨æˆ·ä»è§£é‡Šå™¨ä¸»åŠ¨è¿è¡ŒSparkæ¥æŸ¥è¯¢å¤§æ•°æ®é›†ã€‚</p><p>Scalaè§£é‡Šå™¨é€šå¸¸é€šè¿‡ä¸ºç”¨æˆ·é”®å…¥çš„æ¯ä¸€è¡Œç¼–è¯‘ä¸€ä¸ªç±»ï¼Œå°†å…¶åŠ è½½åˆ°JVMä¸­ï¼Œå¹¶åœ¨å…¶ä¸Šè°ƒç”¨å‡½æ•°æ¥æ“ä½œã€‚è¯¥ç±»åŒ…å«ä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«è¯¥è¡Œä¸Šçš„å˜é‡æˆ–å‡½æ•°ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­è¿è¡Œè¡Œä»£ç ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥ä»£ç var x = 5ï¼Œæ¥ç€åˆè¾“å…¥println(x)ï¼Œåˆ™è§£é‡Šå™¨ä¼šå®šä¹‰ä¸€ä¸ªåŒ…å«xçš„Line1ç±»ï¼Œå¹¶å°†ç¬¬2è¡Œç¼–è¯‘ä¸ºprintln(Line1.getInstance().x)ã€‚</p><p>åœ¨Sparkä¸­æˆ‘ä»¬å¯¹è§£é‡Šå™¨åšäº†ä¸¤ç‚¹æ”¹åŠ¨ï¼š</p><p>1.ç±»ä¼ è¾“ï¼šè§£é‡Šå™¨èƒ½å¤Ÿæ”¯æŒåŸºäºHTTPä¼ è¾“ç±»å­—èŠ‚ç ï¼Œè¿™æ ·workerèŠ‚ç‚¹å°±èƒ½è·å–è¾“å…¥æ¯è¡Œä»£ç å¯¹åº”çš„ç±»çš„å­—èŠ‚ç ã€‚</p><p>2.æ”¹è¿›çš„ä»£ç ç”Ÿæˆé€»è¾‘ï¼šé€šå¸¸æ¯è¡Œä¸Šåˆ›å»ºçš„å•ä¾‹å¯¹è±¡é€šè¿‡å¯¹åº”ç±»ä¸Šçš„é™æ€æ–¹æ³•è¿›è¡Œè®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦åºåˆ—åŒ–ä¸€ä¸ªé—­åŒ…ï¼Œå®ƒå¼•ç”¨äº†å‰é¢ä»£ç è¡Œä¸­å˜é‡ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­Line1.xï¼ŒJavaä¸ä¼šæ ¹æ®å¯¹è±¡å…³ç³»ä¼ è¾“åŒ…å«xçš„Line1å®ä¾‹ã€‚æ‰€ä»¥workerèŠ‚ç‚¹ä¸ä¼šæ”¶åˆ°xã€‚æˆ‘ä»¬å°†è¿™ç§ä»£ç ç”Ÿæˆé€»è¾‘æ”¹ä¸ºç›´æ¥å¼•ç”¨å„ä¸ªè¡Œå¯¹è±¡çš„å®ä¾‹ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1379495610_1557060301153/0" alt></p><p>å›¾6æ˜¾ç¤ºäº†åœ¨æˆ‘ä»¬æ›´æ”¹ä¹‹åï¼Œè§£é‡Šå™¨å¦‚ä½•å°†ç”¨æˆ·é”®å…¥çš„ä¸€ç»„è¡Œè½¬æ¢ä¸ºJavaå¯¹è±¡ã€‚</p><p>Sparkè§£é‡Šå™¨ä¾¿äºè·Ÿè¸ªå¤„ç†å¤§é‡å¯¹è±¡å…³ç³»å¼•ç”¨ï¼Œå¹¶ä¸”ä¾¿åˆ©äº†HDFSæ•°æ®é›†çš„ç ”ç©¶ã€‚æˆ‘ä»¬è®¡åˆ’ä»¥Sparkè§£é‡Šå™¨ä¸ºåŸºç¡€ï¼Œå¼€å‘æä¾›é«˜çº§æ•°æ®åˆ†æè¯­è¨€æ”¯æŒçš„äº¤äº’å¼å·¥å…·ï¼Œæ¯”å¦‚SQLã€‚</p><h3 id="5-3-å†…å­˜ç®¡ç†"><a href="#5-3-å†…å­˜ç®¡ç†" class="headerlink" title="5.3 å†…å­˜ç®¡ç†"></a>5.3 å†…å­˜ç®¡ç†</h3><p>Sparkæä¾›äº†ä¸‰ç§æŒä¹…åŒ–RDDçš„é€‰é¡¹ï¼šååºåˆ—åŒ–Javaå¯¹è±¡çš„å†…å­˜å­˜å‚¨ï¼Œåºåˆ—åŒ–æ•°æ®çš„å†…å­˜å­˜å‚¨å’Œç¡¬ç›˜å­˜å‚¨ã€‚ç¬¬ä¸€ä¸ªé€‰é¡¹æä¾›æœ€å¿«çš„æ€§èƒ½ï¼Œå› ä¸ºJava VMå¯ä»¥åŸç”Ÿè®¿é—®æ¯ä¸ªRDDå…ƒç´ ã€‚ç¬¬äºŒä¸ªé€‰é¡¹å…è®¸ç”¨æˆ·åœ¨ç©ºé—´æœ‰é™æ—¶é€‰æ‹©æ¯”Javaå¯¹è±¡å›¾æ›´é«˜æ•ˆçš„å†…å­˜è¡¨ç¤ºï¼Œä½†ä»£ä»·æ˜¯æ€§èƒ½è¾ƒä½ã€æˆæœ¬å–å†³äºåº”ç”¨ç¨‹åºæ¯ä¸ªå­—èŠ‚æ•°æ®çš„è®¡ç®—é‡ï¼Œä½†è½»é‡çº§å¤„ç†çš„æœ€å¤§å€¼å¯æå‡2å€ã€‘ã€‚ç¬¬ä¸‰ä¸ªé€‰é¡¹å¯¹äºå¤ªå¤§è€Œæ— æ³•ä¿ç•™åœ¨RAMä¸­ä½†åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶é‡æ–°è®¡ç®—æˆæœ¬é«˜æ˜‚çš„RDDéå¸¸æœ‰ç”¨</p><p>ä¸ºäº†ç®¡ç†å¯ç”¨çš„æœ‰é™å†…å­˜ï¼Œæˆ‘ä»¬åœ¨RDDså±‚é¢ä¸Šä½¿ç”¨LRUæ›¿æ¢ç­–ç•¥ã€‚å½“è®¡ç®—æ–°çš„RDDåˆ†åŒºä½†æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜å‚¨å®ƒæ—¶ï¼Œæˆ‘ä»¬ä»æœ€è¿‘æœ€å°‘çš„RDDä¸­æ›¿æ¢å‡ºä¸€ä¸ªåˆ†åŒºï¼Œé™¤å®ƒè¿™ä¸å…·æœ‰æ–°åˆ†åŒºçš„RDDç›¸åŒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†æ—§åˆ†åŒºä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œä»¥é˜²æ­¢æ¥è‡ªåŒä¸€RDDçš„åˆ†åŒºå¾ªç¯è¿›å‡ºã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå¤§å¤šæ•°æ“ä½œéƒ½ä¼šåœ¨æ•´ä¸ªRDDä¸Šè¿è¡Œä»»åŠ¡ï¼Œå› æ­¤å¾ˆå¯èƒ½å°†æ¥éœ€è¦å·²ç»åœ¨å†…å­˜ä¸­çš„åˆ†åŒºã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å‘ç°æ­¤é»˜è®¤ç­–ç•¥åœ¨æ‰€æœ‰åº”ç”¨ç¨‹åºä¸­éƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Œä½†æˆ‘ä»¬è¿˜é€šè¿‡æ¯ä¸ªRDDçš„â€œæŒä¹…åŒ–ä¼˜å…ˆçº§â€ä¸ºç”¨æˆ·æä¾›è¿›ä¸€æ­¥æ§åˆ¶ã€‚</p><p>æœ€åï¼Œç¾¤é›†ä¸Šçš„æ¯ä¸ªSparkå®ä¾‹å½“å‰éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚åœ¨æœªæ¥çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è®¡åˆ’é€šè¿‡ç»Ÿä¸€çš„å†…å­˜ç®¡ç†å™¨æ¥ç ”ç©¶è·¨Sparkå®ä¾‹å…±äº«RDDsã€‚</p><h3 id="5-4-å¯¹æ£€æŸ¥ç‚¹çš„æ”¯æŒ"><a href="#5-4-å¯¹æ£€æŸ¥ç‚¹çš„æ”¯æŒ" class="headerlink" title="5.4 å¯¹æ£€æŸ¥ç‚¹çš„æ”¯æŒ"></a>5.4 å¯¹æ£€æŸ¥ç‚¹çš„æ”¯æŒ</h3><p>å°½ç®¡åœ¨æ•…éšœä¹‹åå¯ä»¥å§‹ç»ˆä½¿ç”¨lineageæ¥æ¢å¤RDDsï¼Œä½†å¯¹äºå…·æœ‰é•¿lineageçš„RDDsæ¥è¯´ï¼Œè¿™ç§æ¢å¤å¯èƒ½æ˜¯è€—æ—¶çš„ã€‚å› æ­¤ï¼Œå°†ä¸€äº›RDDs checkpointåˆ°ç¨³å®šå­˜å‚¨å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><p>é€šå¸¸ï¼Œæ£€æŸ¥ç‚¹æŠ€æœ¯å¯¹äºåŒ…å«å®½ä¾èµ–å…³ç³»çš„é•¿lineageå›¾çš„RDDså¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„PageRankç¤ºä¾‹ï¼ˆç¬¬3.2.2èŠ‚ï¼‰ä¸­çš„rankæ•°æ®é›†ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œé›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ•…éšœå¯èƒ½å¯¼è‡´æ¯ä¸ªçˆ¶RDDä¸¢å¤±ä¸€äº›æ•°æ®ç‰‡æ®µï¼Œä»è€Œéœ€è¦å®Œå…¨é‡æ–°è®¡ç®—[20]ã€‚ç›¸åï¼Œå¯¹äºå¯¹ç¨³å®šå­˜å‚¨ä¸­çš„æ•°æ®å…·æœ‰çª„ä¾èµ–çš„RDDsï¼Œä¾‹å¦‚æˆ‘ä»¬çš„é€»è¾‘å›å½’ç¤ºä¾‹ï¼ˆç¬¬3.2.1èŠ‚ï¼‰ä¸­çš„pointså’ŒPageRankä¸­çš„link listsï¼Œæ£€æŸ¥ç‚¹æŠ€æœ¯å¯èƒ½æ²¡å¤šå¤§ç”¨ã€‚å¦‚æœèŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œåˆ™å¯ä»¥åœ¨å…¶ä»–èŠ‚ç‚¹ä¸Šå¹¶è¡Œé‡æ–°è®¡ç®—ä»è¿™äº›RDDä¸­ä¸¢å¤±çš„åˆ†åŒºï¼Œè€Œè¿™åªæ˜¯å¤åˆ¶æ•´ä¸ªRDDçš„æˆæœ¬çš„ä¸€å°éƒ¨åˆ†ã€‚</p><p>Sparkç›®å‰æä¾›äº†ä¸€ä¸ªç”¨äºæ£€æŸ¥ç‚¹æŠ€æœ¯çš„APIï¼ˆä¸€ä¸ªåœ¨persistä¸­çš„REPLICATEæ ‡å¿—ï¼‰ï¼Œä½†æ˜¯ç”±ç”¨æˆ·å†³å®šå“ªäº›æ•°æ®ä½¿ç”¨æ£€æŸ¥ç‚¹ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜åœ¨ç ”ç©¶å¦‚ä½•è¿›è¡Œè‡ªåŠ¨æ£€æŸ¥ã€‚å› ä¸ºæˆ‘ä»¬çš„è°ƒåº¦ç¨‹åºçŸ¥é“æ¯ä¸ªæ•°æ®é›†çš„å¤§å°ä»¥åŠé¦–æ¬¡è®¡ç®—å®ƒæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œæ‰€ä»¥å®ƒåº”è¯¥èƒ½å¤Ÿé€‰æ‹©ä¸€ç»„æœ€ä½³RDDsæ¥æ£€æŸ¥ç‚¹ä»¥æœ€å°åŒ–ç³»ç»Ÿæ¢å¤æ—¶é—´[30]ã€‚</p><p>æœ€åï¼Œè¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼ŒRDDsçš„åªè¯»ç‰¹æ€§ä½¿å®ƒä»¬æ¯”é€šç”¨å…±äº«å­˜å‚¨æ›´å®¹æ˜“è¿›è¡Œæ£€æŸ¥ã€‚ç”±äºä¸€è‡´æ€§é—®é¢˜ä¸éœ€è¦è€ƒè™‘ï¼Œå› æ­¤å¯ä»¥åœ¨åå°å†™å‡ºRDDï¼Œè€Œæ— éœ€ç¨‹åºæš‚åœæˆ–é‡‡ç”¨åˆ†å¸ƒå¼å¿«ç…§æ–¹æ¡ˆã€‚</p><h2 id="6-è¯„ä¼°"><a href="#6-è¯„ä¼°" class="headerlink" title="6 è¯„ä¼°"></a>6 è¯„ä¼°</h2><p>æˆ‘ä»¬é€šè¿‡Amazon EC2ä¸Šçš„ä¸€ç³»åˆ—å®éªŒä»¥åŠç”¨æˆ·åº”ç”¨ç¨‹åºçš„åŸºå‡†è¯„ä¼°äº†Sparkå’ŒRDDsã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„ç»“æœæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><ul><li>åœ¨è¿­ä»£æœºå™¨å­¦ä¹ å’Œå›¾å½¢åº”ç”¨ç¨‹åºä¸­ï¼ŒSparkçš„æ€§èƒ½æ¯”Hadoopé«˜å‡º20å€ã€‚åŠ é€Ÿæ¥è‡ªäºé€šè¿‡å°†æ•°æ®ä½œä¸ºJavaå¯¹è±¡å­˜å‚¨åœ¨å†…å­˜ä¸­æ¥é¿å…I / Oå’Œååºåˆ—åŒ–æˆæœ¬ã€‚</li><li>æˆ‘ä»¬çš„ç”¨æˆ·ç¼–å†™çš„åº”ç”¨ç¨‹åºå¯ä»¥å¾ˆå¥½åœ°æ‰§è¡Œå’Œæ‰©å±•ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨Sparkåˆ†ææŠ¥è¡¨æ¯”åœ¨Hadoopä¸Šè¿è¡Œå¿«40å€ã€‚</li><li>å½“èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼ŒSparkå¯ä»¥é€šè¿‡ä»…é‡å»ºä¸¢å¤±çš„RDDåˆ†åŒºæ¥å¿«é€Ÿæ¢å¤ã€‚</li><li>Sparkå¯ç”¨äºäº¤äº’æŸ¥è¯¢1 TBæ•°æ®é›†ï¼Œå»¶è¿Ÿä»…ä¸º5-7ç§’ã€‚</li></ul><p>æˆ‘ä»¬é¦–å…ˆä¸Hadoopè¿›è¡Œè¿­ä»£æœºå™¨å­¦ä¹ ï¼ˆç¬¬6.1èŠ‚ï¼‰å’ŒPageRankï¼ˆç¬¬6.2èŠ‚ï¼‰çš„åŸºå‡†æ¯”è¾ƒã€‚ç„¶åï¼Œæˆ‘ä»¬è¯„ä¼°Sparkä¸­çš„æ•…éšœæ¢å¤ï¼ˆç¬¬6.3èŠ‚ï¼‰ä»¥åŠæ•°æ®é›†ä¸é€‚åˆå­˜å‚¨æ—¶çš„è¡Œä¸ºï¼ˆç¬¬6.4èŠ‚ï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬è®¨è®ºäº†ç”¨æˆ·åº”ç”¨ï¼ˆç¬¬6.5èŠ‚ï¼‰å’Œäº¤äº’å¼æ•°æ®æŒ–æ˜ï¼ˆç¬¬6.6èŠ‚ï¼‰çš„ç»“æœã€‚</p><p>é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æˆ‘ä»¬çš„æµ‹è¯•ä½¿ç”¨m1.xlarge EC2èŠ‚ç‚¹ï¼Œå…¶ä¸­åŒ…å«4ä¸ªå†…æ ¸å’Œ15 GB RAMã€‚æˆ‘ä»¬ä½¿ç”¨HDFSè¿›è¡Œå­˜å‚¨ï¼Œå…·æœ‰256 MBå—ã€‚åœ¨æ¯æ¬¡æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬æ¸…é™¤äº†OSç¼“å†²åŒºé«˜é€Ÿç¼“å­˜ï¼Œä»¥å‡†ç¡®æµ‹é‡IOæˆæœ¬ã€‚</p><h3 id="6-1-è¿­ä»£å¼æœºå™¨å­¦ä¹ åº”ç”¨"><a href="#6-1-è¿­ä»£å¼æœºå™¨å­¦ä¹ åº”ç”¨" class="headerlink" title="6.1 è¿­ä»£å¼æœºå™¨å­¦ä¹ åº”ç”¨"></a>6.1 è¿­ä»£å¼æœºå™¨å­¦ä¹ åº”ç”¨</h3><p>æˆ‘ä»¬å®ç°äº†ä¸¤ä¸ªè¿­ä»£æœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºï¼Œé€»è¾‘å›å½’å’Œk-meansï¼Œä»¥æ¯”è¾ƒä»¥ä¸‹ç³»ç»Ÿçš„æ€§èƒ½ï¼š</p><ul><li>Hadoopï¼šThe Hadoop 0.20.2 stable releaseã€‚</li><li>HadoopBinMemï¼šåœ¨é¦–è½®è¿­ä»£ä¸­æ‰§è¡Œé¢„å¤„ç†ï¼Œé€šè¿‡å°†è¾“å…¥æ•°æ®è½¬æ¢æˆä¸ºå¼€é”€è¾ƒä½çš„äºŒè¿›åˆ¶æ ¼å¼æ¥å‡å°‘åç»­è¿­ä»£è¿‡ç¨‹ä¸­æ–‡æœ¬è§£æçš„å¼€é”€ï¼Œåœ¨HDFSä¸­åŠ è½½åˆ°å†…å­˜ã€‚</li><li>Sparkï¼šåŸºäºRDDsçš„å®ç°ã€‚</li></ul><p>æˆ‘ä»¬ä½¿ç”¨25-100å°æœºå™¨åœ¨100 GBæ•°æ®é›†ä¸Šå¯¹è¿™ä¸¤ä¸ªç®—æ³•è¿›è¡Œäº†10æ¬¡è¿­ä»£ã€‚ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„å…³é”®åŒºåˆ«æ˜¯å®ƒä»¬æ¯ä¸ªæ•°æ®å­—èŠ‚æ‰§è¡Œçš„è®¡ç®—é‡ã€‚k-meansçš„è¿­ä»£æ—¶é—´ç”±è®¡ç®—å†³å®šï¼Œè€Œé€»è¾‘å›å½’çš„è®¡ç®—å¯†é›†åº¦è¾ƒä½ï¼Œä½†å¯¹ååºåˆ—åŒ–å’ŒI / OèŠ±è´¹çš„æ—¶é—´æ›´æ•æ„Ÿã€‚</p><p>ç”±äºå…¸å‹çš„å­¦ä¹ ç®—æ³•éœ€è¦æ•°åæ¬¡è¿­ä»£æ‰èƒ½æ”¶æ•›ï¼Œå› æ­¤æˆ‘ä»¬åˆ†åˆ«æŠ¥å‘Šç¬¬ä¸€æ¬¡è¿­ä»£å’Œåç»­è¿­ä»£çš„æ—¶é—´ã€‚æˆ‘ä»¬å‘ç°é€šè¿‡RDDså…±äº«æ•°æ®å¯ä»¥å¤§å¤§åŠ å¿«æœªæ¥çš„è¿­ä»£é€Ÿåº¦ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1280192908_1557060314454/0" alt></p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1379495610_1557060328473/0" alt></p><p><strong>é¦–æ¬¡è¿­ä»£</strong><br>æ‰€æœ‰ä¸‰ä¸ªç³»ç»Ÿåœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ä»HDFSè¯»å–æ–‡æœ¬è¾“å…¥ã€‚å¦‚å›¾7ä¸­çš„æµ…è‰²æŸ±çŠ¶å›¾æ‰€ç¤ºï¼ŒSparkåœ¨å®éªŒä¸­æ¯”Hadoopè¦å¿«ä¸€äº›ã€‚å¦‚å›¾7ä¸­çš„ç¯æ¡æ‰€ç¤ºï¼ŒSparkåœ¨å®éªŒä¸­æ¯”Hadoopè¦å¿«ä¸€äº›ã€‚HadoopBinMemæ˜¯æœ€æ…¢çš„ï¼Œå› ä¸ºå®ƒé€šè¿‡ä¸€ä¸ªé¢å¤–çš„MapReduceä½œä¸šå°†æ•°æ®è½¬æ¢æˆäºŒè¿›åˆ¶æ ¼å¼ï¼Œå¹¶å¿…é¡»é€šè¿‡ç½‘ç»œåœ¨HDFSç»“ç‚¹é—´å¤åˆ¶æ•°æ®ã€‚</p><p><strong>åç»­è¿­ä»£</strong><br>å›¾7è¿˜æ˜¾ç¤ºäº†åç»­è¿­ä»£çš„å¹³å‡è¿è¡Œæ—¶é—´ï¼Œè€Œå›¾8æ˜¾ç¤ºäº†å…¶éšé›†ç¾¤å¤§å°å˜åŒ–è€Œäº§ç”Ÿçš„æ—¶é—´å˜åŒ–ã€‚å¯¹äºé€»è¾‘å›å½’ï¼ŒSparkåœ¨100å°æœºå™¨ä¸Šåˆ†åˆ«æ¯”Hadoopå’ŒHadoopBinMemå¿«25.3å€å’Œ20.7å€ã€‚å¯¹äºæ›´åŠ è®¡ç®—å¯†é›†å‹çš„k-meansåº”ç”¨ç¨‹åºæ¥è¯´ï¼ŒSparkä»ç„¶å®ç°äº†1.9å€åˆ°3.2å€çš„åŠ é€Ÿã€‚</p><p><strong>ç†è§£é€Ÿåº¦æå‡</strong><br>æˆ‘ä»¬æƒŠè®¶åœ°å‘ç°Sparkç”šè‡³æ¯”å†…å­˜å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„Hadoopï¼ˆHadoopBinMemï¼‰è¿˜è¦å¿«20å€ã€‚åœ¨HadoopBinMemä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Hadoopçš„æ ‡å‡†äºŒè¿›åˆ¶æ ¼å¼ï¼ˆSequenceFileï¼‰å’Œ256 MBå¤§å°çš„è¶…å¤§å—ï¼Œå¹¶ä¸”æˆ‘ä»¬å¼ºåˆ¶HDFSçš„æ•°æ®ç›®å½•ä½äºå†…å­˜æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚ä½†æ˜¯ï¼Œç”±äºä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼ŒHadoopä»ç„¶è¿è¡Œç¼“æ…¢ï¼š</p><p>1.Hadoopè½¯ä»¶å †æ ˆçš„æœ€å°å¼€é”€ï¼Œ</p><p>2.æä¾›æ•°æ®æ—¶HDFSçš„å¼€é”€ï¼Œ</p><p>3.å°†äºŒè¿›åˆ¶è®°å½•è½¬æ¢ä¸ºå¯ç”¨çš„å†…å­˜ä¸­Javaå¯¹è±¡çš„ååºåˆ—åŒ–æˆæœ¬ã€‚</p><p>æˆ‘ä»¬ä¾æ¬¡ç ”ç©¶äº†è¿™äº›å› ç´ ã€‚ä¸ºäº†ä¼°æµ‹1ï¼Œæˆ‘ä»¬è¿è¡Œç©ºçš„Hadoopä½œä¸šï¼Œä»…ä»…æ‰§è¡Œä½œä¸šçš„åˆå§‹åŒ–ã€å¯åŠ¨ä»»åŠ¡ã€æ¸…ç†å·¥ä½œå°±è‡³å°‘è€—æ—¶25ç§’ã€‚å¯¹äº2ï¼Œæˆ‘ä»¬å‘ç°ä¸ºäº†æœåŠ¡æ¯ä¸€ä¸ªHDFSæ•°æ®å—ï¼ŒHDFSè¿›è¡Œäº†å¤šæ¬¡å¤åˆ¶ä»¥åŠè®¡ç®—æ ¡éªŒå’Œæ“ä½œã€‚</p><p>æœ€åï¼Œä¸ºäº†ä¼°æµ‹3ï¼Œæˆ‘ä»¬åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œå¾®åŸºå‡†æµ‹è¯•ï¼Œä»¥256 MBè¾“å…¥çš„å„ç§æ ¼å¼è¿è¡Œé€»è¾‘å›å½’è®¡ç®—ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†å¤„ç†æ¥è‡ªHDFSï¼ˆHDFSå †æ ˆä¸­çš„å¼€é”€å°†ç»™å‡ºï¼‰å’Œå†…å­˜æœ¬åœ°æ–‡ä»¶ï¼ˆå†…æ ¸å¯ä»¥éå¸¸æœ‰æ•ˆåœ°å°†æ•°æ®ä¼ é€’ç»™ç¨‹åºï¼‰çš„æ–‡æœ¬å’ŒäºŒè¿›åˆ¶è¾“å…¥çš„æ—¶é—´ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060341567/0" alt></p><p>ç»“æœå¦‚å›¾9æ‰€ç¤ºã€‚å†…å­˜ä¸­HDFSå’Œæœ¬åœ°æ–‡ä»¶ä¹‹é—´çš„å·®å¼‚è¡¨æ˜ï¼Œé€šè¿‡HDFSè¯»å–äº§ç”Ÿäº†2ç§’çš„å¼€é”€ï¼Œå³ä½¿æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æœºå™¨ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ–‡æœ¬å’ŒäºŒè¿›åˆ¶è¾“å…¥ä¹‹é—´çš„å·®å¼‚è¡¨æ˜è§£æå¼€é”€ä¸º7ç§’ã€‚æœ€åï¼Œå³ä½¿ä»å†…å­˜æ–‡ä»¶ä¸­è¯»å–ï¼Œå°†é¢„è§£æçš„äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºJavaå¯¹è±¡ä¹Ÿéœ€è¦3ç§’é’Ÿï¼Œè¿™ä»ç„¶å‡ ä¹ä¸é€»è¾‘å›å½’æœ¬èº«ä¸€æ ·å¼€é”€é«˜æ˜‚ã€‚é€šè¿‡å°†RDDå…ƒç´ ç›´æ¥å­˜å‚¨ä¸ºå†…å­˜ä¸­çš„Javaå¯¹è±¡ï¼ŒSparkå¯ä»¥é¿å…æ‰€æœ‰è¿™äº›å¼€é”€ã€‚</p><h3 id="6-2-PageRank"><a href="#6-2-PageRank" class="headerlink" title="6.2 PageRank"></a>6.2 PageRank</h3><p><img src="https://puui.qpic.cn/fans_admin/0/3_1379495610_1557060351959/0" alt></p><p>æˆ‘ä»¬ä½¿ç”¨54 GB Wikipediaå¯¼å‡ºæ•°æ®æ¯”è¾ƒäº†Sparkä¸Hadoop è¿›è¡ŒPageRankçš„æ€§èƒ½ã€‚PageRankç®—æ³•é€šè¿‡10è½®è¿­ä»£å¤„ç†äº†å¤§çº¦400ä¸‡æ–‡ç« çš„é“¾æ¥å›¾æ•°æ®ã€‚å›¾10å±•ç¤ºäº†å•ç‹¬çš„å†…å­˜å­˜å‚¨ä½¿Sparkåœ¨30ä¸ªèŠ‚ç‚¹ä¸Šçš„é€Ÿåº¦æ¯”Hadoopæé«˜äº†2.4å€ã€‚æ­¤å¤–ï¼Œå¦‚ç¬¬3.2.2èŠ‚æ‰€è¿°ï¼Œæ§åˆ¶RDDçš„åˆ†åŒºä»¥ä½¿å…¶åœ¨è¿­ä»£ä¸­ä¿æŒä¸€è‡´ï¼Œå°†æé«˜åˆ°7.4å€ã€‚åŠ é€Ÿä¹Ÿèƒ½å‡ ä¹çº¿æ€§åœ°æ‰©å±•åˆ°60ä¸ªèŠ‚ç‚¹ä¸Šã€‚</p><p>æˆ‘ä»¬è¿˜è¯„ä¼°äº†ä½¿ç”¨Sparkå®ç°Pregelç‰ˆæœ¬çš„PageRankçš„æ€§èƒ½ï¼Œç»“æœå°†åœ¨7.1èŠ‚å±•ç¤ºã€‚è¿­ä»£æ—¶é—´ä¸å›¾10ä¸­çš„ç›¸ä¼¼ï¼Œä½†æ˜¯æ›´é•¿çº¦4ç§’ï¼Œå› ä¸ºPregelåœ¨æ¯æ¬¡è¿­ä»£æ—¶è¿è¡Œä¸€ä¸ªé¢å¤–çš„æ“ä½œï¼Œè®©é¡¶ç‚¹â€œæŠ•ç¥¨â€æ˜¯å¦å®Œæˆå·¥ä½œã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1599777765_1557060363143/0" alt></p><h3 id="6-3-é”™è¯¯æ¢å¤"><a href="#6-3-é”™è¯¯æ¢å¤" class="headerlink" title="6.3 é”™è¯¯æ¢å¤"></a>6.3 é”™è¯¯æ¢å¤</h3><p>æˆ‘ä»¬è¯„ä¼°äº†k-meansåº”ç”¨ç¨‹åºä¸­èŠ‚ç‚¹æ•…éšœåä½¿ç”¨lineageé‡å»ºRDDåˆ†åŒºçš„å¼€é”€ã€‚å›¾11æ¯”è¾ƒäº†æ­£å¸¸æ“ä½œåœºæ™¯ä¸­75èŠ‚ç‚¹é›†ç¾¤ä¸Šk-meansçš„10æ¬¡è¿è¡Œçš„è¿è¡Œæ—¶é—´ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹åœ¨ç¬¬6æ¬¡è¿­ä»£å¼€å§‹æ—¶å¤±è´¥ã€‚å¦ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ•…éšœï¼Œæ¯æ¬¡è¿­ä»£åŒ…å«400ä¸ªä»»åŠ¡ï¼Œå¤„ç†100 GBçš„æ•°æ®ã€‚</p><p>ç›´åˆ°ç¬¬5æ¬¡è¿­ä»£ç»“æŸï¼Œè¿­ä»£æ—¶é—´çº¦ä¸º58ç§’ã€‚åœ¨ç¬¬6æ¬¡è¿­ä»£ä¸­ï¼Œå…¶ä¸­ä¸€å°æœºå™¨è¢«æ€æ­»ï¼Œå¯¼è‡´åœ¨è¯¥æœºå™¨ä¸Šè¿è¡Œçš„ä»»åŠ¡å’Œå­˜å‚¨åœ¨é‚£é‡Œçš„RDDåˆ†åŒºä¸¢å¤±ã€‚Sparkåœ¨å…¶ä»–æœºå™¨ä¸Šå¹¶è¡Œé‡æ–°æ‰§è¡Œè¿™äº›ä»»åŠ¡ï¼Œä»–ä»¬é€šè¿‡lineageé‡æ–°è¯»å–ç›¸åº”çš„è¾“å…¥æ•°æ®å’Œé‡å»ºçš„RDDï¼Œå¯¼è‡´æ“ä½œæ—¶é—´å¢åŠ åˆ°80ç§’ã€‚ä¸€æ—¦é‡å»ºä¸¢å¤±çš„RDDåˆ†åŒºï¼Œè¿­ä»£æ—¶é—´å°±ä¼šå›è½åˆ°58ç§’ã€‚</p><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨åŸºäºæ£€æŸ¥ç‚¹çš„æ•…éšœæ¢å¤æœºåˆ¶ï¼Œæ¢å¤å¯èƒ½éœ€è¦é‡æ–°è¿è¡Œè‡³å°‘å‡ æ¬¡è¿­ä»£ï¼Œå…·ä½“å–å†³äºæ£€æŸ¥ç‚¹çš„é¢‘ç‡ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿéœ€è¦é€šè¿‡ç½‘ç»œå¤åˆ¶åº”ç”¨ç¨‹åºçš„100 GBå·¥ä½œé›†ï¼ˆæ–‡æœ¬è¾“å…¥æ•°æ®è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼‰ï¼Œå¹¶ä¸”è¦ä¹ˆæ¶ˆè€—ä¸¤å€äºSparkçš„å†…å­˜ä»¥å°†å…¶å¤åˆ¶åˆ°RAMä¸­ï¼Œè¦ä¹ˆå¿…é¡»ç­‰å¾…å†™å…¥100 GBåˆ°ç£ç›˜ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬ç¤ºä¾‹ä¸­RDDçš„lineageå›¾çš„å¤§å°éƒ½å°äº10 KBã€‚</p><h3 id="6-4-å†…å­˜ä¸è¶³æ—¶è¡¨ç°"><a href="#6-4-å†…å­˜ä¸è¶³æ—¶è¡¨ç°" class="headerlink" title="6.4 å†…å­˜ä¸è¶³æ—¶è¡¨ç°"></a>6.4 å†…å­˜ä¸è¶³æ—¶è¡¨ç°</h3><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬èƒ½ä¿è¯é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰è¶³å¤Ÿçš„å†…å­˜å»ç¼“å­˜è¿­ä»£è¿‡ç¨‹ä¸­ä½¿ç”¨çš„RDDsã€‚ä¸€ä¸ªè‡ªç„¶çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥å­˜å‚¨ä½œä¸šçš„æ•°æ®ï¼ŒSparkæ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†Sparké…ç½®ä¸ºä¸ä½¿ç”¨è¶…è¿‡ä¸€å®šç™¾åˆ†æ¯”çš„å†…å­˜æ¥åœ¨æ¯å°æœºå™¨ä¸Šå­˜å‚¨RDDã€‚å›¾12ä¸­ï¼Œæˆ‘ä»¬ä¸ºçš„é€»è¾‘å›å½’æä¾›äº†å„ç§å­˜å‚¨ç©ºé—´çš„é…ç½®ã€‚æˆ‘ä»¬å‘ç°æ€§èƒ½åœ¨æ§ä»¶é™ä½æ—¶ç¼“æ…¢é™ä½ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1379495610_1557060374238/0" alt></p><h3 id="6-5-ç”¨Sparkæ„å»ºçš„ç”¨æˆ·åº”ç”¨ç¨‹åº"><a href="#6-5-ç”¨Sparkæ„å»ºçš„ç”¨æˆ·åº”ç”¨ç¨‹åº" class="headerlink" title="6.5 ç”¨Sparkæ„å»ºçš„ç”¨æˆ·åº”ç”¨ç¨‹åº"></a>6.5 ç”¨Sparkæ„å»ºçš„ç”¨æˆ·åº”ç”¨ç¨‹åº</h3><p><strong>å†…å­˜åˆ†æ</strong><br>Conviva Incæ˜¯ä¸€å®¶è§†é¢‘å‘è¡Œå…¬å¸ï¼Œå®ƒä½¿ç”¨SparkåŠ é€Ÿäº†ä¹‹å‰åœ¨Hadoopä¸Šè¿è¡Œçš„å¤§é‡æ•°æ®åˆ†ææŠ¥å‘Šã€‚ä¾‹å¦‚ï¼Œä¸€ä»½æŠ¥å‘Šä½œä¸ºä¸€ç³»åˆ—Hive [1]æŸ¥è¯¢è¿è¡Œï¼Œè¿™äº›æŸ¥è¯¢è®¡ç®—å‡ºäº†å®¢æˆ·çš„å„ç§ç»Ÿè®¡ä¿¡æ¯ã€‚è¿™äº›æŸ¥è¯¢éƒ½åœ¨ç›¸åŒçš„æ•°æ®å­é›†ä¸Šå·¥ä½œï¼ˆä¸å®¢æˆ·æä¾›çš„è¿‡æ»¤å™¨åŒ¹é…çš„è®°å½•ï¼‰ï¼Œä½†åœ¨ä¸åŒçš„åˆ†ç»„å­—æ®µä¸Šæ‰§è¡Œäº†èšåˆï¼ˆå¹³å‡å€¼ï¼Œç™¾åˆ†ä½æ•°å’ŒCOUNT DISTINCTï¼‰ï¼Œéœ€è¦ä½¿ç”¨å•ç‹¬çš„MapReduceä½œä¸šã€‚é€šè¿‡åœ¨Sparkä¸­å®ç°æŸ¥è¯¢å¹¶å°†ä¸€æ¬¡å…±äº«çš„æ•°æ®å­é›†åŠ è½½åˆ°RDDä¸­ï¼Œè¯¥å…¬å¸èƒ½å¤Ÿå°†æŠ¥å‘Šé€Ÿåº¦æé«˜40å€ã€‚åœ¨Hadoopé›†ç¾¤ä¸ŠèŠ±è´¹20å°æ—¶çš„200 GBå‹ç¼©æ•°æ®çš„æŠ¥å‘Šç°åœ¨ä»…ä½¿ç”¨ä¸¤å°Sparkè®¡ç®—æœºå°±èƒ½åœ¨30åˆ†é’Ÿå†…è¿è¡Œå®Œæˆã€‚æ­¤å¤–ï¼ŒSparkç¨‹åºåªéœ€è¦96 GBçš„RAMï¼Œå› ä¸ºå®ƒåªå­˜å‚¨ä¸RDDä¸­å®¢æˆ·çš„è¿‡æ»¤å™¨åŒ¹é…çš„è¡Œå’Œåˆ—ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè§£å‹ç¼©æ–‡ä»¶ã€‚</p><p><strong>åŸå¸‚äº¤é€šæ¨¡å‹</strong><br>åœ¨Berkeleyçš„Mobile Millenniumé¡¹ç›®[18]ä¸­ï¼ŒåŸºäºä¸€ç³»åˆ—åˆ†æ•£çš„æ±½è½¦GPSç›‘æµ‹æ•°æ®ï¼Œç ”ç©¶äººå‘˜ä½¿ç”¨å¹¶è¡ŒåŒ–æœºå™¨å­¦ä¹ ç®—æ³•æ¥æ¨ç®—å…¬è·¯äº¤é€šæ‹¥å µçŠ¶å†µã€‚æ•°æ®æ¥è‡ªå¸‚åŒº10000ä¸ªäº’è”çš„å…¬è·¯çº¿è·¯ç½‘ï¼Œè¿˜æœ‰600000ä¸ªç”±æ±½è½¦GPSè£…ç½®é‡‡é›†åˆ°çš„æ ·æœ¬æ•°æ®ï¼Œè¿™äº›æ•°æ®è®°å½•äº†æ±½è½¦åœ¨ä¸¤ä¸ªåœ°ç‚¹ä¹‹é—´è¡Œé©¶çš„æ—¶é—´ï¼ˆæ¯ä¸€æ¡è·¯çº¿çš„è¡Œé©¶æ—¶é—´å¯èƒ½è·¨å¤šä¸ªå…¬è·¯çº¿è·¯ç½‘ï¼‰ã€‚ä½¿ç”¨ä¸€ä¸ªäº¤é€šæ¨¡å‹ï¼Œé€šè¿‡æ¨ç®—è·¨å¤šä¸ªå…¬è·¯ç½‘è¡Œé©¶è€—æ—¶é¢„æœŸï¼Œç³»ç»Ÿèƒ½å¤Ÿä¼°ç®—æ‹¥å µçŠ¶å†µã€‚ç ”ç©¶äººå‘˜ä½¿ç”¨Sparkå®ç°äº†ä¸€ä¸ªå¯è¿­ä»£çš„EMç®—æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬å‘WorkerèŠ‚ç‚¹å¹¿æ’­è·¯çº¿ç½‘ç»œä¿¡æ¯ï¼Œåœ¨Eå’ŒMé˜¶æ®µä¹‹é—´æ‰§è¡ŒreduceByKeyæ“ä½œï¼Œåº”ç”¨ä»20ä¸ªèŠ‚ç‚¹æ‰©å±•åˆ°80ä¸ªèŠ‚ç‚¹ï¼ˆæ¯ä¸ªèŠ‚ç‚¹4æ ¸ï¼‰ï¼Œå¦‚å›¾13ï¼ˆaï¼‰æ‰€ç¤ºï¼š</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1599777765_1557060384098/0" alt></p><p><strong>æ¨ç‰¹åƒåœ¾é‚®ä»¶åˆ†ç±»</strong><br>Berkeleyçš„Monarché¡¹ç›®[29]ä½¿ç”¨Sparkè¯†åˆ«Twitteræ¶ˆæ¯ä¸Šçš„åƒåœ¾é“¾æ¥ã€‚ä»–ä»¬åœ¨Sparkä¸Šå®ç°äº†ä¸€ä¸ªç±»ä¼¼6.1å°èŠ‚ä¸­ç¤ºä¾‹çš„Logisticå›å½’åˆ†ç±»å™¨ï¼Œä¸åŒçš„æ˜¯ä½¿ç”¨åˆ†å¸ƒå¼çš„reduceByKeyæ“ä½œå¹¶è¡Œå¯¹æ¢¯åº¦å‘é‡æ±‚å’Œã€‚å›¾13ï¼ˆbï¼‰æ˜¾ç¤ºäº†åŸºäº50Gæ•°æ®å­é›†è®­ç»ƒè®­ç»ƒåˆ†ç±»å™¨çš„ç»“æœï¼Œæ•´ä¸ªæ•°æ®é›†æ˜¯250000çš„URLã€è‡³å°‘10^7ä¸ªä¸ç½‘ç»œç›¸å…³çš„ç‰¹å¾/ç»´åº¦ï¼Œå†…å®¹ã€è¯æ€§ä¸è®¿é—®ä¸€ä¸ªURLçš„é¡µé¢ç›¸å…³ã€‚éšç€èŠ‚ç‚¹çš„å¢åŠ ï¼Œè¿™å¹¶ä¸åƒäº¤é€šåº”ç”¨ç¨‹åºé‚£æ ·è¿‘ä¼¼çº¿æ€§ï¼Œä¸»è¦æ˜¯å› ä¸ºæ¯è½®è¿­ä»£çš„å›ºå®šé€šä¿¡ä»£ä»·è¾ƒé«˜ã€‚</p><h3 id="6-6-äº¤äº’å¼æ•°æ®æŒ–æ˜"><a href="#6-6-äº¤äº’å¼æ•°æ®æŒ–æ˜" class="headerlink" title="6.6 äº¤äº’å¼æ•°æ®æŒ–æ˜"></a>6.6 äº¤äº’å¼æ•°æ®æŒ–æ˜</h3><p>ä¸ºäº†æ¼”ç¤ºSparkäº¤äº’å¼æŸ¥è¯¢å¤§æ•°æ®é›†çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åˆ†æ1TBçš„ç»´åŸºç™¾ç§‘é¡µé¢æµè§ˆæ—¥å¿—ï¼ˆ2å¹´çš„æ•°æ®ï¼‰ã€‚åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†100 m2.4xlarge EC2å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹æœ‰8ä¸ªå†…æ ¸å’Œ68 GBå†…å­˜ã€‚åœ¨æ•´ä¸ªè¾“å…¥æ•°æ®é›†ä¸Šç®€å•åœ°æŸ¥è¯¢å¦‚ä¸‹å†…å®¹ä»¥è·å–é¡µé¢æµè§ˆæ€»æ•°ï¼šï¼ˆ1ï¼‰å…¨éƒ¨é¡µé¢ï¼›ï¼ˆ2ï¼‰é¡µé¢çš„æ ‡é¢˜èƒ½ç²¾ç¡®åŒ¹é…ç»™å®šçš„å…³é”®è¯ï¼›ï¼ˆ3ï¼‰é¡µé¢çš„æ ‡é¢˜èƒ½éƒ¨åˆ†åŒ¹é…ç»™å®šçš„å…³é”®è¯ã€‚</p><p><img src="https://puui.qpic.cn/fans_admin/0/3_1359855289_1557060393080/0" alt></p><p>å›¾14æ˜¾ç¤ºäº†åˆ†åˆ«åœ¨æ•´ä¸ªã€1/2ã€1/10çš„æ•°æ®ä¸ŠæŸ¥è¯¢çš„å“åº”æ—¶é—´ï¼Œç”šè‡³1TBæ•°æ®åœ¨Sparkä¸ŠæŸ¥è¯¢ä»…è€—æ—¶5-7ç§’ï¼Œè¿™æ¯”ç›´æ¥æ“ä½œç£ç›˜æ•°æ®å¿«å‡ ä¸ªæ•°é‡çº§ã€‚ä¾‹å¦‚ï¼Œä»ç£ç›˜ä¸ŠæŸ¥è¯¢1TBæ•°æ®è€—æ—¶170ç§’ï¼Œè¿™è¡¨æ˜äº†RDDç¼“å­˜ä½¿å¾—Sparkæˆä¸ºä¸€ä¸ªäº¤äº’å¼æ•°æ®æŒ–æ˜çš„å¼ºå¤§å·¥å…·ã€‚</p><h2 id="7-è®¨è®º"><a href="#7-è®¨è®º" class="headerlink" title="7 è®¨è®º"></a>7 è®¨è®º</h2><p>è™½ç„¶RDDç”±äºå…¶ä¸å¯å˜æ€§å’Œç²—ç²’åº¦è½¬æ¢ä¼¼ä¹æä¾›æœ‰é™çš„ç¼–ç¨‹æ¥å£ï¼Œä½†æˆ‘ä»¬å‘ç°å®ƒä»¬é€‚ç”¨äºå¹¿æ³›çš„åº”ç”¨ã€‚ç‰¹åˆ«åœ°ï¼ŒRDDså¯ä»¥è¡¨è¾¾æ•°é‡æƒŠäººçš„é›†ç¾¤ç¼–ç¨‹æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹è¿„ä»Šå·²è¢«æè®®ä½œä¸ºå•ç‹¬çš„æ¡†æ¶ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªç¨‹åºä¸­ç»„åˆè¿™äº›æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼Œè¿è¡ŒMapReduceæ“ä½œæ¥æ„å»ºå›¾å½¢ï¼Œç„¶ååœ¨å…¶ä¸Šè¿è¡ŒPregelï¼‰å¹¶åœ¨å®ƒä»¬ä¹‹é—´å…±äº«æ•°æ®ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºRDDså¯ä»¥è¡¨è¾¾å“ªäº›ç¼–ç¨‹æ¨¡å‹ä»¥åŠå®ƒä»¬å¦‚æ­¤å¹¿æ³›é€‚ç”¨çš„åŸå› ï¼ˆç¬¬7.1èŠ‚ï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è®¨è®ºäº†æˆ‘ä»¬æ­£åœ¨æ¢ç´¢çš„RDDsä¸­lineageä¿¡æ¯çš„å¦ä¸€ä¸ªå¥½å¤„ï¼Œèƒ½å¤Ÿä¿ƒè¿›è¿™äº›æ¨¡å‹çš„è°ƒè¯•ï¼ˆç¬¬7.2èŠ‚ï¼‰ã€‚</p><h3 id="7-1-è¡¨è¾¾ç°æœ‰çš„ç¼–ç¨‹æ¨¡å‹"><a href="#7-1-è¡¨è¾¾ç°æœ‰çš„ç¼–ç¨‹æ¨¡å‹" class="headerlink" title="7.1 è¡¨è¾¾ç°æœ‰çš„ç¼–ç¨‹æ¨¡å‹"></a>7.1 è¡¨è¾¾ç°æœ‰çš„ç¼–ç¨‹æ¨¡å‹</h3><p>RDDså¯ä»¥æœ‰æ•ˆåœ°è¡¨è¾¾è¿„ä»Šä¸ºæ­¢ç‹¬ç«‹æå‡ºçš„è®¸å¤šé›†ç¾¤ç¼–ç¨‹æ¨¡å‹ã€‚â€œæœ‰æ•ˆâ€ï¼Œæ„å‘³ç€RDDsä¸ä»…å¯ä»¥ç”¨äºç”Ÿæˆä¸è¿™äº›æ¨¡å‹ä¸­ç¼–å†™çš„ç¨‹åºç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”RDDsè¿˜å¯ä»¥å®ç°è¿™äº›æ¡†æ¶å…·æœ‰çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚å°†ç‰¹å®šæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå°†å…¶åˆ†åŒºä¸ºæœ€å¤§é™åº¦åœ°å‡å°‘é€šä¿¡ï¼Œå¹¶æœ‰æ•ˆåœ°ä»æ•…éšœä¸­æ¢å¤ã€‚ä½¿ç”¨RDDè¡¨è¾¾çš„æ¨¡å‹åŒ…æ‹¬ï¼š</p><p><strong>MapReduceï¼š</strong> å¯ä»¥ä½¿ç”¨Sparkä¸­çš„flatMapå’ŒgroupByKeyæ“ä½œè¡¨ç¤ºæ­¤æ¨¡å‹ï¼Œå¦‚æœå­˜åœ¨ç»„åˆå™¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨reduceByKeyè¡¨ç¤º.</p><p><strong>DryadLINQï¼š</strong><br>ä¸æ›´æ™®éçš„Dryadè¿è¡Œæ—¶ç›¸æ¯”ï¼ŒDryadLINQç³»ç»Ÿæä¾›äº†æ¯”MapReduceæ›´å¹¿æ³›çš„è¿ç®—ç¬¦ï¼Œä½†è¿™äº›éƒ½æ˜¯ç›´æ¥å¯¹åº”äºSparkï¼ˆmapï¼ŒgroupByKeyï¼Œjoinç­‰ï¼‰ä¸­å¯ç”¨çš„RDDè½¬æ¢çš„æ‰¹é‡è¿ç®—ç¬¦ã€‚</p><p><strong>SQLï¼š</strong><br>ä¸DryadLINQè¡¨è¾¾å¼ä¸€æ ·ï¼ŒSQLæŸ¥è¯¢å¯¹è®°å½•é›†æ‰§è¡Œæ•°æ®å¹¶è¡Œæ“ä½œã€‚</p><p><strong>Pregelï¼š</strong><br>Googleçš„Pregel [22]æ˜¯è¿­ä»£å›¾å½¢åº”ç”¨ç¨‹åºçš„ä¸“ç”¨æ¨¡å‹ï¼Œèµ·åˆä¸å…¶ä»–ç³»ç»Ÿä¸­çš„é¢å‘é›†åˆçš„ç¼–ç¨‹æ¨¡å‹å®Œå…¨ä¸åŒã€‚åœ¨Pregelä¸­ï¼Œç¨‹åºä½œä¸ºä¸€ç³»åˆ—åè°ƒçš„â€œsuperstepsâ€è¿è¡Œã€‚åœ¨æ¯ä¸ªsuperstepsä¸­ï¼Œå›¾ä¸­çš„æ¯ä¸ªé¡¶ç‚¹éƒ½è¿è¡Œä¸€ä¸ªç”¨æˆ·å‡½æ•°ï¼Œå¯ä»¥æ›´æ–°ä¸é¡¶ç‚¹ç›¸å…³çš„çŠ¶æ€ï¼Œæ›´æ”¹å›¾å½¢æ‹“æ‰‘ï¼Œå¹¶å°†æ¶ˆæ¯å‘é€åˆ°å…¶ä»–é¡¶ç‚¹ç”¨äºä¸‹ä¸€ä¸ªsuperstepã€‚è¯¥æ¨¡å‹å¯ä»¥è¡¨è¾¾è®¸å¤šå›¾ç®—æ³•ï¼ŒåŒ…æ‹¬æœ€çŸ­è·¯å¾„ï¼ŒäºŒåˆ†åŒ¹é…å’ŒPageRankã€‚</p><p>è®©æˆ‘ä»¬ç”¨RDDså®ç°è¿™ä¸ªæ¨¡å‹çš„å…³é”®ç‚¹æ˜¯Pregelå°†ç›¸åŒçš„ç”¨æˆ·å‡½æ•°åº”ç”¨äºæ¯æ¬¡è¿­ä»£çš„æ‰€æœ‰é¡¶ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯æ¬¡è¿­ä»£çš„é¡¶ç‚¹çŠ¶æ€å­˜å‚¨åœ¨RDDä¸­ï¼Œå¹¶æ‰§è¡Œæ‰¹é‡è½¬æ¢ï¼ˆflatMapï¼‰ä»¥åº”ç”¨æ­¤å‡½æ•°å¹¶ç”Ÿæˆæ¶ˆæ¯çš„RDDã€‚ä¹‹åå¯ä»¥å°†è¯¥RDDä¸é¡¶ç‚¹çŠ¶æ€è¿æ¥æ“ä½œä»¥è¡¨ç¤ºæ¶ˆæ¯çš„è½¬æ¢ã€‚åŒæ ·é‡è¦çš„æ˜¯ï¼ŒRDDså…è®¸æˆ‘ä»¬åƒPregelé‚£æ ·å°†é¡¶ç‚¹çŠ¶æ€ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé€šè¿‡æ§åˆ¶å…¶åˆ†åŒºæ¥æœ€å°åŒ–é€šä¿¡ï¼Œå¹¶æ”¯æŒæ•…éšœæ—¶çš„éƒ¨åˆ†æ¢å¤ã€‚æˆ‘ä»¬åœ¨Sparkä¸Šå®ç°äº†Pregelï¼Œå…¶ä½œä¸º200è¡Œåº“ï¼Œå¹¶å‘è¯»è€…æ¨è[33]ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p><p>è¿­ä»£å¼MapReduceï¼š æœ€è¿‘æå‡ºçš„å‡ ä¸ªç³»ç»Ÿï¼ŒåŒ…æ‹¬HaLoop [7]å’ŒTwister [11]ï¼Œæä¾›äº†è¿­ä»£çš„MapReduceæ¨¡å‹ï¼Œç”¨æˆ·å¯ä»¥ä¸ºç³»ç»Ÿæä¾›ä¸€ç³»åˆ—MapReduceä½œä¸šå¾ªç¯æ‰§è¡Œã€‚ç³»ç»Ÿä½¿æ•°æ®åœ¨è¿­ä»£ä¸­ä¿æŒä¸€è‡´ï¼ŒTwisterä¹Ÿå¯ä»¥å°†å…¶ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚ä¸¤ç§ä¼˜åŒ–éƒ½å¾ˆå®¹æ˜“ç”¨RDDsè¡¨è¾¾ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨Sparkå°†HaLoopå®ç°ä¸º200è¡Œåº“ã€‚</p><p>æµå¼æ‰¹å¤„ç†ï¼š ç ”ç©¶äººå‘˜æœ€è¿‘æå‡ºäº†å‡ ç§å¢é‡å¤„ç†ç³»ç»Ÿï¼Œç”¨äºå®šæœŸç”¨æ–°æ•°æ®æ›´æ–°ç»“æœçš„åº”ç”¨[21,15,4]ã€‚ä¾‹å¦‚ï¼Œæ¯15åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡å¹¿å‘Šç‚¹å‡»ç»Ÿè®¡æ•°æ®çš„åº”ç”¨ç¨‹åºåº”è¯¥èƒ½å¤Ÿå°†å‰ä¸€ä¸ª15åˆ†é’Ÿçª—å£çš„ä¸­é—´çŠ¶æ€ä¸æ–°æ—¥å¿—ä¸­çš„æ•°æ®ç›¸ç»“åˆã€‚è¿™äº›ç³»ç»Ÿæ‰§è¡Œç±»ä¼¼äºDryadçš„æ‰¹é‡æ“ä½œï¼Œä½†å°†åº”ç”¨ç¨‹åºçŠ¶æ€å­˜å‚¨åœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚å°†ä¸­é—´çŠ¶æ€ç½®äºRDDsä¸­å°†åŠ é€Ÿå…¶å¤„ç†ã€‚</p><p><strong><em>è§£é‡ŠRDDsçš„è¡¨è¾¾æ€§èƒ½</em></strong><br>ä¸ºä»€ä¹ˆRDDèƒ½å¤Ÿè¡¨è¾¾è¿™äº›ä¸åŒçš„ç¼–ç¨‹æ¨¡å‹ï¼ŸåŸå› æ˜¯å¯¹RDDçš„é™åˆ¶å¯¹è®¸å¤šå¹¶è¡Œåº”ç”¨ç¨‹åºå‡ ä¹æ²¡æœ‰å½±å“ã€‚ç‰¹åˆ«æ˜¯ï¼Œå°½ç®¡RDDsåªèƒ½é€šè¿‡æ‰¹é‡è½¬æ¢åˆ›å»ºï¼Œä½†è®¸å¤šå¹¶è¡Œç¨‹åºæœ¬è´¨ä¸Šå°±æ˜¯å°†ç›¸åŒçš„æ“ä½œåº”ç”¨äºè®¸å¤šè®°å½•ï¼Œæ‰€ä»¥ä½¿å…¶æ˜“äºç”¨RDDsè¡¨è¾¾ã€‚ç±»ä¼¼åœ°ï¼ŒRDDçš„ä¸å˜æ€§ä¸æ˜¯ä¸€ä¸ªéšœç¢ï¼Œå› ä¸ºå¯ä»¥åˆ›å»ºå¤šä¸ªRDDæ¥è¡¨ç¤ºåŒä¸€æ•°æ®é›†çš„ä¸åŒç‰ˆæœ¬ã€‚å®é™…ä¸Šï¼Œä»Šå¤©çš„è®¸å¤šMapReduceåº”ç”¨ç¨‹åºéƒ½è¿è¡Œåœ¨ä¸å…è®¸æ›´æ–°æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œä¾‹å¦‚HDFSã€‚</p><p>æœ€åä¸€ä¸ªé—®é¢˜æ˜¯ä¸ºä»€ä¹ˆä»¥å‰çš„æ¡†æ¶æ²¡æœ‰æä¾›ç›¸åŒçš„ä¸€èˆ¬æ€§ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™æ˜¯å› ä¸ºè¿™äº›ç³»ç»Ÿæ¢ç´¢äº†MapReduceå’ŒDryadæ— æ³•å¾ˆå¥½å¤„ç†çš„ç‰¹å®šé—®é¢˜ï¼Œä¾‹å¦‚è¿­ä»£ï¼Œä½†æ˜¯æ²¡æœ‰è§‚å¯Ÿåˆ°è¿™äº›é—®é¢˜çš„å¸¸è§åŸå› æ˜¯ç¼ºä¹æ•°æ®å…±äº«æŠ½è±¡ã€‚</p><h3 id="7-2-åˆ©ç”¨RDDsè¿›è¡Œè°ƒè¯•"><a href="#7-2-åˆ©ç”¨RDDsè¿›è¡Œè°ƒè¯•" class="headerlink" title="7.2 åˆ©ç”¨RDDsè¿›è¡Œè°ƒè¯•"></a>7.2 åˆ©ç”¨RDDsè¿›è¡Œè°ƒè¯•</h3><p>è™½ç„¶æˆ‘ä»¬æœ€åˆè®¾è®¡çš„RDDåœ¨ç¡®å®šæ€§æ–¹é¢å¯ä»¥é‡æ–°è®¡ç®—ä»¥å®ç°å®¹é”™ï¼Œä½†è¿™ä¸ªå±æ€§ä¹Ÿå¯ä»¥ç®€åŒ–è°ƒè¯•ã€‚ç‰¹åˆ«æ˜¯ï¼Œé€šè¿‡è®°å½•åœ¨ä½œä¸šæœŸé—´åˆ›å»ºçš„RDDçš„lineageï¼Œå¯ä»¥ï¼ˆ1ï¼‰ç¨åé‡å»ºè¿™äº›RDDå¹¶è®©ç”¨æˆ·ä»¥äº¤äº’æ–¹å¼æŸ¥è¯¢å®ƒä»¬ï¼Œä»¥åŠï¼ˆ2ï¼‰åœ¨å•ä¸ªè¿‡ç¨‹è°ƒè¯•ä¸­é‡æ–°æ‰§è¡Œä½œä¸šçš„ä»»ä½•ä»»åŠ¡ï¼Œé€šè¿‡é‡æ–°è®¡ç®—å®ƒæ‰€ä¾èµ–çš„RDDåˆ†åŒºã€‚ä¸é€šç”¨åˆ†å¸ƒå¼ç³»ç»Ÿ[13]çš„ä¼ ç»Ÿé‡æ”¾è°ƒè¯•å™¨ä¸åŒï¼Œä¸å¿…æ•è·æˆ–æ¨æ–­è·¨å¤šèŠ‚ç‚¹çš„æ—¶é—´é¡ºåºï¼Œè¿™ç§æ–¹æ³•å‡ ä¹ä¸å¢åŠ è®°å½•å¼€é”€ï¼Œå› ä¸ºåªéœ€è¦è®°å½•RDD lineageå›¾ã€9 ä¸è¿™äº›ç³»ç»Ÿä¸åŒï¼ŒåŸºäºRDDçš„è°ƒè¯•å™¨ä¸ä¼šé‡æ”¾ç”¨æˆ·å‡½æ•°ä¸­çš„éç¡®å®šæ€§è¡Œä¸ºï¼ˆä¾‹å¦‚ï¼Œéç¡®å®šæ€§æ˜ å°„ï¼‰ï¼Œä½†å®ƒè‡³å°‘å¯ä»¥é€šè¿‡æ ¡éªŒå’Œæ•°æ®æ¥æŠ¥å‘Šå®ƒã€‘ã€‚æˆ‘ä»¬ç›®å‰æ­£åœ¨å¼€å‘åŸºäºè¿™äº›æƒ³æ³•çš„Sparkè°ƒè¯•å™¨[33]ã€‚</p><h2 id="8-ç›¸å…³å·¥ä½œ"><a href="#8-ç›¸å…³å·¥ä½œ" class="headerlink" title="8 ç›¸å…³å·¥ä½œ"></a>8 ç›¸å…³å·¥ä½œ</h2><p><strong>é›†ç¾¤ç¼–ç¨‹æ¨¡å‹ï¼š</strong><br>é›†ç¾¤ç¼–ç¨‹æ¨¡å‹çš„ç›¸å…³å·¥ä½œåˆ†ä¸ºå‡ ç±»ã€‚é¦–å…ˆï¼ŒMapReduce [10]ï¼ŒDryad [19]å’ŒCiel [23]ç­‰æ•°æ®æµæ¨¡å‹æ”¯æŒä¸°å¯Œçš„è¿ç®—ç¬¦é›†ï¼Œç”¨äºå¤„ç†æ•°æ®ï¼Œä½†é€šè¿‡ç¨³å®šçš„å­˜å‚¨ç³»ç»Ÿå…±äº«æ•°æ®ã€‚RDDsä»£è¡¨æ¯”ç¨³å®šå­˜å‚¨æ›´æœ‰æ•ˆçš„æ•°æ®å…±äº«æŠ½è±¡ï¼Œå› ä¸ºå®ƒä»¬é¿å…äº†æ•°æ®å¤åˆ¶ï¼ŒI / Oå’Œåºåˆ—åŒ–çš„æˆæœ¬ã€10 è¯·æ³¨æ„ï¼Œåœ¨åƒRAMCloud [25]è¿™æ ·çš„å†…å­˜æ•°æ®å­˜å‚¨ä¸­è¿è¡ŒMapReduce / Dryadä»ç„¶éœ€è¦æ•°æ®å¤åˆ¶å’Œåºåˆ—åŒ–ï¼Œè¿™å¯¹äºæŸäº›åº”ç”¨ç¨‹åºæ¥è¯´å¯èƒ½ä»£ä»·å¾ˆé«˜ï¼Œå¦‚6.1èŠ‚æ‰€ç¤ºã€‘ã€‚</p><p>å…¶æ¬¡ï¼Œæ•°æ®æµç³»ç»Ÿçš„å‡ ä¸ªé«˜çº§ç¼–ç¨‹æ¥å£ï¼ŒåŒ…æ‹¬DryadLINQ [31]å’ŒFlumeJava [8]ï¼Œæä¾›äº†è¯­è¨€é›†æˆçš„APIï¼Œç”¨æˆ·é€šè¿‡mapå’Œjoinç­‰æ“ä½œç¬¦æ“ä½œâ€œå¹¶è¡Œé›†åˆâ€ã€‚ä½†æ˜¯ï¼Œåœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œå¹¶è¡Œé›†åˆè¡¨ç¤ºç£ç›˜ä¸Šçš„æ–‡ä»¶æˆ–ç”¨äºè¡¨ç¤ºæŸ¥è¯¢è®¡åˆ’çš„ä¸´æ—¶æ•°æ®é›†ã€‚è™½ç„¶ç³»ç»Ÿä¼šåœ¨ç›¸åŒçš„æ“ä½œç¬¦æŸ¥è¯¢é—´æµæ°´å¼åœ°å¤„ç†æ•°æ®ï¼ˆå¦‚ï¼Œä¸€ä¸ªmapæ“ä½œæ¥ç€ä¸€ä¸ªmapæ“ä½œï¼‰ï¼Œä½†æ˜¯å®ƒä»¬å¹¶ä¸èƒ½åœ¨å„ä¸ªæŸ¥è¯¢ä¹‹é—´æœ‰æ•ˆåœ°å…±äº«æ•°æ®ã€‚æˆ‘ä»¬åœ¨å¹¶è¡Œæ”¶é›†æ¨¡å‹ä¸ŠåŸºäºSparkçš„APIï¼Œå› ä¸ºå®ƒçš„æ–¹ä¾¿æ€§ï¼Œå¹¶æ²¡æœ‰å¢åŠ è¯­è¨€é›†æˆæ¥å£çš„æ–°é¢–æ€§ï¼Œä½†é€šè¿‡æä¾›RDDä½œä¸ºæ­¤æ¥å£èƒŒåçš„å­˜å‚¨æŠ½è±¡ï¼Œæˆ‘ä»¬å…è®¸å®ƒæ”¯æŒæ›´å¹¿æ³›çš„åº”ç”¨ç¨‹åºã€‚</p><p>ç¬¬ä¸‰ç±»ç³»ç»Ÿä¸ºéœ€è¦æ•°æ®å…±äº«çš„ç‰¹å®šç±»åˆ«çš„åº”ç”¨ç¨‹åºæä¾›é«˜çº§æ¥å£ã€‚ä¾‹å¦‚ï¼ŒPregel [22]æ”¯æŒè¿­ä»£å›¾åº”ç”¨ï¼Œè€ŒTwister [11]å’ŒHaLoop [7]æ˜¯è¿­ä»£MapReduceè¿è¡Œæ—¶ã€‚ä½†æ˜¯ï¼Œè¿™äº›æ¡†æ¶éšå¼åœ°ä¸ºä»–ä»¬æ”¯æŒçš„è®¡ç®—æ¨¡å¼æä¾›æ•°æ®å…±äº«ï¼Œå¹¶ä¸”ä¸æä¾›ä¸€èˆ¬æŠ½è±¡æ¥ä¾›ç”¨æˆ·é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ä¸èƒ½ä½¿ç”¨Pregelæˆ–Twisterå°†æ•°æ®é›†åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†³å®šåœ¨å…¶ä¸Šè¿è¡Œå“ªä¸ªæŸ¥è¯¢ï¼ŒRDDæ˜ç¡®åœ°æä¾›åˆ†å¸ƒå¼å­˜å‚¨æŠ½è±¡ï¼Œå› æ­¤å¯ä»¥æ”¯æŒè¿™äº›ä¸“ç”¨ç³»ç»Ÿä¸æ”¯æŒçš„åº”ç”¨ï¼Œä¾‹å¦‚äº¤äº’å¼æ•°æ®æŒ–æ˜ã€‚</p><p>æœ€åï¼Œä¸€äº›ç³»ç»Ÿæš´éœ²å…±äº«å¯å˜çŠ¶æ€ä»¥å…è®¸ç”¨æˆ·æ‰§è¡Œå†…å­˜è®¡ç®—ã€‚ä¾‹å¦‚ï¼ŒPiccolo [27]å…è®¸ç”¨æˆ·è¿è¡Œå¹¶è¡ŒåŠŸèƒ½ä»¥è¯»å–å’Œæ›´æ–°åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ä¸­çš„å•å…ƒæ ¼ã€‚åˆ†å¸ƒå¼å…±äº«å­˜å‚¨ï¼ˆDSMï¼‰ç³»ç»Ÿ[24]å’Œé”®å€¼å­˜å‚¨å¦‚RAMCloud [25]æä¾›ä¸€ä¸ªç›¸ä¼¼çš„æ¨¡å‹ã€‚RDDåœ¨ä¸¤ä¸ªæ–¹é¢ä¸è¿™äº›ç³»ç»Ÿä¸åŒã€‚é¦–å…ˆï¼ŒRDDåŸºäºè¿ç®—ç¬¦ï¼ˆå¦‚mapï¼Œsortå’Œjoinï¼‰æä¾›æ›´é«˜çº§åˆ«çš„ç¼–ç¨‹æ¥å£ï¼Œè€ŒPiccoloå’ŒDSMä¸­çš„æ¥å£åªæ˜¯å¯¹è¡¨æ ¼å•å…ƒæ ¼çš„è¯»å–å’Œæ›´æ–°ã€‚å…¶æ¬¡ï¼ŒPiccoloå’ŒDSMç³»ç»Ÿé€šè¿‡æ£€æŸ¥ç‚¹å’Œå›æ»šå®ç°æ¢å¤ï¼Œè¿™æ¯”è®¸å¤šåº”ç”¨ç¨‹åºä¸­åŸºäºlineageç­–ç•¥çš„RDDsæ›´æ˜‚è´µã€‚æœ€åï¼Œæ­£å¦‚ç¬¬2.3èŠ‚æ‰€è®¨è®ºçš„é‚£æ ·ï¼ŒRDDè¿˜æä¾›äº†å…¶ä»–ä¼˜äºDSMçš„ä¼˜åŠ¿ï¼Œä¾‹å¦‚stragglerç¼“è§£ã€‚</p><p><strong>ç¼“å­˜ç³»ç»Ÿï¼š</strong><br>Nectar [12]å¯ä»¥é€šè¿‡ç¨‹åºåˆ†æè¯†åˆ«å¸¸è§çš„å­è¡¨è¾¾å¼ï¼Œåœ¨DryadLINQä½œä¸šä¸­é‡ç”¨ä¸­é—´ç»“æœ[16]ã€‚è¿™ç§èƒ½åŠ›å¯¹äºæ·»åŠ åˆ°åŸºäºRDDçš„ç³»ç»Ÿéå¸¸æœ‰å¸å¼•åŠ›ã€‚ä½†æ˜¯ï¼ŒNectarä¸æä¾›å†…å­˜ä¸­ç¼“å­˜ï¼ˆå®ƒå°†æ•°æ®æ”¾åœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­ï¼‰ï¼Œä¹Ÿä¸å…è®¸ç”¨æˆ·æ˜ç¡®æ§åˆ¶è¦æŒä¹…åŒ–çš„æ•°æ®é›†ä»¥åŠå¦‚ä½•å¯¹å®ƒä»¬è¿›è¡Œåˆ†åŒºã€‚Ciel [23]å’ŒFlumeJava [8]åŒæ ·å¯ä»¥ç¼“å­˜ä»»åŠ¡ç»“æœï¼Œä½†ä¸æä¾›å†…å­˜ç¼“å­˜æˆ–æ˜¾å¼æ§åˆ¶ç¼“å­˜å“ªäº›æ•°æ®ã€‚Ananthanarayananç­‰ã€‚å»ºè®®åœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­æ·»åŠ å†…å­˜ç¼“å­˜ï¼Œä»¥åˆ©ç”¨æ•°æ®è®¿é—®çš„æ—¶é—´å’Œç©ºé—´å±€éƒ¨æ€§[3]ã€‚è™½ç„¶æ­¤è§£å†³æ–¹æ¡ˆå¯ä»¥æ›´å¿«åœ°è®¿é—®æ–‡ä»¶ç³»ç»Ÿä¸­å·²æœ‰çš„æ•°æ®ï¼Œä½†å®ƒä¸åƒåœ¨RDDsä¸­é‚£æ ·æœ‰æ•ˆåœ°åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å…±äº«ä¸­é—´ç»“æœï¼Œå› ä¸ºå®ƒä»ç„¶éœ€è¦åº”ç”¨ç¨‹åºåœ¨ä¸åŒé˜¶æ®µé—´å°†è¿™äº›ç»“æœå†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚</p><p><strong>Lineageï¼š</strong><br>è®°è½½æ•°æ®çš„lineageæˆ–èµ·æºä¿¡æ¯é•¿æœŸä»¥æ¥ä¸€ç›´æ˜¯ç§‘å­¦è®¡ç®—å’Œæ•°æ®åº“ä¸­çš„ç ”ç©¶è¯¾é¢˜ï¼Œåº”ç”¨äºè§£é‡Šç»“æœï¼Œå…è®¸æ•°æ®å¯ä»¥è¢«åˆ«çš„æ•°æ®é‡å»ºï¼ŒåŒæ—¶å¦‚æœåœ¨å·¥ä½œæµä¸­å‡ºç°äº†bugæˆ–è€…æ•°æ®åŠä¸¢å¤±äº†ï¼Œèƒ½å¤Ÿé‡æ–°è®¡ç®—å¾—åˆ°æ•°æ®ã€‚æˆ‘ä»¬æ¨èè¯»è€…é˜…è¯»[5]å’Œ[9]æ¥äº†è§£è¿™äº›å·¥ä½œã€‚RDDsæä¾›å¹¶è¡Œç¼–ç¨‹æ¨¡å‹ï¼Œå…¶ä¸­è·å–ç»†ç²’åº¦çš„lineageæˆæœ¬ä½å»‰ï¼Œå› æ­¤å¯ç”¨äºæ•…éšœæ¢å¤ã€‚</p><p>æˆ‘ä»¬åŸºäºlineageçš„æ¢å¤æœºåˆ¶ä¹Ÿç±»ä¼¼äºMapReduceå’ŒDryadä¸­è®¡ç®—ï¼ˆä½œä¸šï¼‰ä¸­ä½¿ç”¨çš„æ¢å¤æœºåˆ¶ï¼Œå®ƒè·Ÿè¸ªä»»åŠ¡çš„DAGä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ä½†æ˜¯ï¼Œåœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œè°±ç³»ï¼ˆlineageï¼‰ä¿¡æ¯åœ¨ä½œä¸šç»“æŸåä¸¢å¤±ï¼Œéœ€è¦ä½¿ç”¨å¤åˆ¶çš„å­˜å‚¨ç³»ç»Ÿæ¥è·¨è®¡ç®—å…±äº«æ•°æ®ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRDDsåº”ç”¨lineageæ¥æœ‰æ•ˆåœ°è·¨è®¡ç®—ä¿ç•™å†…å­˜æ•°æ®ï¼Œè€Œæ— éœ€å¤åˆ¶å’Œç£ç›˜I / Oçš„æˆæœ¬ã€‚</p><p><strong>å…³ç³»å‹æ•°æ®åº“ï¼š</strong><br>RDDsåœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è§†å›¾ï¼Œè€ŒæŒä¹…åŒ–RDDsç±»ä¼¼äºç‰©åŒ–è§†å›¾[28]ã€‚ä½†æ˜¯ï¼Œä¸DSMç³»ç»Ÿä¸€æ ·ï¼Œæ•°æ®åº“é€šå¸¸å…è®¸å¯¹æ‰€æœ‰è®°å½•è¿›è¡Œç»†ç²’åº¦çš„è¯»å†™è®¿é—®ï¼Œéœ€è¦è®°å½•æ“ä½œå’Œæ•°æ®ä»¥å®ç°å®¹é”™ï¼Œå¹¶ä¸”éœ€è¦é¢å¤–çš„å¼€é”€æ¥ç»´æŠ¤ä¸€è‡´æ€§ã€‚RDDçš„ç²—ç²’åº¦è½¬æ¢æ¨¡å‹ä¸éœ€è¦è¿™äº›å¼€é”€ã€‚</p><h2 id="9-ç»“è®º"><a href="#9-ç»“è®º" class="headerlink" title="9 ç»“è®º"></a>9 ç»“è®º</h2><p>æˆ‘ä»¬æä¾›äº†å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDsï¼‰ï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆï¼Œé€šç”¨å’Œå®¹é”™çš„ç”¨äºåœ¨é›†ç¾¤åº”ç”¨ç¨‹åºä¸­å…±äº«æ•°æ®çš„æŠ½è±¡ã€‚RDDså¯ä»¥è¡¨è¾¾å„ç§å¹¶è¡Œåº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬å·²ç»æå‡ºç”¨äºè¿­ä»£è®¡ç®—çš„è®¸å¤šä¸“ç”¨ç¼–ç¨‹æ¨¡å‹ï¼Œä»¥åŠè¿™äº›æ¨¡å‹è¿˜æœªå®ç°çš„æ–°åº”ç”¨ç¨‹åºã€‚ä¸ç°æœ‰çš„é›†ç¾¤å­˜å‚¨æŠ½è±¡ï¼ˆéœ€è¦æ•°æ®å¤åˆ¶ä»¥å®ç°å®¹é”™ï¼‰ä¸åŒï¼ŒRDDsæä¾›åŸºäºç²—ç²’åº¦è½¬æ¢çš„APIï¼Œä½¿å…¶èƒ½å¤Ÿä½¿ç”¨lineageæ¥æœ‰æ•ˆåœ°æ¢å¤æ•°æ®ã€‚æˆ‘ä»¬åœ¨Sparkä¸­å®ç°äº†RDDsï¼Œå®ƒåœ¨è¿­ä»£åº”ç”¨ç¨‹åºä¸­çš„æ€§èƒ½æ¯”Hadoopé«˜å‡º20å€ï¼Œå¹¶ä¸”å¯ä»¥äº¤äº’å¼æŸ¥è¯¢æ•°ç™¾GBçš„æ•°æ®ã€‚</p><p>æˆ‘ä»¬åœ¨spark-project.orgä¸Šæä¾›äº†å¼€æºSparkä½œä¸ºå¯æ‰©å±•æ•°æ®åˆ†æå’Œç³»ç»Ÿç ”ç©¶çš„å·¥å…·ã€‚</p><h2 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h2><p>æˆ‘ä»¬æ„Ÿè°¢ç¬¬ä¸€æ‰¹Sparkç”¨æˆ·ï¼ŒåŒ…æ‹¬Tim Hunterï¼ŒLester Mackeyï¼ŒDilip Josephå’ŒJibin Zhanï¼Œä»–ä»¬åœ¨å®é™…åº”ç”¨ä¸­å°è¯•æˆ‘ä»¬çš„ç³»ç»Ÿï¼Œæä¾›äº†è®¸å¤šå¥½çš„å»ºè®®ï¼Œå¹¶æŒ‡å‡ºäº†ä¸€äº›ç ”ç©¶ä¸­çš„æŒ‘æˆ˜ã€‚æˆ‘ä»¬è¿˜è¦æ„Ÿè°¢æˆ‘ä»¬çš„æŒ‡å¯¼è€…Ed Nightingaleä»¥åŠå®¡æ ¸çš„åé¦ˆã€‚è¿™é¡¹ç ”ç©¶éƒ¨åˆ†ç”±Berkeley AMP Lab<br>æ”¯æŒï¼Œç”± Google, SAP, Amazon Web Services, Cloudera, <strong><em>Huawei</em></strong>, IBM, Intel, Microsoft, NEC, NetApp å’Œ VMWareï¼ŒDARPAï¼Œthe Natural Sci- ences å’Œ Engineering Research Council of CanadaèµåŠ©ã€‚</p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>[1] Apache Hive. <a href="http://hadoop.apache.org/hive" target="_blank" rel="noopener">http://hadoop.apache.org/hive</a>.</p><p>[2] Scala. <a href="http://www.scala-lang.org" target="_blank" rel="noopener">http://www.scala-lang.org</a>.</p><p>[3] G.Ananthanarayanan,A.Ghodsi,S.Shenker,andI.Stoica.<br>Disk-locality in datacenter computing considered irrelevant. In<br>HotOS â€™11, 2011.</p><p>[4] P.Bhatotia,A.Wieder,R.Rodrigues,U.A.Acar,and<br>R. Pasquin. Incoop: MapReduce for incremental computations.<br>In ACM SOCC â€™11, 2011.</p><p>[5] R.BoseandJ.Frew.Lineageretrievalforscientificdata<br>processing: a survey. ACM Computing Surveys, 37:1â€“28, 2005.</p><p>[6] S.BrinandL.Page.Theanatomyofalarge-scalehypertextual<br>web search engine. In WWW, 1998.</p><p>[7] Y.Bu,B.Howe,M.Balazinska,andM.D.Ernst.HaLoop:<br>efficient iterative data processing on large clusters. Proc. VLDB<br>Endow., 3:285â€“296, September 2010.</p><p>[8] C.Chambers,A.Raniwala,F.Perry,S.Adams,R.R.Henry,<br>R. Bradshaw, and N. Weizenbaum. FlumeJava: easy, efficient<br>data-parallel pipelines. In PLDI â€™10. ACM, 2010.</p><p>[9] J.Cheney,L.Chiticariu,andW.-C.Tan.Provenancein<br>databases: Why, how, and where. Foundations and Trends in<br>Databases, 1(4):379â€“474, 2009.</p><p>[10] J.DeanandS.Ghemawat.MapReduce:Simplifieddata<br>processing on large clusters. In OSDI, 2004.</p><p>[11] J. Ekanayake, H. Li, B. Zhang, T. Gunarathne, S.-H. Bae, J. Qiu, and G. Fox. Twister: a runtime for iterative mapreduce. In HPDC â€™10, 2010.</p><p>[12] P.K.Gunda,L.Ravindranath,C.A.Thekkath,Y.Yu,and L. Zhuang. Nectar: automatic management of data and computation in datacenters. In OSDI â€™10, 2010.</p><p>[13] Z.Guo,X.Wang,J.Tang,X.Liu,Z.Xu,M.Wu,M.F. Kaashoek, and Z. Zhang. R2: an application-level kernel for record and replay. OSDIâ€™08, 2008.</p><p>[14] T.Hastie,R.Tibshirani,andJ.Friedman.TheElementsof Statistical Learning: Data Mining, Inference, and Prediction. Springer Publishing Company, New York, NY, 2009.</p><p>[15] B.He,M.Yang,Z.Guo,R.Chen,B.Su,W.Lin,andL.Zhou. Comet: batched stream processing for data intensive distributed computing. In SoCC â€™10.</p><p>[16] A.Heydon,R.Levin,andY.Yu.Cachingfunctioncallsusing precise dependencies. In ACM SIGPLAN Notices, pages 311â€“320, 2000.</p><p>[17] B.Hindman,A.Konwinski,M.Zaharia,A.Ghodsi,A.D. Joseph, R. H. Katz, S. Shenker, and I. Stoica. Mesos: A platform for fine-grained resource sharing in the data center. In NSDI â€™11.</p><p>[18] T.Hunter,T.Moldovan,M.Zaharia,S.Merzgui,J.Ma,M.J. Franklin, P. Abbeel, and A. M. Bayen. Scaling the Mobile Millennium system in the cloud. In SOCC â€™11, 2011.</p><p>[19] M. Isard, M. Budiu, Y. Yu, A. Birrell, and D. Fetterly. Dryad: distributed data-parallel programs from sequential building blocks. In EuroSys â€™07, 2007.</p><p>[20] S.Y.Ko,I.Hoque,B.Cho,andI.Gupta.Onavailabilityof intermediate data in cloud computations. In HotOS â€™09, 2009.</p><p>[21] D. Logothetis, C. Olston, B. Reed, K. C. Webb, and K. Yocum. Stateful bulk processing for incremental analytics. SoCC â€™10. [22] G.Malewicz,M.H.Austern,A.J.Bik,J.C.Dehnert,I.Horn,<br>N. Leiser, and G. Czajkowski. Pregel: a system for large-scale<br>graph processing. In SIGMOD, 2010.</p><p>[23] D.G.Murray,M.Schwarzkopf,C.Smowton,S.Smith,<br>A. Madhavapeddy, and S. Hand. Ciel: a universal execution<br>engine for distributed data-flow computing. In NSDI, 2011. </p><p>[24] B.NitzbergandV.Lo.Distributedsharedmemory:asurveyof<br>issues and algorithms. Computer, 24(8):52 â€“60, Aug 1991. </p><p>[25] J.Ousterhout,P.Agrawal,D.Erickson,C.Kozyrakis,<br>J. Leverich, D. Mazie`res, S. Mitra, A. Narayanan, G. Parulkar, M. Rosenblum, S. M. Rumble, E. Stratmann, and R. Stutsman. The case for RAMClouds: scalable high-performance storage entirely in DRAM. SIGOPS Op. Sys. Rev., 43:92â€“105, Jan 2010.</p><p>[26] D.PengandF.Dabek.Large-scaleincrementalprocessingusing distributed transactions and notifications. In OSDI 2010.</p><p>[27] R.PowerandJ.Li.Piccolo:Buildingfast,distributedprograms with partitioned tables. In Proc. OSDI 2010, 2010.</p><p>[28] R.RamakrishnanandJ.Gehrke.DatabaseManagement Systems. McGraw-Hill, Inc., 3 edition, 2003.</p><p>[29] K.Thomas,C.Grier,J.Ma,V.Paxson,andD.Song.Designand evaluation of a real-time URL spam filtering service. In IEEE Symposium on Security and Privacy, 2011.</p><p>[30] J.W.Young.Afirstorderapproximationtotheoptimum checkpoint interval. Commun. ACM, 17:530â€“531, Sept 1974.</p><p>[31] Y.Yu,M.Isard,D.Fetterly,M.Budiu,U Ì.Erlingsson,P.K. Gunda, and J. Currey. DryadLINQ: A system for general-purpose distributed data-parallel computing using a high-level language. In OSDI â€™08, 2008.</p><p>[32] M.Zaharia,D.Borthakur,J.SenSarma,K.Elmeleegy,<br>S. Shenker, and I. Stoica. Delay scheduling: A simple technique for achieving locality and fairness in cluster scheduling. In EuroSys â€™10, 2010.</p><p>[33] M.Zaharia,M.Chowdhury,T.Das,A.Dave,J.Ma,<br>M. McCauley, M. Franklin, S. Shenker, and I. Stoica. Resilient distributed datasets: A fault-tolerant abstraction for in-memory cluster computing. Technical Report UCB/EECS-2011-82, EECS Department, UC Berkeley, 2011.</p>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
            <tag> RDD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¿»è¯‘-æ–°æ‰‹å‘å¤§å‹ç½‘ç»œåº”ç”¨æ‰©å±•</title>
      <link href="/2019/04/09/transfer-scaling-webapps-for-newbs-and-non-techies/"/>
      <url>/2019/04/09/transfer-scaling-webapps-for-newbs-and-non-techies/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸ªæ˜ŸæœŸå°±å‡†å¤‡ç¿»è¯‘å‡ºè¿™ç¯‡æ–‡ç« æ¥ç€ï¼Œä½†æ˜¯æ¯•è®¾ç­”è¾©åŠ ä¸Šæ¸…æ˜èŠ‚å‡æœŸå°±å¯¼è‡´æ‹–åˆ°äº†ä»Šå¤©ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯åœ¨é˜®ä¸€å³°è€å¸ˆçš„æ¯å‘¨è®°å½•ä¸­çœ‹åˆ°çš„ã€‚å› ä¸ºä¹‹å‰çœ‹äº†é¡¶å¤©çš„ã€Šå¤§å‹ç½‘ç»œæ‰©å±•å’ŒJAVAä¸­é—´ä»¶ã€‹è¿™æœ¬ä¹¦ï¼ˆ2/3ï¼‰ï¼Œæ‰€ä»¥å¯¹è¿™ä¸ªè¯é¢˜æ¯”è¾ƒç†Ÿæ‚‰ã€‚åŠ ä¸Šè¿™ç¯‡å¤–æ–‡æœ‰å¾ˆå¥½çœ‹çš„æ’å›¾ï¼Œæ¸…æ™°æ˜“æ‡‚ï¼Œæ²¡æœ‰æŠ€æœ¯æ€§çš„é˜…è¯»éšœç¢ï¼Œæ˜¯é€šè¿‡é€»è¾‘æ€§çš„æ€ç»´è¿›è¡Œç½‘ç«™åº”ç”¨æ‰©å±•çš„è®²è§£ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒç¿»è¯‘å‡ºæ¥ï¼Œå¤ä¹ ä½¿ç”¨ã€‚</p><ul><li>åŸæ–‡åœ°å€: <a href="https://arcentry.com/blog/scaling-webapps-for-newbs-and-non-techies/" target="_blank" rel="noopener">Scaling webapps for newbs &amp; non-techies</a></li></ul><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g1web0xb1ej20zk0k0wrd.jpg" alt></p><p>è¿™ç¯‡å…¥é—¨æ€»ç»“äº†å°†å•æœåŠ¡å™¨æ‰©å±•åˆ°ç™¾ä¸‡çº§åˆ«ç”¨æˆ·å¤§å‹ç½‘ç«™<strong>æ‰©å±•</strong>çš„åŸºæœ¬åŸåˆ™ã€‚è¿™ç¯‡æ–‡ç« é’ˆå¯¹çš„æ˜¯ï¼ŒæŠ€æœ¯é¢†åŸŸçš„æ–°æ‰‹æˆ–è€…éå¼€å‘äººå‘˜çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ­£åœ¨éƒ¨ç½²æ›´é«˜å¤§ä¸Šçš„åº”ç”¨æœåŠ¡çš„è¯ï¼Œè¿™ç¯‡æ–‡ç« å¹¶ä¸é€‚åˆä½ ã€‚</p><p>å¦‚æœè¿™æ­£æ˜¯ä½ æƒ³è¦çš„ï¼Œé‚£ä¹ˆå¼€å§‹å§ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯æ‰©å±•"><a href="#ä»€ä¹ˆæ˜¯æ‰©å±•" class="headerlink" title="ä»€ä¹ˆæ˜¯æ‰©å±•"></a>ä»€ä¹ˆæ˜¯æ‰©å±•</h3><p>ä½ æŠŠä½ ç¼–å†™çš„ç½‘ç«™ï¼Œç½‘ä¸Šå•†åº—ã€ç¤¾äº¤ç½‘ç»œç­‰ï¼Œéƒ¨ç½²ä¸Šçº¿ï¼Œä¸€åˆ‡éƒ½è¿è¡Œçš„å¾ˆç¾å¥½ï¼šæ¯å¤©éƒ½æœ‰å‡ ç™¾ç”¨æˆ·è®¿é—®ã€è¯·æ±‚å“åº”åŠæ—¶ã€è°ƒç”¨ç«‹å³å®Œæˆã€‚ä¸€åˆ‡éƒ½æœ‰æ¡ä¸ç´Šåœ°ä¸æ–­è¿è¡Œã€‚</p><p>ä½†æ˜¯ä¸€äº›â€ä¸å¥½â€çš„äº‹æƒ…å‘ç”Ÿäº†ï¼šä½ å¤§è·æˆåŠŸï¼</p><p>å‡ ç™¾ã€ä¸Šåƒã€ä¸Šä¸‡çš„ç”¨æˆ·æ¯æ—¶æ¯ç§’ä¸æ–­æ¶Œå…¥ï¼Œå¹¶ä¸”åœ¨ä¸æ–­å¢åŠ ã€‚è¿™çœ‹èµ·æ¥æ˜¯å•†ä¸šä¸Šæœ€æ£’çš„æ¶ˆæ¯äº†ï¼Œä½†åŒæ—¶ä¹Ÿåœ¨å¯¹ä½ çš„åŸºç¡€è®¾æ–½ï¼ˆæœåŠ¡ï¼‰è¯´ï¼šäº²çˆ±çš„ï¼Œä½ å¤§äº‹ä¸å¦™ã€‚å› ä¸ºå¯¹äºç½‘ç«™çš„æœåŠ¡æ¥è¯´å¿…é¡»è¦æ‰©å±•äº†ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿï¼š</p><ul><li>åŒæ—¶ä¸ºæ›´å¤šçš„ç”¨æˆ·æä¾›æœåŠ¡</li><li>å…¨å¤©åœ¨çº¿ï¼Œä¸åœæœº</li><li>æœåŠ¡å…¨ä¸–ç•Œç”¨æˆ·</li></ul><h3 id="æ‰©å±•æ˜¯æ€ä¹ˆå·¥ä½œçš„"><a href="#æ‰©å±•æ˜¯æ€ä¹ˆå·¥ä½œçš„" class="headerlink" title="æ‰©å±•æ˜¯æ€ä¹ˆå·¥ä½œçš„"></a>æ‰©å±•æ˜¯æ€ä¹ˆå·¥ä½œçš„</h3><p>ä»¥å‰ï¼Œè¿™ç¯‡æ–‡ç« è¦ä»¥è®¨è®ºâ€çºµå‘â€æ‰©å±•ï¼ˆâ€verticalâ€ï¼‰å’Œâ€æ¨ªå‘â€ï¼ˆâ€horizontalâ€ï¼‰æ‰©å±•æ¥å¼€å¤´ã€‚æ€»ä¹‹ï¼Œçºµå‘æ‰©å±•æŒ‡çš„æ˜¯åœ¨æ›´å¼ºå¤§çš„æœºå™¨ä¸Šè¿è¡Œç›¸åŒçš„åº”ç”¨ï¼Œè€Œæ¨ªå‘æ‰©å±•æ˜¯å¹¶è¡Œè¿è¡Œå¤šä¸ªæœåŠ¡è¿›ç¨‹ã€‚</p><p>ç°åœ¨ï¼Œå·²ç»æ²¡æœ‰äººçºµå‘æ‰©å±•äº†ï¼Œç†ç”±å¦‚ä¸‹ï¼š</p><ul><li>è®¡ç®—æœºçš„ä»·æ ¼å’Œæ€§èƒ½æˆæŒ‡æ•°å¢åŠ çš„å…³ç³»</li><li>å•æœºå¯ä»¥è¿è¡Œå¾ˆå¿«ï¼Œä½†æ˜¯åœ¨çºµå‘ä¸Šçš„æ‰©å±•æ˜¯æœ‰æé™çš„</li><li>å¤šæ ¸CPUæ„å‘³ç€å•æœºä¹Ÿèƒ½æœ‰æ•ˆçš„å¹¶è¡Œè¿ç®—ï¼Œé‚£ä¸å¦‚ä¸€å¼€å§‹å°±å¹¶è¡ŒåŒ–å¥½äº†</li></ul><p>é‚£ä¹ˆæ¨ªå‘æ‰©å±•çš„å¿…è¦æ­¥éª¤æœ‰é‚£äº›å‘¢ï¼Ÿ</p><h3 id="1-å•æœåŠ¡å™¨-æ•°æ®åº“"><a href="#1-å•æœåŠ¡å™¨-æ•°æ®åº“" class="headerlink" title="1. å•æœåŠ¡å™¨+æ•°æ®åº“"></a>1. å•æœåŠ¡å™¨+æ•°æ®åº“</h3><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g1webi6rjsj20jg0bumy3.jpg" alt><br>ä½ çš„ç½‘ç«™åç«¯å¯èƒ½ä¸€å¼€å§‹å°±æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨æ‰§è¡Œä½ çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ•°æ®åº“å­˜å‚¨æ•°æ®ã€‚äº‹æƒ…ç®€å•è€Œç¾å¥½ï¼Œä½†æ˜¯æƒ³è¦å…¶é«˜å¯ç”¨ï¼Œåªèƒ½ç”¨æ›´å¥½çš„æœºå™¨â€“è¿™å¹¶ä¸å¥½ã€‚</p><h3 id="2-å¢åŠ åå‘ä»£ç†"><a href="#2-å¢åŠ åå‘ä»£ç†" class="headerlink" title="2. å¢åŠ åå‘ä»£ç†"></a>2. å¢åŠ åå‘ä»£ç†</h3><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g1webuwgw7j20jg0al3zf.jpg" alt></p><p>ä¸ºäº†ä½¿ä½ çš„æ¶æ„èƒ½å¤Ÿé€‚åº”æ›´å¤§çš„æ‰©å±•ï¼Œç¬¬ä¸€æ­¥è¦åŠ ä¸€ä¸ªâ€åå‘ä»£ç†â€ã€‚å®ƒå°±ç›¸å½“äºé…’åº—çš„å‰å°ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥è®©å®¢äººç›´æ¥å»è‡ªå·±çš„æˆ¿é—´ï¼›ä½†æ˜¯ï¼Œä½ çœŸæ­£éœ€è¦çš„äº‹ä¸€ä¸ªä¸­é—´äººï¼Œèƒ½å¤Ÿç¡®è®¤è¿™ä½å®¢äººæ˜¯å¦å…è®¸è¿›å…¥ã€åˆ°åº•æœ‰æ²¡æœ‰è®¢æˆ¿æˆ–è€…æ­£å»å¾€ä¸€ä¸ªæ­£ç¡®æˆ¿é—´çš„è·¯ä¸Šã€‚åŒæ—¶ä½ è¿˜è¦è¦å‘ŠçŸ¥å®¢æˆ·ï¼Œä»–è¦çš„æˆ¿é—´å¯ä¸å¯ç”¨ã€èƒ½ä¸èƒ½å»ï¼Œä»¥å…å°´å°¬çš„å¾˜å¾Šã€‚ä»¥ä¸Šå°±æ˜¯åå‘ä»£ç†çš„å·¥ä½œã€‚ä»£ç†å°±æ˜¯ç”¨æ¥æ¥æ”¶å’Œè½¬å‘è¯·æ±‚çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¯·æ±‚æ˜¯ä»æˆ‘ä»¬çš„æœåŠ¡å™¨å‘å‡ºåˆ°äº’è”ç½‘ä¸Šçš„ã€‚ä½†æ˜¯è¿™æ¬¡ï¼Œæ˜¯ä»äº’è”ç½‘ä¸Šè·¯ç”±åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬â€åå‘ä»£ç†â€ã€‚</p><p>ä¸€ä¸ªä»£ç†éœ€è¦å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š</p><ul><li>è¿è¡ŒçŠ¶æ€æ£€æŸ¥ï¼Œç¡®ä¿æˆ‘ä»¬çš„æœåŠ¡å™¨è¿˜åœ¨è¿è¡Œ</li><li>å°†è¯·æ±‚è·¯ç”±ï¼ˆå®šå‘ï¼‰åˆ°æ­£ç¡®çš„ç»ˆç‚¹</li><li>è®¤è¯ï¼Œç¡®ä¿è¯·æ±‚çš„å‘é€æ–¹æ˜¯æœ‰è®¸å¯çš„</li><li>é˜²ç«å¢™ï¼Œç¡®ä¿è¯·æ±‚æ–¹è®¿é—®çš„æ˜¯æœåŠ¡å™¨ä¸Šæœ‰æƒé™çš„å†…å®¹</li></ul><h3 id="3-å¼•å…¥è´Ÿè½½å‡è¡¡"><a href="#3-å¼•å…¥è´Ÿè½½å‡è¡¡" class="headerlink" title="3. å¼•å…¥è´Ÿè½½å‡è¡¡"></a>3. å¼•å…¥è´Ÿè½½å‡è¡¡</h3><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g1wec96qloj20jg0csabd.jpg" alt></p><p>è®¸å¤šåå‘ä»£ç†è¿˜èƒ½å¤Ÿè´Ÿè½½å‡è¡¡ã€‚è´Ÿè½½å‡è¡¡å™¨æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æ¦‚å¿µï¼šæƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä¸€åˆ†é’Ÿå†…æœ‰ä¸€ç™¾ä¸ªç”¨æˆ·è¦å‘ä½ çš„ç½‘ä¸Šå•†åº—ä»˜æ¬¾ï¼Œå¾ˆä¸å¹¸çš„æ˜¯ï¼Œä½ çš„æ”¯ä»˜ç³»ç»Ÿåªèƒ½åŒæ—¶å¤„ç†50ä¸ªæ”¯ä»˜è¯·æ±‚ã€‚æ€ä¹ˆè§£å†³ï¼ŸåŒæ—¶è¿è¡Œä¸¤ä¸ªæ”¯ä»˜ç³»ç»ŸæœåŠ¡å™¨ã€‚</p><p>ç°åœ¨è´Ÿè½½å‡è¡¡å™¨çš„ä½œç”¨å°±æ˜¯å°†æ”¯ä»˜è¯·æ±‚åˆ†æ‘Šåˆ°è¿™ä¸¤ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·1åˆ°å·¦è¾¹çš„æœåŠ¡å™¨ï¼Œç”¨æˆ·2åŒºå³è¾¹çš„æœåŠ¡å™¨ï¼Œç”¨æˆ·3å»å·¦è¾¹çš„â€¦ä»¥æ­¤ç±»æ¨ã€‚</p><p>å¦‚æœåŒæ—¶ğŸˆ¶500ä¸ªæ”¯ä»˜è¯·æ±‚æ€ä¹ˆåŠå‘¢ï¼ŸåŠ åˆ°10ä¸ªæ”¯ä»˜ç³»ç»ŸæœåŠ¡å™¨ï¼Œç„¶åç”¨è´Ÿè½½å‡è¡¡åˆ†æ‘Šè¯·æ±‚ã€‚</p><h3 id="4-æ‰©å±•æ•°æ®åº“"><a href="#4-æ‰©å±•æ•°æ®åº“" class="headerlink" title="4. æ‰©å±•æ•°æ®åº“"></a>4. æ‰©å±•æ•°æ®åº“</h3><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g1wecqv3woj20jg0bwdh3.jpg" alt></p><p>è¿ç”¨è´Ÿè½½å‡è¡¡å¯ä»¥å°†å‹åŠ›åˆ†åœ¨å„ä¸ªæœåŠ¡å™¨ä¸Šã€‚ä½†æ˜¯ä½ å‘ç°é—®é¢˜äº†ä¹ˆï¼Ÿè™½ç„¶æˆ‘ä»¬å¯èƒ½æœ‰æˆç™¾ä¸Šåƒä¸ªæœåŠ¡å™¨ï¼Œç”¨æ¥å¤„ç†è¯·æ±‚ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªæ•°æ®åº“å­˜å–æ•°æ®ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥åŒæ ·çš„æ–¹å¼æ¥æ‰©å±•æ•°æ®åº“å˜›ï¼Ÿå¾ˆä¸å¹¸çš„æ˜¯ï¼Œä¸è¡Œã€‚å…³é”®åœ¨äºä¸€è‡´æ€§çš„é—®é¢˜ã€‚æˆ‘ä»¬ç³»ç»Ÿä¸­çš„æ¯ä¸ªéƒ¨åˆ†éƒ½è¦ç¡®ä¿ä½¿ç”¨æ•°æ®çš„ä¸€è‡´æ€§ã€‚ä¸ä¸€è‡´çš„æ•°æ®å¯¼è‡´å„ç§æ£˜æ‰‹çš„é—®é¢˜ï¼šè®¢å•ä¸ºé‡å¤æ‰§è¡Œ2æ¬¡ï¼Œä»ä½™é¢100çš„è´¦æˆ·é‡Œæ‰£é™¤2æ¬¡90å…ƒçš„ä»˜æ¬¾ç­‰ç­‰ã€‚æ‰€ä»¥æˆ‘ä»¬æ€æ ·æ‰èƒ½æ‰©å±•æ•°æ®åº“ï¼ŒåŒæ—¶åˆä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å‘¢?</p><p>é¦–å…ˆæˆ‘ä»¬è¦æŠŠæ•°æ®åº“åˆ†æˆä¸åŒçš„éƒ¨åˆ†ã€‚ä¸€éƒ¨åˆ†ä¸“é—¨ç”¨æ¥æ¥æ”¶å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ä»–éƒ¨åˆ†ä¸“é—¨ç”¨æ¥è¯»å–æ•°æ®ã€‚è¿™ç§æ–¹æ¡ˆæœ‰æ—¶ç§°ä¸ºä¸»/ä»é­”çŸ³ï¼Œæœ‰æ—¶ç§°ä¸ºä½¿ç”¨åªè¯»å‰¯æœ¬å†™å…¥ã€‚è€Œä¸”å‡å®šæœåŠ¡å™¨è¯»æ•°æ®æ¯”å†™æ•°æ®çš„æ¬¡æ•°æ›´å¤šã€‚<br>è¿™æ ·çš„è§£å†³æ–¹æ³•å°±èƒ½ä¿è¯ä¸€è‡´æ€§ï¼Œå› ä¸ºæ•°æ®æ˜¯ä»å•ä¸ªæ¥å£å†™å…¥çš„ï¼Œè€Œä¸”æ•°æ®æµåŠ¨æ˜¯å•å‘çš„ï¼Œä»å†™åˆ°è¯»ã€‚<br>ç¼ºç‚¹å°±æ˜¯æ•°æ®è¾“å…¥è¿˜æ˜¯ç”±å•ä¸ªæ•°æ®åº“å®Œæˆï¼Œè¿™å¯¹äºä¸­å°å‹çš„åº”ç”¨æ¥è¯´æ˜¯OKçš„ï¼Œä½†æ˜¯å¯¹äºåƒFacebooké‚£æ ·çº§åˆ«çš„å°±ä¸è¡Œã€‚æ›´è¿›ä¸€æ­¥çš„æ•°æ®åº“æ‰©å±•å°†åœ¨ä¹‹åè®¨è®ºã€‚</p><h3 id="5-å¾®æœåŠ¡"><a href="#5-å¾®æœåŠ¡" class="headerlink" title="5. å¾®æœåŠ¡"></a>5. å¾®æœåŠ¡</h3><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g1wed4e3tyj20jg0c3tag.jpg" alt></p><p>åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬éƒ½ç”¨ä¸€ä¸ªæœåŠ¡å™¨å»å®Œæˆæ‰€æœ‰çš„å·¥ä½œï¼šå¤„ç†æ”¯ä»˜ã€è®¢å•ã€åº“å­˜ã€æä¾›webæœåŠ¡ã€ç®¡ç†ç”¨æˆ·è´¦å·ç­‰ã€‚</p><p>è¿™æœªå¿…ä¸æ˜¯ä¸€ä»¶åäº‹ï¼Œå•ä¸ªæœåŠ¡å™¨æ„å‘³ç€æ›´ä½çš„å¤æ‚åº¦ï¼ˆç»“æ„ä¸Šçš„ï¼‰ï¼Œå¯¹æˆ‘ä»¬å¼€å‘è€…æ¥è¯´æ²¡é‚£ä¹ˆå¤´ç–¼ã€‚<br>ä½†æ˜¯éšç€æ‰©å±•çš„å¢åŠ ï¼Œäº‹æƒ…å¼€å§‹å˜å¾—å¤æ‚å’Œä½æ•ˆï¼š</p><ul><li>ä¸åŒçš„æœåŠ¡ç”¨åœ¨ä¸åŒçš„èŒƒå›´ã€‚å¯¹äºç”¨æˆ·ç™»å½•è¿™ä¸ªæµç¨‹ï¼Œå¯èƒ½åœ¨å¾ˆå¤šé¡µé¢éƒ½æœ‰ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šçš„èµ„æºã€‚ä½†æ˜¯è¿™ä¸€äº›éƒ½æ˜¯åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå®Œæˆçš„ã€‚</li><li>æˆ‘ä»¬çš„ä»£å‘å›¢é˜Ÿéšç€åº”ç”¨è€Œæˆé•¿ã€‚ä½†æ˜¯è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå·¥ä½œï¼Œä¸å¯é¿å…çš„å°±ä¼šå¹²æ‰°åˆ°åˆ«äººã€‚</li><li>æ‰€æœ‰æœåŠ¡éƒ½åœ¨ä¸€èµ·ï¼Œæ„å‘³ç€æ¯æ¬¡å‘æ–°ç‰ˆéƒ½è¦å°†æ‰€æœ‰æœåŠ¡éƒ½åœæ‰ã€‚è¿™ä¼šå¯¼è‡´ä¸€ä¸ªå¾ˆä¸¥é‡çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œä¸€ä¸ªå›¢é˜Ÿå·²ç»åšå®Œäº†ï¼Œç­‰ç€å‘å¸ƒä¸Šçº¿ï¼Œä½†æ˜¯å¦ä¸€ä¸ªå›¢é˜Ÿå¯èƒ½æ‰å®Œæˆä¸€åŠã€‚</li></ul><p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ä¸€ä¸ªç»“æ„èŒƒå¼ï¼Œå®ƒå·²ç»æ€èµ·äº†å¼€å‘ç•Œçš„ä¸€å¤§æµªæ½®ï¼šå¾®æœåŠ¡ã€‚æ€æƒ³å¾ˆç®€å•ï¼Œå°†æœåŠ¡å™¨åˆ†æˆå¤šä¸ªåŠŸèƒ½å•å…ƒï¼Œå°†ä»–ä»¬éƒ¨ç½²æˆç‹¬ç«‹çš„ã€äº’è”çš„è¿·ä½ æœåŠ¡å™¨ã€‚<br>è¿™æ ·åšæœ‰å‡ å¤§å¥½å¤„ï¼š</p><ul><li>æ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥ç‹¬ç«‹æ‰©å±•ï¼Œè®©æˆ‘ä»¬èƒ½å¤ŸæœºåŠ¨çš„é€‚åº”æ–°éœ€æ±‚ã€‚</li><li>æ¯ä¸ªå¼€å‘å›¢é˜Ÿç‹¬ç«‹å¼€å‘ï¼Œå¯¹è‡ªå·±çš„å¾®æœåŠ¡ç”Ÿå‘½å‘¨æœŸè´Ÿè´£ï¼ˆåˆ›å»ºã€éƒ¨ç½²ã€æ›´æ–°ç­‰ï¼‰</li><li>æ¯ä¸ªå¾®æœåŠ¡è¿ç”¨è‡ªå·±çš„èµ„æºï¼Œå¦‚æ•°æ®åº“ï¼ˆä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†4ä¸­çš„é—®é¢˜ï¼‰</li></ul><h3 id="6-ç¼“å­˜å’Œå†…å®¹åˆ†å‘ç½‘ç»œCDN"><a href="#6-ç¼“å­˜å’Œå†…å®¹åˆ†å‘ç½‘ç»œCDN" class="headerlink" title="6. ç¼“å­˜å’Œå†…å®¹åˆ†å‘ç½‘ç»œCDN"></a>6. ç¼“å­˜å’Œå†…å®¹åˆ†å‘ç½‘ç»œCDN</h3><p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g1wedhmbk3j20jg0c876a.jpg" alt></p><p>æ€ä¹ˆæ‰èƒ½å·¥ä½œæ›´é«˜æ•ˆå‘¢ï¼Ÿä¸è¦ä»€ä¹ˆéƒ½å¹²ï¼<br>æˆ‘ä»¬çš„webåº”ç”¨å¾ˆå¤§ä¸€éƒ¨åˆ†éƒ½æ˜¯é™æ€èµ„æºï¼Œåƒå›¾ç‰‡ã€jsè„šæœ¬ã€cssæ–‡ä»¶ã€é¢„æ¸²æŸ“çš„è¿›å…¥é¡µé¢ç­‰ã€‚<br>æ‰€ä»¥ç›¸æ¯”è¾ƒæ¯æ¬¡éƒ½é‡æ–°è¯·æ±‚æ•°æ®èµ„æºï¼Œæˆ‘ä»¬ä¸å¦‚å°†ä¸€äº›ç»“æœæ”¾åœ¨ç®€å•çš„ç¼“å­˜ä¹‹ä¸­ï¼Œè°éœ€è¦å°±å»æ‹¿ï¼Œä¸ç”¨å¹²æ‰°åˆ°åé¢çš„æœåŠ¡å™¨ã€‚</p><p>ç¼“å­˜çš„å¤§å“¥å«å†…å®¹åˆ†å‘ç½‘ç»œCDNï¼Œæ˜¯ä¸€ç»„åˆ†å¸ƒåœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…çš„ç¼“å­˜ã€‚è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä»ç”¨æˆ·å°±è¿‘çš„èŠ‚ç‚¹å‘ä»–ä»¬åˆ†å‘å†…å®¹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½ç¿»å±±è¶Šå²­äº†ã€‚</p><h3 id="7-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#7-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="7. æ¶ˆæ¯é˜Ÿåˆ—"></a>7. æ¶ˆæ¯é˜Ÿåˆ—</h3><p><img src="https://wx3.sinaimg.cn/mw1024/6a49516fly1g1wedx2oaxj20jg0bdjtb.jpg" alt></p><p>ä½ å»è¿‡æ¸¸ä¹å›­å—ï¼Ÿä½ æ˜¯ä¸æ˜¯æ¯æ¬¡éƒ½ç›´æ¥å»å”®ç¥¨å…å°±èƒ½ä¹°åˆ°ç¥¨å‘¢ï¼Ÿå¤§éƒ¨åˆ†æƒ…å†µéƒ½è¦æ’é˜Ÿå§åº”è¯¥ã€‚<br>æ”¿åºœæœºæ„ã€é‚®å±€å’Œæ¸¸ä¹å›­éƒ½æ˜¯â€sub-capacity parallelismâ€å¾ˆå¥½çš„ä¾‹å­ã€‚ä»–ä»¬æ˜¯å¹¶è¡Œçš„â€“å¤šä¸ªå”®ç¥¨å…åŒæ—¶å”®ç¥¨ã€‚<br>ä½†æ˜¯è²Œä¼¼ä¸å¯èƒ½æœ‰è¶³å¤Ÿçš„å”®ç¥¨å…èƒ½è®©æ¯ä¸ªäººéƒ½èƒ½ç«‹å³ä¹°åˆ°ç¥¨ï¼Œæ‰€ä»¥é˜Ÿåˆ—å°±å½¢æˆäº†ã€‚</p><p>åœ¨å¤§å‹ç½‘ç«™ä¸ŠåŒæ ·å¯ä»¥å¥—ç”¨è¿™ä¸ªæ¦‚å¿µã€‚æˆåƒä¸Šä¸‡çš„å›¾ç‰‡æ¯æ—¶æ¯åˆ»ä¸Šä¼ åˆ°Instagramã€Facebookä¸Šé¢ï¼Œæ¯å¼ å›¾ç‰‡éƒ½è¦è¢«å¤„ç†ã€è°ƒæ•´ã€åˆ†æå’Œæ‰“æ ‡ï¼Œè¿™æ˜¯ä¸€ä¸ªè€—æ—¶çš„è¿‡ç¨‹ã€‚<br>æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æˆ·ä¸ç”¨ç­‰å¾…æ‰€æœ‰æµç¨‹éƒ½ç»“æŸï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°å›¾ç‰‡ä¹‹åï¼Œåªå®Œæˆä¸‹é¢3ä»¶äº‹ï¼š</p><ul><li>å­˜å‚¨åŸå§‹å›¾åƒæ•°æ®</li><li>å‘Šè¯‰ç”¨æˆ·ä¸Šä¼ æˆåŠŸäº†</li><li>å‘ä¸€ä¸ªå¤§å †å¢åŠ è™šæ‹Ÿæ ‡ç­¾ï¼Œè¯´æ˜æ¥ä¸‹æ¥éœ€è¦åšäº›ä»€ä¹ˆ</li></ul><p>æ¥ä¸‹æ¥è¿™äº›æ ‡ç­¾ä¼šè¢«è®¸å¤šçš„æœåŠ¡å™¨æ‹¿åˆ°ï¼Œè¿™äº›æœåŠ¡å™¨ä¼šå®Œæˆæ ‡ç­¾ä¸Šéœ€è¦å®Œæˆçš„ä»»åŠ¡ï¼Œç¡®è®¤ä¹‹åå†è¿”å›æ ‡ç­¾ï¼Œç›´åˆ°æ‰€æœ‰çš„ä»»åŠ¡éƒ½å®Œæˆã€‚<br>ç³»ç»Ÿå°†è¿™ä¸€å †æ ‡ç­¾å«åšâ€æ¶ˆæ¯é˜Ÿåˆ—â€ï¼Œè¿ç”¨è¿™ä¸ªé˜Ÿåˆ—æœ‰å‡ å¤§å¥½å¤„ï¼š</p><ul><li><p>å®ƒå°†ä»»åŠ¡å’Œå¤„ç†å™¨è§£è€¦ã€‚æœ‰æ—¶è®¸å¤šå›¾ç‰‡éœ€è¦å¤„ç†ï¼Œæœ‰æ—¶å¾ˆå°‘ï¼›æœ‰æ—¶æœ‰å¾ˆå¤šå¯ä»¥è¿›è¡Œå¤„ç†çš„èŠ‚ç‚¹ï¼Œæœ‰æ—¶å¯ç”¨çš„å¾ˆå°‘ã€‚<br>é€šè¿‡åœ¨ä»£åŠäº‹åŠ¡ä¸­å¢åŠ ä»»åŠ¡æ ‡ç­¾çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ç›´æ¥é€è¿‡å»å¤„ç†ï¼Œå¯ä»¥ä¿è¯æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯å“åº”çš„ï¼Œä¸”æ²¡æœ‰ä»»åŠ¡ä¸¢å¤±ã€‚</p></li><li><p>å®ƒä½¿æˆ‘ä»¬èƒ½å¤ŸæŒ‰éœ€æ‰©å±•ã€‚å› ä¸ºå¯åŠ¨æœåŠ¡å™¨æ˜¯è€—æ—¶çš„ï¼Œå¦‚æœå·²ç»æœ‰å¾ˆå¤šç”¨æˆ·ä¸Šä¼ äº†å›¾ç‰‡éœ€è¦å¤„ç†ï¼Œè€Œå›¾ç‰‡æ˜¯ç›´æ¥ä¼ ç»™æœåŠ¡å™¨çš„ï¼Œé‚£ä¹ˆå†å¯åŠ¨ç­‰å¤šçš„æœåŠ¡å™¨å°±å·²ç»è¿Ÿäº†ã€‚ç›¸åï¼Œå¦‚æœæˆ‘ä»¬æœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°±å¯ä»¥æ‰©å±•å¤„ç†èƒ½åŠ›æ¥å¤„ç†é‚£äº›éœ€è¦å¤„ç†çš„ä»»åŠ¡ã€‚</p></li></ul><hr><p>ğŸ‘Œå¦‚æœæˆ‘ä»¬çš„ç³»ç»Ÿå·²ç»ç»è¿‡äº†ä»¥ä¸Šçš„æ‰©å±•ï¼Œé‚£ä¹ˆå·²ç»å¯ä»¥åº”å¯¹å¤§æµé‡äº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦æ›´å¤§æ›´å¼ºå‘¢ï¼Ÿä»¥ä¸‹æ˜¯å‡ ä¸ªé€‰é¡¹ã€‚</p><h3 id="8-åˆ†ç‰‡-åˆ†åŒº"><a href="#8-åˆ†ç‰‡-åˆ†åŒº" class="headerlink" title="8. åˆ†ç‰‡/åˆ†åŒº"></a>8. åˆ†ç‰‡/åˆ†åŒº</h3><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g1wee9hj6jj20jg0bf401.jpg" alt></p><p>ä»€ä¹ˆæ˜¯åˆ†åŒºï¼Ÿå®šä¹‰å¦‚ä¸‹ï¼š</p><p>â€œShardingæ˜¯ä¸€ç§é€šè¿‡å°†åº”ç”¨ç¨‹åºçš„å †æ ˆåˆ†æˆå¤šä¸ªå•å…ƒæ¥å¹¶è¡ŒåŒ–åº”ç”¨ç¨‹åºå †æ ˆçš„æŠ€æœ¯ï¼Œæ¯ä¸ªå•å…ƒè´Ÿè´£æŸä¸ªé”®æˆ–å‘½åç©ºé—´â€</p><p>é¢ï¼Œæ‰€ä»¥åˆ°åº•ä»€ä¹ˆæ˜¯åˆ†åŒºï¼Ÿå…¶å®å¾ˆç®€å•ï¼šéœ€è¦è®¿é—®20äº¿Facebookç”¨æˆ·çš„æ¡£æ¡ˆï¼Œé‚£å°±æŠŠFacebookåˆ†æˆ26ä¸ªå°Facebookï¼Œæ¯ä¸ªFacebookæœåŠ¡ä¸åŒå§“åé¦–å­—æ¯å¤§å†™çš„ç”¨æˆ·ã€‚</p><p>åˆ†åŒºä¸ä¸€å®šæŒ‰ç…§é¦–å­—æ¯åˆ’åˆ†ï¼Œå¯ä»¥æ˜¯åœ°åŒºã€ä½¿ç”¨é¢‘ç‡ï¼ˆå¤´éƒ¨ç”¨æˆ·ç»™æ›´å¥½çš„æœåŠ¡ï¼‰ç­‰ã€‚<br>ä½ å¯ä»¥å°†æœåŠ¡å™¨åˆ†åŒºã€æ•°æ®åº“åˆ†è®¸ï¼Œæˆ–è€…ä»»ä½•ä½ åº”ç”¨ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–¹é¢ï¼Œåªè¦æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p><h3 id="9-å¯¹è´Ÿè½½å‡è¡¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡"><a href="#9-å¯¹è´Ÿè½½å‡è¡¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡" class="headerlink" title="9. å¯¹è´Ÿè½½å‡è¡¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡"></a>9. å¯¹è´Ÿè½½å‡è¡¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡</h3><p><img src="https://wx4.sinaimg.cn/mw1024/6a49516fly1g1weelr6h4j20jg0bf403.jpg" alt></p><p>å•ä¸ªè´Ÿè½½å‡è¡¡å™¨åªèƒ½åšé‚£ä¹ˆå¤šï¼Œå³ä½¿ä½ è´­ä¹°è¶…è´µè¶…ç‰›çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œæ€§èƒ½éƒ½æ˜¯æœ‰ç“¶é¢ˆçš„ã€‚</p><p>å¾ˆå¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªå…¨çƒæ€§çš„ã€åˆ†æ•£çš„ã€è¶…çº§ç¨³å®šçš„å±‚æ¬¡ï¼Œèƒ½å¤Ÿåœ¨æµé‡åˆ°è¾¾è´Ÿè½½å‡è¡¡å™¨ä¹‹å‰è¿›è¡Œåˆ†æµæ“ä½œã€‚é‚£å°±æ˜¯â€åŸŸåç³»ç»Ÿâ€ï¼ŒDNSã€‚å…¨çƒåŸŸåæ³¨å†Œè¡¨å°†â€github.comâ€æ˜ å°„åˆ°â€XXX.XXX.XXX.XXXâ€è¿™ä¸ªIPåœ°å€ä¸Šï¼ŒåŒæ—¶ä¹Ÿå…è®¸æˆ‘ä»¬å°†ç‰¹å®šåŸŸåæ˜ å°„åˆ°å¤šä¸ªIPåœ°å€ä¸Šï¼Œè¿™æ ·å°±èƒ½åˆ°è¾¾å¤šä¸ªä¸åŒçš„è´Ÿè½½å‡è¡¡å™¨äº†ã€‚</p><hr><p>å¥½äº†ï¼Œæˆ‘ä»¬åšçš„å·²ç»å¾ˆå¤šäº†ï¼Œå¸Œæœ›è¿™ç¯‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚ä½†æ˜¯å¦‚æœä½ æ˜¯ITè¡Œä¸šçš„ä¸€å‘˜ï¼Œé‚£ä¹ˆä½ è‚¯å®šä¼šé—®ï¼Œâ€åˆ°åº•å•¥æ˜¯äº‘æœåŠ¡ï¼Ÿâ€</p><h3 id="äº‘è®¡ç®—å’ŒServerLessï¼ˆæ— æœåŠ¡å™¨ï¼‰"><a href="#äº‘è®¡ç®—å’ŒServerLessï¼ˆæ— æœåŠ¡å™¨ï¼‰" class="headerlink" title="äº‘è®¡ç®—å’ŒServerLessï¼ˆæ— æœåŠ¡å™¨ï¼‰"></a>äº‘è®¡ç®—å’ŒServerLessï¼ˆæ— æœåŠ¡å™¨ï¼‰</h3><p>ä»€ä¹ˆæ˜¯äº‘æœåŠ¡ï¼Ÿå®ƒæ˜¯å¯¹äºä¸Šé¢æåˆ°çš„æ‰€æœ‰é—®é¢˜ä¸€ä¸ªä¾¿å®œåˆé«˜æ•ˆçš„è§£å†³æ–¹æ³•ï¼Œç®€å•æ¥è¯´å°±æ˜¯ï¼Œåˆ«è‡ªå·±è§£å†³ä»–ä»¬ã€‚</p><p>è€Œæ˜¯è®©äº‘æœåŠ¡å‚å•†æ ¹æ®ä½ çš„ç³»ç»Ÿå’Œéœ€æ±‚ä¸ºä½ æä¾›æ‰©å±•æœåŠ¡ï¼Œä½ ä¸ç”¨è€ƒè™‘ä»»ä½•å¤æ‚çš„é—®é¢˜ï¼Œä¸è¦å†é€ è½®å­ã€‚</p><p>åé¢ç•¥â€¦ï¼ˆä»‹ç»ä¸‹ä¸€ç¯‡æ–‡ç« çš„ä¸œè¥¿ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¿»è¯‘ </tag>
            
            <tag> å¤§å‹ç½‘ç»œæ‰©å±• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å‘¨è®°å½•ğŸ“ï¼ˆ190330ï¼‰</title>
      <link href="/2019/03/30/weeklyReport190330/"/>
      <url>/2019/03/30/weeklyReport190330/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‘¨çœ‹äº†ä¹”å¸ƒæ–¯çš„ä¼ è®°ï¼Œå…¶ä¸­è¯´åˆ°ä¹”å¸ƒæ–¯åšäº§å“çš„æ—¶å€™ï¼Œè¿½æ±‚å®Œç¾ã€‚</p><p>è¿™å‘¨æŠŠæ¯•è®¾å®Œå–„äº†ä¸€ä¸‹ï¼š<br><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g1l2zafpgwj21hc0u079v.jpg" alt></p><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g1l2z9yalhj21hc0u0n9a.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> æ¯å‘¨è®°å½• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Minionsåˆå§‹åŒ–æ‰‹å†Œâœ‹</title>
      <link href="/2019/03/27/minionsUsage/"/>
      <url>/2019/03/27/minionsUsage/</url>
      
        <content type="html"><![CDATA[<ul><li><p>killæ‰€æœ‰è¿›ç¨‹</p></li><li><p>å¯åŠ¨zooKeeper</p></li></ul><p><code>zookeeper&gt;bin ./zkServer.sh start</code></p><ul><li>å¯åŠ¨Kafkaï¼ˆåå°ï¼‰</li></ul><p><code>kafka&gt; bin/kafka-server-start.sh -daemon $KAFKA_HOME/config/server.properties</code></p><ul><li>å¯åŠ¨ä¸¤ä¸ªflume<ul><li>å¯¹æ¥Pythonäº§ç”Ÿçš„ä¼ªæ—¥å¿—</li><li>å¯¹æ¥å‰ç«¯åŸ‹ç‚¹çš„æ•°æ®</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//é¡µé¢æµè§ˆæ—¥å¿— agent</span><br><span class="line">flume-ng agent \</span><br><span class="line">--name exec-memory-kafka \</span><br><span class="line">--conf $FLUME_HOME/conf \</span><br><span class="line">--conf-file /home/hadoop/data/project/streaming_project2.conf \</span><br><span class="line">-Dflume.root.logger=INFO,console</span><br><span class="line"></span><br><span class="line">//é¡µé¢è¡Œä¸ºæ—¥å¿— agent</span><br><span class="line">flume-ng agent \</span><br><span class="line">--name agent1 \</span><br><span class="line">--conf $FLUME_HOME/conf \</span><br><span class="line">--conf-file $FLUME_HOME/conf/streaming2.conf \</span><br><span class="line">-Dflume.root.logger=INFO,console</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨Hadoop<ul><li>DataNode</li><li>SecondaryNameNode</li><li>NameNode </li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hadoop/sbin&gt; ./start-dfs.sh</span><br><span class="line"></span><br><span class="line">//å•ç‹¬å¯åŠ¨å‘½ä»¤ï¼š</span><br><span class="line">./hadoop-daemon.sh start secondarynamenode</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨HBase<ul><li>HMaster</li><li>HRegionServer </li></ul></li></ul><p><code>bin&gt; ./start-hbase.sh</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./hbase shell</span><br><span class="line"></span><br><span class="line">list</span><br><span class="line">scan &apos;table_name&apos;</span><br><span class="line">desc &apos;table_name&apos;</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨sparkä½œä¸š<ul><li>MyStreamingApp : ç»Ÿè®¡è®¿é—®é‡</li><li>KafKaStreamingApp : å¤„ç†å‰ç«¯åŸ‹ç‚¹æ•°æ®ï¼ˆhello_ladygaga_topic)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark-submit --master local[<span class="number">5</span>] --jars $(echo /home/hadoop/app/hbase-<span class="number">1.2</span>.0-cdh5.7.0/lib<span class="comment">/*.jar | tr ' ' ',') --class com.chaoyue.spark.project.scala.MyStreamingApp --packages org.apache.spark:spark-streaming-kafka-0-8_2.11:2.2.0 /home/hadoop/lib/sparktrain-1.0.jar hadoop000:2181 test streamingtopic 1</span></span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨Springbootåç«¯å’Œreactå‰ç«¯</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å‘¨è®°å½•ğŸ“ï¼ˆ190323ï¼‰</title>
      <link href="/2019/03/23/weeklyReport190323/"/>
      <url>/2019/03/23/weeklyReport190323/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wxt.sinaimg.cn/mw1024/6a49516fly1g1crb20idzj22c02c0b2a.jpg?tags=%5B%5D" alt="å›¾ä¹¦é¦†"></p><p>é›¨åçš„å›¾ä¹¦é¦†ã€‚</p><p>æœ¬å‘¨å°†æ¯•ä¸šè®¾è®¡çš„å‰ç«¯åç«¯ï¼Œkafkaä¸spark streamingè¿›è¡Œäº†æ‰“é€šã€‚å‰ç«¯é¡µé¢ä¹Ÿå¯å±•ç¤ºHBaseä¸­çš„æ•°æ®ã€‚</p><p>å…³äºant-d Proï¼Œæˆ‘æ„Ÿè§‰è‚¯å®šæ˜¯æœ‰å¾ˆå¤šå‘çš„ã€‚æ…¢æ…¢è¸©ã€‚</p><p>å¯¹äºæ¯•è®¾åç»­ï¼Œä¸‹ä¸€å‘¨éœ€è¦å°†æ¨¡æ‹Ÿæ‰“ç‚¹çš„é¡µé¢åŠ ä¸Šï¼Œå¹¶æŠŠä¹‹å‰ä¾‹å­ä¸­çš„sparkåº”ç”¨éƒ¨ç½²å¥½ï¼Œèƒ½å¤Ÿå®ç°ç»„ä»¶çš„åŠ¨æ€æ¸²æŸ“ã€‚</p><p>æœ¬å‘¨é¦–å…ˆè§£å†³äº†CORSé—®é¢˜ï¼Œå…¶å®åœ¨åç«¯åŠ ä¸Šæ ‡ç­¾å³å¯ã€‚æˆ‘çš„åç«¯å…¶å®æœ‰ä¸€ä¸¤ç‚¹ï¼Œé¦–å…ˆæ˜¯æ•°æ®å¯è§†åŒ–çš„ä½œç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯æ¨¡æ‹Ÿå‰ç«¯æ‰“ç‚¹çš„åº”ç”¨ã€‚æ²¡æœ‰åŠæ³•ï¼Œåªèƒ½è¿™æ ·ç”¨ï¼Œæ¨¡æ‹ŸçœŸå®æƒ…å†µçš„æœåŠ¡ã€‚</p><p>å¦å¤–æ³¨æ„åˆ°Nginxï¼Œå­¦ä¹ åˆ°å…¶æœ‰ä¸¤ä¸ªä½œç”¨ï¼šåå‘ä»£ç†+è´Ÿè½½å‡è¡¡ï¼Œä»¥åç”¨åˆ°åœ¨æ·±å…¥å§ã€‚</p><p>å¯¹äºHBaseçš„scanæ“ä½œï¼Œè¿˜éœ€è¦æ·±å…¥å­¦ä¹ ä¸€ä¸‹ã€‚</p><p><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g1cr9q61ixj21hc0u0n20.jpg" alt></p><p>ç›®å‰çš„å¯è§†åŒ–ç•Œé¢ï¼Œæ²¡æœ‰logoï¼Œåœ¨ä»Šæ—¥æ•°æ®æ¦‚è§ˆä¸­éœ€è¦åŠ ä¸€ä¸ªæ˜¾ç¤ºå½“å‰æ—¶é—´çš„ç»„ä»¶ã€‚è¿™ä¸ªAntd Proçš„Pieç»„ä»¶çœŸçš„å¾ˆè¿·ã€‚</p><p>å†å²æ•°æ®æŸ¥è¯¢éœ€è¦å¢åŠ æ—¥æœŸé€‰æ‹©æ§ä»¶ã€‚å¯¹äºå†å²æ•°æ®ï¼Œæˆ‘å‡†å¤‡å­˜åœ¨MySQLä¸­ï¼Œè¿™é‡Œå°±è¦æ€è€ƒæ¯æ—¥å®šæ—¶dumpçš„é—®é¢˜ã€‚</p><p>å¯¹äºå‰ç«¯æ•°æ®åŸ‹ç‚¹çš„ä¿¡æ¯ï¼Œå…ˆæ˜¾ç¤ºå‡ºæ¥å¥½äº†ã€‚</p><p>åˆ·LeetCodeå»äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¯å‘¨è®°å½• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Minions-frontend æ¡†æ¶æŠ€æœ¯ç»“æ„</title>
      <link href="/2019/03/21/minions-frontend-overview/"/>
      <url>/2019/03/21/minions-frontend-overview/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯æŠ€æœ¯é€‰å‹"><a href="#å‰ç«¯æŠ€æœ¯é€‰å‹" class="headerlink" title="å‰ç«¯æŠ€æœ¯é€‰å‹"></a>å‰ç«¯æŠ€æœ¯é€‰å‹</h2><ul><li>react 16.8.4</li><li>Ant Design (<a href="https://v1.pro.ant.design/docs/getting-started-cn" target="_blank" rel="noopener">Pro v1</a>) 3.15.0</li><li>XMLRequest:axios 0.18.0</li><li>è·¯ç”±: react-router-dom</li><li><a href="https://ant.design/docs/react/recommendation-cn" target="_blank" rel="noopener">ç²¾é€‰ç»„ä»¶</a></li></ul><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><ul><li>components æ”¾ç½®ä¸ªæ€§åŒ–ç»„ä»¶<ul><li>PageView å±•ç¤ºPVç›¸å…³æ•°æ®ç»„ä»¶</li></ul></li><li>contents ä¸»ä½“éƒ¨åˆ†æŠ½è±¡å¸ƒå±€<ul><li>Overview ä»Šæ—¥æ•°æ®æ¦‚è§ˆ</li><li>HistoryView å†å²æ•°æ®æŸ¥è¯¢</li></ul></li><li>pages é¡µé¢ï¼ˆç›®å‰ä¸ºå•é¡µé¢ï¼‰</li></ul><h2 id="React-Router"><a href="#React-Router" class="headerlink" title="React-Router"></a>React-Router</h2><ul><li>react-router-dom æ˜¯å¯¹ react-router åœ¨æµè§ˆå™¨å¼€å‘ç¯å¢ƒä¸‹çš„å°è£…ï¼Œæ‰€ä»¥æ²¡æœ‰æœ¬è´¨å·®åˆ«</li></ul><h2 id="ant-design-pro"><a href="#ant-design-pro" class="headerlink" title="ant design pro"></a>ant design pro</h2><ul><li>éœ€è¦å¼•å…¥cssæ–‡ä»¶<br><code>import &#39;ant-design-pro/dist/ant-design-pro.css&#39;;</code></li></ul><h2 id="BizChart"><a href="#BizChart" class="headerlink" title="BizChart"></a><a href="https://bizcharts.net/index" target="_blank" rel="noopener">BizChart</a></h2><ul><li>å•†ä¸šåœºæ™¯ä¸‹çš„æ•°æ®å¯è§†åŒ–</li></ul><h2 id="reactç›¸å…³"><a href="#reactç›¸å…³" class="headerlink" title="reactç›¸å…³"></a>reactç›¸å…³</h2><ul><li><a href="http://www.cnblogs.com/xianyulaodi/p/5038258.html" target="_blank" rel="noopener">dangerouslySetInnerHTML, è®©Reactæ­£å¸¸æ˜¾ç¤ºä½ çš„htmlä»£ç </a></li><li><p><a href="https://github.com/pvoznyuk/react-live-clock" target="_blank" rel="noopener">æ—¶é—´æ˜¾ç¤ºç»„ä»¶</a></p><ul><li><p>è·å–ä»Šå¤©çš„æ—¶é—´</p><p><code>const today = moment().format(&#39;YYYYMMDD&#39;);</code></p></li></ul></li><li><p>react setStateæ˜¯å¼‚æ­¥è°ƒç”¨çš„</p><ul><li>ä½¿ç”¨propså’ŒcomponentWillReceiveProps(nextProps)æ¥è§£å†³</li><li><a href="https://github.com/fangmiao97/MessageWiKiPro-frontend/blob/master/src/TopicInfo.js" target="_blank" rel="noopener">è§topicidçš„å˜æ¢</a></li><li>åœ¨minionsä¸­çš„å†å²æ•°æ®é¡µé¢ï¼Œéœ€è¦æ ¹æ®é€‰æ‹©çš„ä¸åŒæ—¥æœŸæ˜¾ç¤ºç›¸å…³æ•°æ®ã€‚æ—¥æœŸé€‰æ‹©ä¸ºçˆ¶ç»„ä»¶ä¸­çš„state.dateæ”¹å˜ï¼Œå¹¶å°†state.dateä¼ ç»™childç»„ä»¶ã€‚childæ¥æ”¶åé€šè¿‡componentWillReceivePropsæ¥è¿›è¡Œæ›´æ–°</li></ul></li><li><p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">flexå¸ƒå±€</a></p></li><li><p>RestFul API</p></li><li><p>ç»„ä»¶å®šæ—¶åˆ·æ–°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">        <span class="keyword">this</span>.timer = setInterval(</span><br><span class="line">            () =&gt; &#123;</span><br><span class="line">                <span class="comment">//æ›´æ–°ç»„ä»¶state...</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="number">60000</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶åŠ¨æ€æ¸²æŸ“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">this</span>.state = &#123;</span><br><span class="line">            songsInfoList:[]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">                <span class="keyword">let</span> songInfoList = <span class="keyword">this</span>.state.songsInfoList;</span><br><span class="line">                <span class="keyword">return</span> (</span><br><span class="line">                    &lt;div&gt;</span><br><span class="line">                        &#123;</span><br><span class="line">                            songInfoList.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">                                <span class="keyword">return</span> &lt;MockSongComponent key=&#123;index&#125; songInfo=&#123;item&#125;/&gt;</span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line"><span class="comment">//å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">this</span>.state = &#123;</span><br><span class="line">            songInfo: <span class="keyword">this</span>.props.songInfo</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">render() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> songInfo = <span class="keyword">this</span>.state.songInfo;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">              &#123;songInfo.name&#125;</span><br><span class="line">              &#123;songInfo.coverUrl&#125;</span><br><span class="line">              ......</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¯•ä¸šè®¾è®¡å‚è€ƒæ–‡çŒ®è®°å½•ğŸ“</title>
      <link href="/2019/03/19/graduationDesignReferences/"/>
      <url>/2019/03/19/graduationDesignReferences/</url>
      
        <content type="html"><![CDATA[<h2 id="å®æ—¶æµå¤„ç†åº”ç”¨åœºæ™¯"><a href="#å®æ—¶æµå¤„ç†åº”ç”¨åœºæ™¯" class="headerlink" title="å®æ—¶æµå¤„ç†åº”ç”¨åœºæ™¯"></a>å®æ—¶æµå¤„ç†åº”ç”¨åœºæ™¯</h2><ul><li><a href="http://new.gb.oversea.cnki.net/KXReader/Detail?dbcode=CJFD&amp;filename=DNZS201825112&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0pkRlg1TFVqTzAvOUVLVWZDZmNBOEF0az0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank" rel="noopener">Spark Streamingåœ¨å®æ—¶è®¡ç®—ä¸­çš„åº”ç”¨ç ”ç©¶</a>:å»¶æ—¶é™åˆ¶åœ¨ç§’çº§çš„åº”ç”¨åœºæ™¯,ç”µå•†å®æ—¶è¥é”€ã€‚</li><li><a href="http://new.gb.oversea.cnki.net/KCMS/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD201901&amp;filename=1018894622.nh&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0pkRlg1TFVqTzAvOUVLVWZDZmNBOEF0az0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!&amp;v=MDAwNDFyQ1VSTE9mWk9kbUZpRGhWNzdJVkYyNkZydXhHdGZPclpFYlBJUjhlWDFMdXhZUzdEaDFUM3FUcldNMUY=" target="_blank" rel="noopener">åŸºäºSpark Streamingçš„å®æ—¶æ—¥å¿—åˆ†æä¸ä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°</a>:åˆ†æDDoSæ”»å‡»ã€‚ç³»ç»Ÿæ—¥å¿—çš„ä¿¡æ¯å®‰å…¨å®¡è®¡</li><li><a href="http://new.gb.oversea.cnki.net/KCMS/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD201801&amp;filename=1017292559.nh&amp;v=MTU5MjBlWDFMdXhZUzdEaDFUM3FUcldNMUZyQ1VSTE9mWk9kbUZ5amtWTHZMVkYyNkdiR3hITlRKcHBFYlBJUjg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG1CcDNRL2o5cjJMcDdKU2FGb00xSGNGND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank" rel="noopener">åŸºäºæµ·é‡ç½‘ç»œæ—¥å¿—æ•°æ®çš„å®æ—¶æµå¤„ç†ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°</a>:å¯ä»¥å‚è€ƒè¿™éƒ¨åˆ†çš„ç»ªè®ºéƒ¨åˆ†</li><li><a href="https://www.infoq.cn/article/2016/01/spark-streaming-what-is-it-and-w" target="_blank" rel="noopener">å¤§å…¬å¸çš„åº”ç”¨</a></li><li><a href="https://www.infoq.cn/article/suning-realtime-log-analysis-system-spark-streaming" target="_blank" rel="noopener">è‹å®åŸºäº Spark Streaming çš„å®æ—¶æ—¥å¿—åˆ†æç³»ç»Ÿå®è·µ</a></li></ul><h2 id="æ—¥å¿—ä¿¡æ¯éšè—å…³ç³»"><a href="#æ—¥å¿—ä¿¡æ¯éšè—å…³ç³»" class="headerlink" title="æ—¥å¿—ä¿¡æ¯éšè—å…³ç³»"></a>æ—¥å¿—ä¿¡æ¯éšè—å…³ç³»</h2><ul><li><a href="http://new.gb.oversea.cnki.net/KXReader/Detail?dbcode=CJFD&amp;filename=WJSY201705010&amp;UID=WEEvREcwSlJHSldRa1FhdkJkVG1CcDc5Ym4weGJzK0hVZ1FjREZpT1JEcz0%3d%249A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!&amp;autoLogin=0" target="_blank" rel="noopener">å¤§æ•°æ®ä¸‹åŸºäºSparkçš„ç”µå•†å®æ—¶æ¨èç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°</a></li></ul><h2 id="ç ”ç©¶ç›®çš„-å‡ºå‘ç‚¹"><a href="#ç ”ç©¶ç›®çš„-å‡ºå‘ç‚¹" class="headerlink" title="ç ”ç©¶ç›®çš„/å‡ºå‘ç‚¹"></a>ç ”ç©¶ç›®çš„/å‡ºå‘ç‚¹</h2><ul><li><a href="https://www.zhihu.com/question/20624296/answer/15731592" target="_blank" rel="noopener">äº’è”ç½‘é—­ç¯</a></li></ul><h2 id="å…³äºspark-streamingä¸šåŠ¡ç®—æ³•çš„åˆ›æ–°"><a href="#å…³äºspark-streamingä¸šåŠ¡ç®—æ³•çš„åˆ›æ–°" class="headerlink" title="å…³äºspark streamingä¸šåŠ¡ç®—æ³•çš„åˆ›æ–°"></a>å…³äºspark streamingä¸šåŠ¡ç®—æ³•çš„åˆ›æ–°</h2><ul><li><a href="http://new.gb.oversea.cnki.net/KXReader/Detail?dbcode=CJFD&amp;filename=WJSY201705010&amp;UID=WEEvREcwSlJHSldRa1FhdkJkVG1CcDc5Ym4weGJzK0hVZ1FjREZpT1JEcz0%3d%249A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!&amp;autoLogin=0" target="_blank" rel="noopener">å¯¹æœ‰çŠ¶æ€è®¡ç®—æ“ä½œçš„åŸºæ•°è®¡ç®—çš„ç²¾ç¡®è®¡ç®—æ–¹æ³•å’Œä¼°ç®—æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒåˆ†æ</a></li></ul><h2 id="æ¶æ„å‚è€ƒ"><a href="#æ¶æ„å‚è€ƒ" class="headerlink" title="æ¶æ„å‚è€ƒ"></a>æ¶æ„å‚è€ƒ</h2><ul><li><a href="https://book.douban.com/reading/37743267/" target="_blank" rel="noopener">å‚è€ƒ</a></li></ul><h2 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h2><ul><li><a href="http://dblab.xmu.edu.cn/blog/985-2/" target="_blank" rel="noopener">Sparkå…¥é—¨ï¼šRDDçš„è®¾è®¡ä¸è¿è¡ŒåŸç†</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Websites Safari</title>
      <link href="/2019/03/18/websitesafari/"/>
      <url>/2019/03/18/websitesafari/</url>
      
        <content type="html"><![CDATA[<h2 id="è„šæ‰‹æ¶"><a href="#è„šæ‰‹æ¶" class="headerlink" title="è„šæ‰‹æ¶"></a>è„šæ‰‹æ¶</h2><ul><li><a href="http://scaffold.ant.design/#/" target="_blank" rel="noopener">antdè„šæ‰‹æ¶å¸‚åœº</a></li></ul><h2 id="å›¾è§£IT"><a href="#å›¾è§£IT" class="headerlink" title="å›¾è§£IT"></a>å›¾è§£IT</h2><ul><li><a href="https://arcentry.com/blog/scaling-webapps-for-newbs-and-non-techies/" target="_blank" rel="noopener">Scaling webapps for newbs &amp; non-techies å¤§å‹ç½‘ç»œæ‰©å±•</a></li><li><a href="https://visualgo.net/zh" target="_blank" rel="noopener">ç®—æ³•å¯è§†åŒ–</a></li></ul><h2 id="React-Framework"><a href="#React-Framework" class="headerlink" title="React Framework"></a>React Framework</h2><ul><li><a href="https://nextjs.org/" target="_blank" rel="noopener">Next.js</a></li></ul><h2 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h2><ul><li><a href="https://ponyfoo.com/articles/brief-history-of-modularity" target="_blank" rel="noopener">JSå˜åŒ–å†å²</a></li><li><a href="https://iconsvg.xyz/" target="_blank" rel="noopener">å›¾æ ‡å®šåˆ¶</a></li><li><a href="https://codepen.io/ivorjetski/pen/xMJoYO" target="_blank" rel="noopener">çº¯CSSå›¾ç‰‡</a></li></ul><h2 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/32459776" target="_blank" rel="noopener">é¢†åŸŸé©±åŠ¨è®¾è®¡åœ¨äº’è”ç½‘ä¸šåŠ¡å¼€å‘ä¸­çš„å®è·µ</a></li></ul><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><ul><li><a href="https://dbdiagram.io/home" target="_blank" rel="noopener">ç”»ERå›¾çš„</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Javaä¸­å¸¸ç”¨API</title>
      <link href="/2019/03/18/JavaUtilsAPI/"/>
      <url>/2019/03/18/JavaUtilsAPI/</url>
      
        <content type="html"><![CDATA[<h2 id="è½¬æ¢ç±»å‹"><a href="#è½¬æ¢ç±»å‹" class="headerlink" title="è½¬æ¢ç±»å‹"></a>è½¬æ¢ç±»å‹</h2><ul><li>Stringè½¬Char[]:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Char[] a = stringã€‚toCharArray();</span><br></pre></td></tr></table></figure><ul><li>Char[]è½¬String</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åªèƒ½ç”¨</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> String(<span class="keyword">char</span>[])</span><br></pre></td></tr></table></figure><h2 id="Stringæ“ä½œ"><a href="#Stringæ“ä½œ" class="headerlink" title="Stringæ“ä½œ"></a>Stringæ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºString</span></span><br><span class="line">StringBuilder res = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"><span class="comment">//æ·»åŠ å­—ç¬¦</span></span><br><span class="line">res.append(something);</span><br><span class="line"><span class="comment">//è½¬æ¢</span></span><br><span class="line">String(res) stringbuilder.toString()</span><br><span class="line"><span class="comment">//reverse</span></span><br><span class="line">res.reverse();</span><br><span class="line"><span class="comment">//å»æ‰é¦–ä½ç©ºæ ¼</span></span><br><span class="line">res.trim();</span><br><span class="line"><span class="comment">//å–char</span></span><br><span class="line">string.charAt(<span class="keyword">int</span> i)</span><br><span class="line"><span class="comment">//å¤§å°å†™è½¬å˜</span></span><br><span class="line">toLowerCase()</span><br><span class="line">toUpperCase()</span><br></pre></td></tr></table></figure><h2 id="æ•°å­—æ“ä½œ"><a href="#æ•°å­—æ“ä½œ" class="headerlink" title="æ•°å­—æ“ä½œ"></a>æ•°å­—æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sqrt</span></span><br><span class="line">Math.sqrt(num);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºaxiosçš„CORSé—®é¢˜çš„è§£å†³</title>
      <link href="/2019/03/18/axioscorsquestions/"/>
      <url>/2019/03/18/axioscorsquestions/</url>
      
        <content type="html"><![CDATA[<h2 id="AxiosåŸºç¡€"><a href="#AxiosåŸºç¡€" class="headerlink" title="AxiosåŸºç¡€"></a>AxiosåŸºç¡€</h2><ul><li>å‚è€ƒç½‘ç«™<ul><li><a href="https://www.jianshu.com/p/7a9fbcbb1114" target="_blank" rel="noopener">ä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">ä½¿ç”¨è¯´æ˜</a></li></ul></li><li>ä¸Šä¸‹æ–‡çŸ¥è¯†<ul><li><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">Promise in ES6</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" target="_blank" rel="noopener">æµè§ˆå™¨åŒæºæ”¿ç­–åŠå…¶è§„é¿æ–¹æ³•</a> åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®</li><li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£</a> å®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡</li></ul></li></ul><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>Access to XMLHttpRequest at â€˜<a href="http://localhost:8080/hello&#39;" target="_blank" rel="noopener">http://localhost:8080/hello&#39;</a> from origin â€˜<a href="http://localhost:3000&#39;" target="_blank" rel="noopener">http://localhost:3000&#39;</a> has been blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource.</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><ul><li><a href="https://my.oschina.net/hccake/blog/886606" target="_blank" rel="noopener">Springåˆ©ç”¨@CrossOriginæ³¨è§£ å®ç° æ”¯æŒCORSè·¨åŸŸè¯·æ±‚</a> åœ¨controllerç±»å¤´éƒ¨åŠ å…¥æ³¨é‡Š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CrossOrigin</span>(origins = <span class="string">"*"</span>, maxAge = <span class="number">3600</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
            <tag> CORS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨äº’è”å®éªŒå®¤-å‰ç«¯ç»„-å‚è€ƒåŸ¹è®­è®¡åˆ’ğŸ–¥ï¼ˆ1æœŸï¼‰</title>
      <link href="/2019/03/18/frontendstudy/"/>
      <url>/2019/03/18/frontendstudy/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†ğŸš¶"><a href="#åŸºç¡€çŸ¥è¯†ğŸš¶" class="headerlink" title="åŸºç¡€çŸ¥è¯†ğŸš¶"></a>åŸºç¡€çŸ¥è¯†ğŸš¶</h2><ul><li><a href="http://www.imooc.com/code/49" target="_blank" rel="noopener">HTMLä»£ç ç»ƒä¹ </a>(ç¬¬4å‘¨-ç¬¬6å‘¨ï¼‰</li><li><a href="https://wangdoc.com/javascript/" target="_blank" rel="noopener">JavaScriptè¯­è¨€å…¥é—¨æ•™ç¨‹</a></li><li><a href="http://www.imooc.com/learn/36" target="_blank" rel="noopener">Jsè§†é¢‘</a></li></ul><h2 id="è¿›é˜¶ğŸƒ"><a href="#è¿›é˜¶ğŸƒ" class="headerlink" title="è¿›é˜¶ğŸƒ"></a>è¿›é˜¶ğŸƒ</h2><ul><li><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ECMAScript 6 å…¥é—¨</a></li><li><a href="https://www.imooc.com/learn/955" target="_blank" rel="noopener">ES6å¿«é€Ÿå…¥é—¨</a></li><li><a href="http://www.ruanyifeng.com/blog/2015/03/react.html" target="_blank" rel="noopener">Reactå…¥é—¨æ•™ç¨‹</a></li><li>ä½¿ç”¨Reactçš„ç½‘ç«™ï¼š<ul><li><a href="http://www.facebook.com/" target="_blank" rel="noopener">Facebook</a></li><li><a href="http://instagram.com/" target="_blank" rel="noopener">Instagram</a></li><li><a href="https://www.zhihu.com/" target="_blank" rel="noopener">çŸ¥ä¹</a></li></ul></li></ul><h2 id="ReactğŸš•"><a href="#ReactğŸš•" class="headerlink" title="ReactğŸš•"></a>ReactğŸš•</h2><ul><li><a href="https://juejin.im/post/59dcd87451882578c2084515" target="_blank" rel="noopener">ä»Reactè„šæ‰‹æ¶å·¥å…·å­¦ä¹ Reacté¡¹ç›®çš„æœ€ä½³å®è·µ</a></li><li><a href="https://juejin.im/entry/5b3f3c82e51d45190905d3a2" target="_blank" rel="noopener">ç»„ä»¶åº“ï¼ˆäº†è§£ï¼‰</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/09/react-technology-stack.html" target="_blank" rel="noopener">React æŠ€æœ¯æ ˆç³»åˆ—æ•™ç¨‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å‘¨è®°å½•ğŸ“ï¼ˆ190316ï¼‰</title>
      <link href="/2019/03/16/weeklyReport190316/"/>
      <url>/2019/03/16/weeklyReport190316/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wx1.sinaimg.cn/mw1024/6a49516fly1g14vxty5rbj21400u0e82.jpg" alt="å­¦æ ¡çš„å‚æ™š"></p><p>è¿™ä¸€å‘¨å°†æ¯•ä¸šè®¾è®¡çš„å¼€å¤´éƒ¨åˆ†å®Œæˆäº†é“¾è·¯æ‰“é€šï¼Œå…·ä½“å°±æ˜¯åœ¨å‰ç«¯åŸ‹ç‚¹å¾—åˆ°çš„æ•°æ®èƒ½å¤Ÿåœ¨kafkaä¸­åˆ†topicæ¶ˆè´¹ã€‚</p><p>å…¶å®è¿™ä¹‹é—´èµ°äº†å¾ˆå¤šå¼¯è·¯ï¼Œè‡ªå·±åå¤æŸ¥èµ„æ–™æ‰å‘ç°ä¸€ä¸ªæ­£ç¡®çš„æ–¹æ³•ã€‚ç°åœ¨æ‰æ„è¯†åˆ°åšé¡¹ç›®éœ€è¦ä¸€ä¸ªæŒ‡å¯¼è€å¸ˆçš„é‡è¦æ€§ï¼ŒåŒæ ·ä¼ä¸šéœ€è¦æŠ€æœ¯çš„å¸ƒé“å¸ˆä¹Ÿæ˜¯è¿™ä¸ªé“ç†ã€‚</p><p>æˆ‘çš„æ¯•è®¾æ˜¯ä½¿ç”¨spark streamingè¿›è¡Œç½‘ç«™æµé‡çš„åˆ†æã€‚å…¶å®å¯¹äºæ¯•è®¾å¾ˆå°´å°¬çš„ä¸€ç‚¹äº‹ï¼Œæ²¡æœ‰çœŸå®çš„ä¸šåŠ¡æ•°æ®ï¼Œåªèƒ½è‡ªå·±å‡­ç©ºåˆ¶é€ ã€‚å¦å¤–æˆ‘è§‰å¾—é«˜æ ¡ä¸­çš„æ¯•ä¸šè®¾è®¡ï¼ŒçœŸçš„è¶Šæ¥è¶Šæ°´ï¼Œå°±åƒæ˜¯ä¸€ä¸ªå¤§ä¸€ç‚¹çš„è¯¾ç¨‹è®¾è®¡ï¼Œè‡ªå·±ç‹¬ç«‹å®Œæˆçš„é‚£ç§ã€‚</p><p>è¿™ä¸€å‘¨æˆ‘é¦–å…ˆæƒ³å®Œæˆé€šè¿‡è‡ªå·±åœ¨å‰ç«¯åŸ‹ç‚¹ï¼Œæ”¶é›†åˆ°æ•°æ®ï¼Œå¹¶èƒ½å¤Ÿç»™åé¢çš„ä¸šåŠ¡æµç¨‹ä½¿ç”¨ã€‚æˆ‘çš„å‰ç«¯ä½¿ç”¨reactï¼ŒåŸ‹ç‚¹çš„æ•°æ®æ”¶é›†æ‰“ç®—ç”¨flumeæ”¶é›†ã€‚æœ€å¼€å§‹çš„æ€è·¯æ˜¯ä½¿ç”¨flumeçš„HTTPSourceç›´æ¥æ”¶é›†æ¥è‡ªå‰ç«¯POSTè¯·æ±‚ä¸­çš„æ•°æ®ï¼Œå¯æ˜¯é€šè¿‡æŸ¥é˜…æ–‡æ¡£å‘ç°ï¼Œæ— æ³•å®Œæˆã€‚å› ä¸ºHTTPSourceæ¥å—çš„éœ€è¦æ˜¯flumeçš„Eventå¯¹è±¡ï¼Œå‰ç«¯ç›´æ¥å‘æ¥çš„æ•°æ®ä¸ç¬¦åˆè¦æ±‚ã€‚æ‰€ä»¥è¯´å‰ç«¯çš„ä»»åŠ¡åªè¦å®ŒæˆåŸå§‹æ•°æ®æ”¶é›†çš„å·¥ä½œå°±å¯ä»¥äº†ï¼Œå…¶ä»–å¿…è¦çš„è½¬æ¢ç”±åç«¯å®Œæˆã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯ï¼Œç»åˆ«äººæé†’ï¼Œå¦‚æœè¯´ç”¨flumeç›´æ¥æ”¶é›†ç½‘ç»œä¸Šçš„æ•°æ®è¿˜æœ‰å®‰å…¨çš„é—®é¢˜ï¼ˆè§<a href="https://www.v2ex.com/t/543592#reply4" target="_blank" rel="noopener">V2exå¸–å­</a>ï¼‰ã€‚æ‰€ä»¥æœ‰åç«¯è½¬å‘çš„å¿…è¦ã€‚æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘å°±æœ‰ä¸ªç–‘æƒ‘ï¼Œå…³äºHTTPSourceçš„ä½¿ç”¨åœºæ™¯åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¿›è¿‡åå¤çš„å°è¯•ï¼Œç¡®å®šäº†æ–¹æ¡ˆæ˜¯ï¼šå‰ç«¯åŸ‹ç‚¹é‡‡é›†åˆ°çš„æ•°æ®ç”±åç«¯æ¥å—ï¼Œå¹¶å‘é€log4jæ—¥å¿—ç»™flumeï¼Œå†ç”±flumeçš„interceptorè¿›è¡Œè¿‡æ»¤ï¼ˆåˆ†æµï¼‰ï¼Œåˆ†æˆä¸åŒçš„topicç»™kafkaçš„æ¶ˆè´¹è€…ä½¿ç”¨ï¼Œä¹‹åå°±å¯ä»¥ç»™spark streamingä½¿ç”¨å•¦ã€‚(è§£å†³æ–¹æ¡ˆ<a href="https://fangmiao97.github.io/2019/03/16/FluemToKafkaBaseOnDifferntTopic/" target="_blank" rel="noopener">è§æ–‡ç« </a>)</p><p>ä¸è¿‡ç°åœ¨é—ç•™ä¸‹çš„é—®é¢˜å°±æ˜¯ï¼Œå‰ç«¯ä½¿ç”¨axioså‡ºç°è·¨åŸŸè®¿é—®çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¸‹å‘¨å¼€å§‹è§£å†³ã€‚ä¸‹å‘¨è¦å®Œæˆçš„ä»»åŠ¡å°±æ˜¯æŠŠå‰ç«¯çš„æ¡†æ¶æ­å¥½ï¼Œå¼€å§‹å­¦ä¹ spark streamingæ·±å…¥ä¸€ç‚¹çš„ä¸œè¥¿ï¼Œç„¶åæ‰¾éœ€æ±‚ã€‚ç›®å‰çš„éœ€æ±‚å¤ªå•è–„äº†ï¼Œä¸æ€ä¹ˆä¸°å¯Œã€‚</p><p>æœ¬å‘¨è¿˜åšäº†ç‚¹å…¶ä»–çš„äº‹ï¼Œæ€»ä¹‹æ•ˆç‡æ²¡æœ‰é‚£ä¹ˆé«˜å§ã€‚è¿™ä¸¤å¤©åˆ·LeetCodeä¹Ÿåˆ·ä¸èµ·æ¥ï¼Œä¸çŸ¥é“ä¸ºå•¥ã€‚æ‰€ä»¥è¿™ä¸¤å¤©ä¼‘æ¯äº†ä¸€ä¸‹ï¼Œæ²¡åˆ·ã€‚</p><p>æ„Ÿè§‰è‡ªå·±æœ‰çš„æ—¶å€™æ€»è¢«ä¸€äº›ä¸œè¥¿æ‰“æ‰°ï¼Œè‡ªå·±çš„æ§åˆ¶åŠ›ä¸å¤Ÿã€‚å¦å¤–çœ‹ä¹¦çš„é€Ÿåº¦ä¹ŸæŒºæ…¢çš„ã€‚çœ‹äº†åäººä¼ è®°ï¼Œæ„Ÿè§‰å‰å®³çš„äººä¸ºä½•æœ‰é‚£ä¹ˆå¤šç²¾åŠ›å‘¢ï¼Ÿ</p><p>æœ€è¿‘çœ‹åˆ°å¥½ç©çš„å›¾ï¼Œå–åæˆ‘çš„æ¯•è®¾ï¼Œå“ˆå“ˆå“ˆğŸ¤£<br><img src="https://wx2.sinaimg.cn/mw1024/6a49516fly1g14w7kwjt8j20j60n4dks.jpg" alt="æˆ‘çš„æ¯•è®¾"></p>]]></content>
      
      
      <categories>
          
          <category> æ¯å‘¨è®°å½• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Flumeä½¿ç”¨interceptorså‘ä¸åŒçš„Kafka Consumerså‘é€åŸºäºTopicç»´åº¦çš„ä¿¡æ¯</title>
      <link href="/2019/03/16/FluemToKafkaBaseOnDifferntTopic/"/>
      <url>/2019/03/16/FluemToKafkaBaseOnDifferntTopic/</url>
      
        <content type="html"><![CDATA[<h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><ul><li>åç«¯æ¥å£é€šè¿‡log4jè½¬å‘ç»™flumeçš„Eventæ˜¯ç›´æ¥å‘ç»™avro sourceï¼Œä¹‹åè¦äº¤ç»™kafka sinkä¾›ä¸åŒçš„åº”ç”¨å¤„ç†ã€‚å¦‚æœå¯¹äºä¸åŒçš„topicéƒ½ç”¨ä¸€ä¸ªagentå¤„ç†æ„Ÿè§‰ç•¥å°´å°¬ï¼ˆæ²¡æœ‰å°è¯•ï¼‰ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªavro sourceè¿›è¡Œæ¥æ”¶ï¼Œç”¨flumeçš„interceptorè¿›è¡ŒæŒ‰topicåˆ†æµã€‚</li></ul><h1 id="æ–¹æ¡ˆæµç¨‹"><a href="#æ–¹æ¡ˆæµç¨‹" class="headerlink" title="æ–¹æ¡ˆæµç¨‹"></a>æ–¹æ¡ˆæµç¨‹</h1><ul><li>å‰ç«¯<ul><li>å‘åç«¯ä¸Šä¼ æ•°æ®æ—¶ï¼ŒåŠ å…¥topicå­—æ®µ</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">"url/logtest"</span>, &#123;</span><br><span class="line">            params:&#123;</span><br><span class="line">                K_topic: <span class="string">'specialTopic'</span>,</span><br><span class="line">                contents: <span class="string">'contents'</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><ul><li>åç«¯<ul><li>åœ¨log4jçš„logger.infoä¸­åŠ å…¥topicå­—æ®µ</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.info(<span class="string">"topic:"</span> + k_topic + <span class="string">" "</span> + <span class="string">"contents:"</span>+ contents);</span><br></pre></td></tr></table></figure><ul><li>flumeé…ç½®ï¼ˆéƒ¨åˆ†ï¼‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#source interceptor</span><br><span class="line">agent1.sources.avro-source.interceptors=i1</span><br><span class="line">agent1.sources.avro-source.interceptors.i1.type=regex_extractor</span><br><span class="line">agent1.sources.avro-source.interceptors.i1.regex=topic:(.*?) contents:(.*?)</span><br><span class="line">agent1.sources.avro-source.interceptors.i1.serializers=s1 s2</span><br><span class="line">#agent1.sources.avro-source.interceptors.i1.serializers.s1.type=default</span><br><span class="line">agent1.sources.avro-source.interceptors.i1.serializers.s1.name=topic</span><br><span class="line">#agent1.sources.avro-source.interceptors.i1.serializers.s2.type=default</span><br><span class="line">agent1.sources.avro-source.interceptors.i1.serializers.s2.name=contents</span><br><span class="line"></span><br><span class="line">#define sink</span><br><span class="line">agent1.sinks.kafka-sink.type=org.apache.flume.sink.kafka.KafkaSink</span><br><span class="line">agent1.sinks.kafka-sink.topic = %&#123;topic&#125;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ<br>ä¸åŒçš„kafka Producerèƒ½å¤Ÿæ¥æ”¶ä¸åŒtopicçš„åŸ‹ç‚¹æ•°æ®ï¼Œä¹‹åçš„consumerä¹Ÿèƒ½æ¶ˆè´¹åˆ°äº†</li></ul><h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><ul><li><a href="http://flume.apache.org/releases/content/1.9.0/FlumeUserGuide.html#regex-extractor-interceptor" target="_blank" rel="noopener">regex-extractor-interceptoræ­£åˆ™è¡¨è¾¾å¼interceptor</a></li><li><a href="http://lxw1234.com/archives/2015/11/543.htm" target="_blank" rel="noopener">interceptor</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘ç›¸å…³ </tag>
            
            <tag> Flume </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCodeåˆ·é¢˜æ€»ç»“ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
      <link href="/2019/03/15/MyLeetCodeSummarize/"/>
      <url>/2019/03/15/MyLeetCodeSummarize/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘çš„ç­”æ¡ˆä»“åº“åœ°å€ï¼š<a href="https://github.com/fangmiao97/MyLeetCode" target="_blank" rel="noopener">MyLeetCode</a></p><h2 id="Treeä¸è¿­ä»£ã€åŠ¨æ€è§„åˆ’"><a href="#Treeä¸è¿­ä»£ã€åŠ¨æ€è§„åˆ’" class="headerlink" title="Treeä¸è¿­ä»£ã€åŠ¨æ€è§„åˆ’"></a>Treeä¸è¿­ä»£ã€åŠ¨æ€è§„åˆ’</h2><ul><li><a href="https://leetcode.com/problems/maximum-binary-tree/" target="_blank" rel="noopener">Maximum Binary Tree</a><ul><li>æ€è·¯ï¼šå°†åˆ›å»ºæœ€å¤§äºŒå‰æ ‘ï¼Œå³æ ¹èŠ‚ç‚¹æ¯”æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½å¤§ï¼Œçš„è¿‡ç¨‹ï¼Œåˆ†è§£æˆå…ˆå¯»æ‰¾åˆ°å½“å‰æ•°åˆ—ä¸­æœ€å¤§å€¼ï¼Œç„¶ååœ¨åˆ›å»ºå·¦å³æœ€å¤§å­æ ‘çš„è¿‡ç¨‹</li><li>é€€å‡ºæƒ…å†µæ˜¯æ•°åˆ—ä¸ºä¸€ä¸ªæ•°æ—¶è¿”å›nullï¼Œå³è¡¨ç¤ºç»“æŸæ²¡æœ‰å­æ ‘å¯ä»¥æ„é€ äº†</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TreeNode root = <span class="keyword">new</span> TreeNode(nums[max_i]);</span><br><span class="line">root.left = construct(nums, l, max_i);</span><br><span class="line">root.right = construct(nums, max_i + <span class="number">1</span>, r);</span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/maximum-binary-tree-ii/" target="_blank" rel="noopener">Maximum Binary Tree II</a><ul><li>æè¿°ï¼šåœ¨ä¸€æ£µç°æˆçš„æœ€å¤§äºŒå‰æ ‘ä¸­ï¼Œæ’å…¥ä¸€ä¸ªæ•°ï¼Œä½¿å¾—æ’å…¥ä¹‹åä¾ç„¶æ˜¯æœ€å¤§äºŒå‰æ ‘</li><li>æŠ€å·§ç‚¹ï¼šæ¯”æ ¹èŠ‚ç‚¹å°çš„æ•°ä¸€å¾‹å¾€æ ¹èŠ‚ç‚¹çš„å³å­æ ‘æ’ã€‚</li><li>æ€è·¯ï¼šæ’å…¥å€¼ä¸å½“å‰æ ¹èŠ‚ç‚¹çš„å€¼æ¯”è¾ƒï¼Œè‹¥å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼åˆ™åˆ›å»ºèŠ‚ç‚¹ï¼Œå¹¶å°†åŸæ ¹èŠ‚ç‚¹ä½œä¸ºè‡ªå·±çš„å·¦å­ç»“ç‚¹ï¼Œå¹¶è¿”å›æ–°çš„æ ¹èŠ‚ç‚¹ã€‚å¦åˆ™çš„è¯æ’å…¥å€¼æ’å…¥åŸæ ¹èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œå¹¶å¾ªç¯è¿™ä¸ªè¿‡ç¨‹ã€‚è‹¥æ’å…¥å€¼æ¯”è¾ƒåˆ°æœ€åï¼Œå³ä¸nullæ¯”è¾ƒï¼Œåˆ™åˆ›å»ºè¯¥èŠ‚ç‚¹å¹¶è¿”å›è¿™ä¸ªèŠ‚ç‚¹ã€‚</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">insertIntoMaxTree</span><span class="params">(TreeNode root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root.val&lt;val)&#123;</span><br><span class="line">            TreeNode head = <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">            head.left = root;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        root.right = insertIntoMaxTree(root.right, val);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/second-minimum-node-in-a-binary-tree/" target="_blank" rel="noopener">Second Minimum Node In a Binary Tree</a><ul><li>éœ€è¦æ³¨æ„çš„äº‹ï¼Œå¿…é¡»å°†æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½éå†å®Œå…¨æ‰èƒ½æ‰¾åˆ°ç¬¬äºŒå°çš„æ•°å­—ã€‚å› ä¸ºæœ‰ä¸€ä¸ªç”¨ä¾‹å°†ç¬¬äºŒå°çš„æ•°å€¼è—åœ¨äº†æœ€ä¸‹é¢</li><li>é‡‡ç”¨DFSæˆ–BFSéƒ½å¯ä»¥ã€‚å…³é”®æ˜¯åˆ¤æ–­ç¬¬äºŒå°çš„æ—¶å€™ï¼Œå…ˆè¦å°†ç¬¬ä¸€å°çš„æ•°æ‰¾åˆ°ï¼Œå¦‚æœä¹‹åæœ‰æ•°å­—ä¸æ˜¯å°äº<strong>ç­‰äº</strong>ç¬¬ä¸€å°çš„è¯ï¼Œæ‰å¯ä»¥æ¯”è¾ƒæ˜¯ä¸æ˜¯ç¬¬äºŒå°ã€‚å¦‚æœåªæ˜¯å•çº¯çš„å°äºç¬¬ä¸€å°ï¼Œä¼šè®©ç¬¬äºŒå°ä¹Ÿæˆä¸ºå’Œç¬¬ä¸€å°ä¸€æ ·çš„æ•°å€¼ã€‚</li></ul></li><li>BFSå¸¸ç”¨ç»“æ„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;TreeNode&gt; a = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">a.offer(p);</span><br><span class="line"><span class="keyword">while</span> (!a.isEmpty())&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> sz = a.size(); sz &gt; <span class="number">0</span>; --sz) &#123;</span><br><span class="line">        TreeNode n = a.poll();</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">        a.offer(n.left);</span><br><span class="line">        a.offer(n.right);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/sum-of-root-to-leaf-binary-numbers/" target="_blank" rel="noopener">Sum of Root To Leaf Binary Numbers</a><ul><li>DFS</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRootToLeaf</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(root, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;        </span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    sum = sum * <span class="number">2</span> + root.val;</span><br><span class="line">    <span class="keyword">return</span> root.left == root.right ? sum : dfs(root.left, sum) + dfs(root.right, sum);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å­—èŠ‚-ä½å¤„ç†"><a href="#å­—èŠ‚-ä½å¤„ç†" class="headerlink" title="å­—èŠ‚/ä½å¤„ç†"></a>å­—èŠ‚/ä½å¤„ç†</h2><ul><li><a href="https://leetcode.com/problems/reverse-integer/" target="_blank" rel="noopener">Reverse Integer</a><ul><li>javaä¸­ä¸åŒæ•°æ®ç±»å‹çš„å–å€¼èŒƒå›´<ul><li>int 32</li><li>short 16</li><li>long 64</li><li>float 32</li><li>double 64</li></ul></li><li>æœ¬é¢˜ä¸­å…³äºæº¢å‡ºå¯èƒ½çš„åˆ¤æ–­</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€</span></span><br><span class="line"><span class="comment">//æ­£æ•°æº¢å‡ºæƒ…å†µï¼ˆ2147483647ï¼‰</span></span><br><span class="line"><span class="keyword">if</span> (rev &gt; Integer.MAX_VALUE/<span class="number">10</span> || (rev == Integer.MAX_VALUE / <span class="number">10</span> &amp;&amp; pop &gt; <span class="number">7</span>)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è´Ÿæ•°ï¼ˆ-2147483648ï¼‰</span></span><br><span class="line"><span class="keyword">if</span> (rev &lt; Integer.MIN_VALUE/<span class="number">10</span> || (rev == Integer.MIN_VALUE / <span class="number">10</span> &amp;&amp; pop &lt; -<span class="number">8</span>)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼äºŒ</span></span><br><span class="line"><span class="keyword">if</span>((rev - pop) / <span class="number">10</span> != org) <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//æº¢å‡ºçš„è¯è‚¯å®šè®¡ç®—ä¸å‡ºåŸæ¥çš„æ•°å­—äº†</span></span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/number-of-1-bits/" target="_blank" rel="noopener">Number of 1 Bits</a><ul><li>æ‰¾ä¸€ä¸ªintæ•°çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ï¼Œhamming weight</li><li>&amp; â€“ ä½ä¸è¿ç®— | â€“ ä½æˆ–è¿ç®—</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>((n &amp; <span class="number">1</span>) == <span class="number">1</span>)</span><br><span class="line">                res++;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>; <span class="comment">//å³ç§»ä¸€ä½</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><ul><li><p><a href="https://zhuanlan.zhihu.com/p/30108890" target="_blank" rel="noopener">javaä¸­çš„ç§»ä½æ“ä½œç¬¦</a></p></li><li><p><a href="https://leetcode.com/problems/reverse-bits/" target="_blank" rel="noopener">Reverse Bits</a></p><ul><li>ç¿»è½¬32ä½æ¯”ç‰¹å€¼ï¼Œä¾æ¬¡ç§»åŠ¨æ¯ä¸€ä½ã€‚å°†æ¯æ¬¡éœ€è¦ç§»åŠ¨çš„æ¯”ç‰¹æ”¾åœ¨æœ€åä¸€ä½ã€‚ä¸1è¿›è¡Œä½ä¸æ“ä½œåï¼Œå°†è¿™ä¸€ä½ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®åï¼Œä¸ç»“æœè¿›è¡Œä½æˆ–æ“ä½œã€‚</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            ans = ans | ((n &amp; <span class="number">1</span>) &lt;&lt; i);</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><ul><li><p><a href="https://leetcode.com/problems/counting-bits/" target="_blank" rel="noopener">Counting Bits</a></p><ul><li><p><strong>DP</strong> When it comes to even numbers, i.e, 2,4,6,8, their binary should be like â€˜10â€™, â€˜100â€™, â€˜110â€™, â€˜1000â€™<br>so one notable difference is their unit digit is always 0,<br>which means when you call &gt;&gt; 1- shift one bit rightwards<br>and also means dividing by 2- would cause no change to the count of â€˜1â€™ in the binary string.</p><p>Vice versa, when you meet odd numbers, shifting one bit rightwards always eliminates one â€˜1â€™ digit from original binary string,<br>that is why we should â€œcompensateâ€ one â€˜1â€™ character to the count.</p><p>To sum up, when you meet even number the count of â€˜1â€™s is always the same as its half number,<br>on the other hand, remember to plus one to the oddsâ€™ half number.</p></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] f = <span class="keyword">new</span> <span class="keyword">int</span>[num + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=num; i++) f[i] = f[i &gt;&gt; <span class="number">1</span>] + (i &amp; <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> f;</span><br></pre></td></tr></table></figure><h2 id="Two-Pointers"><a href="#Two-Pointers" class="headerlink" title="Two Pointers"></a>Two Pointers</h2><ul><li><p><a href="https://chocoluffy.com/2016/12/04/æµ…æç»å…¸é¢è¯•ç®—æ³•é¢˜-two-pointerçš„è¿ç”¨/" target="_blank" rel="noopener">æµ…æç»å…¸é¢è¯•ç®—æ³•é¢˜-two pointerçš„è¿ç”¨</a></p></li><li><p>Two Sum</p><ul><li>integer arrayå·²ç»è¿‡æ’åº</li><li>ä¸¤ä¸ªpointersä¸€å¤´ä¸€å°¾ã€‚é‚£ä¹ˆsumåªæœ‰ä¸‰ç§å¯èƒ½ï¼š<ul><li>sum == targetï¼Œåˆ™è¿”å›</li><li>sum &lt; targetï¼Œå¤´æŒ‡é’ˆå‘åèµ°ä¸€ä¸ª</li><li>sum &gt; targetï¼Œå°¾æŒ‡é’ˆå‘å‰èµ°ä¸€ä¸ª</li></ul></li><li>å¾ªç¯æ¡ä»¶ï¼Œå¤´ &lt; å°¾</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums[low] + nums[high] == target)</span><br><span class="line">        <span class="comment">//do something;</span></span><br><span class="line">        <span class="comment">// low++ high--;</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (nums[low] + nums[high] &lt; target)</span><br><span class="line">        low++;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        high--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>3Sum<ul><li>å…ˆå°†æ•°åˆ—æ’åºï¼Œå†å›ºå®šç¬¬ä¸€ä¸ªæ•°å­—ï¼Œä»å‰©ä¸‹çš„æ•°åˆ—ä¸­ç”¨2 sumçš„æ–¹æ³•æ‰¾ã€‚</li><li>æ³¨æ„ä¸€äº›è¦è¿‡æ»¤çš„æ¡ä»¶ï¼š<ul><li>ç¬¬ä¸€ä¸ªæ•°å­—åœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸å‰ä¸€ä¸ªä¸€æ ·çš„è¯ï¼Œå°±å†ç§»ä¸€ä¸‹</li><li>lowå’Œhighç§»åŠ¨çš„é“ç†ä¹Ÿä¸€æ ·</li></ul></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">       Arrays.sort(nums);</span><br><span class="line">       List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;()</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">2</span>; i++) &#123;</span><br><span class="line">           <span class="keyword">if</span>(i == <span class="number">0</span> || nums[i] != nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">               <span class="keyword">int</span> low = i + <span class="number">1</span>;</span><br><span class="line">               <span class="keyword">int</span> high = nums.length - <span class="number">1</span>;</span><br><span class="line">               <span class="keyword">int</span> remain = <span class="number">0</span> - nums[i];</span><br><span class="line">               <span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">                   <span class="keyword">if</span>(nums[low] + nums[high] == remain) &#123;</span><br><span class="line">                       res.add(Arrays.asList(nums[i], nums[low], nums[high]));</span><br><span class="line">                       <span class="keyword">while</span>(low &lt; high &amp;&amp; nums[low + <span class="number">1</span>] == nums[low])</span><br><span class="line">                           low++;</span><br><span class="line">                       <span class="keyword">while</span>(low &lt; high &amp;&amp; nums[high - <span class="number">1</span>] == nums[high])</span><br><span class="line">                           high--;</span><br><span class="line">                       low++;</span><br><span class="line">                       high--;</span><br><span class="line">                   &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[low] + nums[high] &lt; remain)</span><br><span class="line">                       low++;</span><br><span class="line">                   <span class="keyword">else</span></span><br><span class="line">                       high--;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ul><li><p>3Sum closest</p><ul><li>æ‰¾æœ€æ¥è¿‘çš„sumï¼ˆä¹Ÿå¯èƒ½ç›¸ç­‰ï¼‰</li><li>å¢åŠ åˆ¤æ–­æ¡ä»¶Math.abså°çš„è¯ï¼Œå°±è¦æ›´æ–°ã€‚</li></ul></li><li><p>3Sum With Multiplicity</p><ul><li>æ¯ä¸€ä¸­æƒ…å†µéƒ½è¦è€ƒè™‘åˆ°â€“æ’åˆ—ç»„åˆ</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (A[j] == A[k]) &#123;</span><br><span class="line">  <span class="comment">// If A[j...k] are all equal, then there are C(k - j + 1, 2) </span></span><br><span class="line">  <span class="comment">// combinations that meet the requirement.å–ä¸¤ä¸ª</span></span><br><span class="line">  res = (res + (k - j + <span class="number">1</span>) * (k - j) / <span class="number">2</span>) % m;</span><br><span class="line">  <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> l = <span class="number">1</span>, r = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (j + l &lt; k &amp;&amp; A[j + l] == A[j]) &#123; ++l; &#125; <span class="comment">// l: number of elements equal to A[j].</span></span><br><span class="line">  <span class="keyword">while</span> (j &lt; k - r &amp;&amp; A[k - r] == A[k]) &#123; ++r; &#125; <span class="comment">// r: number of elements equal to A[k].</span></span><br><span class="line">  res = (res + l * r) % m; <span class="comment">// found l * r cases that meet the requirement.</span></span><br><span class="line">  j += l; <span class="comment">// forward j by l steps.</span></span><br><span class="line">  k -= r; <span class="comment">// backward k by r steps.</span></span><br></pre></td></tr></table></figure><ul><li>Sum of Square Numbers<ul><li>c = a^2 + b^2</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">judgeSquareSum</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> limit = (<span class="keyword">int</span>)Math.sqrt(c);</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(low&lt;=limit)&#123;</span><br><span class="line">            <span class="keyword">int</span> sum = low*low + limit*limit;</span><br><span class="line">            <span class="keyword">if</span>(c==sum)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(sum&lt;c)&#123;</span><br><span class="line">               low++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               limit--; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºç¡€å­—ç¬¦ä¸²æ“ä½œ"><a href="#åŸºç¡€å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="åŸºç¡€å­—ç¬¦ä¸²æ“ä½œ"></a>åŸºç¡€å­—ç¬¦ä¸²æ“ä½œ</h2><ul><li><p>reverse</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">reverse</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">     StringBuilder res=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)</span><br><span class="line">           res.insert(<span class="number">0</span>,s.charAt(i));</span><br><span class="line">       <span class="keyword">return</span> res.toString();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li><li><p>split å¯¹åº”API public String[] split(String regex, int limit)</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] split(String s) &#123;</span><br><span class="line">        ArrayList &lt; String &gt; words = <span class="keyword">new</span> ArrayList &lt; &gt; ();</span><br><span class="line">        StringBuilder word = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">' '</span>) &#123;</span><br><span class="line">                words.add(word.toString());</span><br><span class="line">                word = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            &#125; <span class="keyword">else</span></span><br><span class="line">                word.append( s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">        words.add(word.toString());</span><br><span class="line">        <span class="keyword">return</span> words.toArray(<span class="keyword">new</span> String[words.size()]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>å¤§å°å†™è½¬æ¢<ul><li>a - 97 0x61(0110 0001) A - 65 0x41(0100 0001)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³•ä¸€</span></span><br><span class="line">string.toLowerCase() <span class="function">or <span class="title">toUpperCase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//æ³•äºŒ</span></span></span><br><span class="line"><span class="function"><span class="title">if</span> <span class="params">(<span class="string">'A'</span> &lt;= a[i] &amp;&amp; a[i] &lt;= <span class="string">'Z'</span>)</span></span></span><br><span class="line"><span class="function">    a[i] </span>= (<span class="keyword">char</span>) (a[i] - <span class="string">'A'</span> + <span class="string">'a'</span>);</span><br><span class="line"><span class="comment">//æ³•ä¸‰ï¼ŒæŒ‰ä½æˆ–ï¼ŒæŠŠç¬¬äº”ä½çš„1åŠ ä¸Š</span></span><br><span class="line"><span class="keyword">char</span> c = (<span class="keyword">char</span>)(str.charAt(i) | (<span class="keyword">char</span>)(<span class="number">32</span>));</span><br></pre></td></tr></table></figure><ul><li>ç›¸åŒå‰ç¼€<ul><li>indexOfï¼ˆintï¼Œchï¼‰ï¼šå…ˆçœ‹ç¬¬ä¸€ä¸ªindexOfå®ƒè¿”å›å€¼æ˜¯intï¼Œåœ¨çœ‹å®ƒçš„å‚æ•°ï¼ˆintï¼Œchï¼‰æ„æ€å°±æ˜¯ä½¿ç”¨è€…å¯ä»¥ç»™å‚æ•°ä¸€ä¸ªâ€˜charâ€™å­—ç¬¦æ‰€ä»£è¡¨çš„intå€¼ï¼Œç„¶åå»ä»å‰å‘åæ‰¾åˆ°è¯¥å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œå½“ç„¶äº†æˆ‘ä»¬ä¸å¯èƒ½è®°å¾—ä½æ¯ä¸€ä¸ªcharçš„å€¼æ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ç›´æ¥ç”¨String s=abcdef;ã€€int i=s.indexOf(â€˜dâ€™)<br>è¿™ç§æ–¹å¼å°±å¯ä»¥äº†ï¼Œcharç±»å‹ä¼šè‡ªåŠ¨æå‡ä¸ºintç±»å‹ï¼Œè¿˜æœ‰å°±æ˜¯è¦æ³¨æ„å¦‚æœè¿”å›å€¼ä¸º-1ï¼Œå°±è¯´æ˜ç´¢å¼•è¶Šç•Œäº†ï¼›</li><li>indexOfï¼ˆint chï¼Œintï¼ŒfromIndexï¼‰ï¼šè¿™ä¸ªæ–¹æ³•å°±æ˜¯è¯´ä»æŒ‡å®šä½ç½®å¾€åæ‰¾è¿”å›å­—ç¬¦åœ¨è¯¥å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œæ¯”å¦‚â€œwoaizhongguoâ€indexOfï¼ˆâ€™oâ€™,2ï¼‰é‚£è¿”å›å€¼å°±æ˜¯6è€Œä¸æ˜¯1ï¼Œä¹Ÿä¸æ˜¯11ï¼›</li><li>indexOfï¼ˆSting strï¼‰ï¼šè¿™ä¸ªæ–¹æ³•åŸºæœ¬å°±ç±»ä¼¼å‰é¢çš„äº†ï¼Œåªä¸è¿‡å®ƒæ˜¯åœ¨å‚æ•°é‡Œç»™ä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›è¯¥å­å­—ç¬¦ä¸²åœ¨è¯¥å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œæ¯”å¦‚â€woaixuexiâ€è¦æŸ¥â€aiâ€è¿™ä¸ªå­å­—ç¬¦ä¸²åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°çš„ç´¢å¼•ä½ç½®é‚£è¿”å›å€¼å°±æ˜¯2</li><li>indexOfï¼ˆString strï¼Œint fromIndexï¼‰è¿™ä¸ªæ–¹æ³•ä¸åœ¨ç´¯è¿°</li><li>lastIndexOfï¼ˆint chï¼‰ï¼šè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯è·Ÿindexofç›¸åï¼Œå®ƒæ˜¯ä»åå¾€å‰æ‰¾è¿”å›å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰¾ç´¢å¼•çš„æ—¶å€™æ˜¯å€’ç€æ‰¾çš„ä½†æ˜¯è¿”å›å€¼è¿˜æ˜¯æŒ‰ç…§æ­£çš„ç´¢å¼•é¡ºåºè¿”å›çš„æ¯”å¦‚â€woaiwoâ€ç”¨lastindexofæŸ¥æ‰¾â€˜wâ€™è¿”å›çš„å€¼æ˜¯4è€Œä¸æ˜¯1</li><li>lastIndexOf(int ch,fromindex)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestCommonPrefix</span><span class="params">(String[] strs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(strs.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    String prefix = strs[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(strs[i].indexOf(prefix) != <span class="number">0</span>) &#123;<span class="comment">//å‰ç¼€è‚¯å®šæ˜¯æœ€çŸ­çš„ï¼Œæ‰€ä»¥å¦‚æœæœ‰è¿™ä¸ªç›¸åŒå‰ç¼€çš„è¯ï¼Œè‚¯å®šåœ¨æ¯ä¸ªstringé‡Œé¢éƒ½æœ‰</span></span><br><span class="line">            prefix = prefix.substring(<span class="number">0</span>, prefix.length() - <span class="number">1</span>);<span class="comment">//å‰ç¼€å°±ä»ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæˆªå–å°±å¯ä»¥äº†</span></span><br><span class="line">            <span class="keyword">if</span>(prefix.isEmpty())</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prefix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="éå¸¸è§„é¡ºåºæ“ä½œ"><a href="#éå¸¸è§„é¡ºåºæ“ä½œ" class="headerlink" title="éå¸¸è§„é¡ºåºæ“ä½œ"></a>éå¸¸è§„é¡ºåºæ“ä½œ</h2><ul><li><a href="https://leetcode.com/problems/zigzag-conversion/" target="_blank" rel="noopener">ZigZag Conversion</a><ul><li>å–ç›¸åŒæ•°å­—ä½çš„è¿›è¡Œæ“ä½œï¼š0123210123210..</li><li>æ³•ä¸€ï¼šèƒ½å¤Ÿå‘ç°0ä¹‹åéƒ½æ˜¯åŠ ä¸€ï¼Œ3ä¹‹åéƒ½æ˜¯å‡ä¸€</li><li>è®¾ç½®ä¸€ä¸ªæ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦åŠ ä¸€è¿˜æ˜¯å‡ä¸€</li><li>æ³•äºŒï¼šå˜æ­¥é•¿</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="keyword">if</span>(curRow == <span class="number">0</span> || curRow == numRows - <span class="number">1</span>) goingDown = !goingDown;</span><br><span class="line">curRow += goingDown ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line"><span class="comment">//2</span></span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="keyword">int</span> cycleLen = <span class="number">2</span> * numRows - <span class="number">2</span>; <span class="comment">//numRows = 4</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j + i &lt; n; j += cycleLen) &#123;</span><br><span class="line">                ret.append(s.charAt(j + i));</span><br><span class="line">                <span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; i != numRows - <span class="number">1</span> &amp;&amp; j + cycleLen - i &lt; n)</span><br><span class="line">                    ret.append(s.charAt(j + cycleLen - i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­—è®¡ç®—"><a href="#æ•°å­—è®¡ç®—" class="headerlink" title="æ•°å­—è®¡ç®—"></a>æ•°å­—è®¡ç®—</h2><ul><li>pow(x, n)<ul><li>n%2==0 -&gt; x^n = x^(n/2) <em> x^(n/2) = (x</em>x)^(n/2)</li><li>n%2==1 -&gt; x^n = x<em>(x^(n/2) </em> x^(n/2)) = x <em> (x</em>x)^(n/2)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">pow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(n == Integer.MIN_VALUE)&#123;<span class="comment">//-2147483648ä¸èƒ½ç›´æ¥æ¢æˆæ­£çš„ï¼Œä¼šæº¢å‡º</span></span><br><span class="line">                <span class="keyword">return</span> myPow(x*x, n/<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">                x = <span class="number">1</span>/x;</span><br><span class="line">                n = -n;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n%<span class="number">2</span> == <span class="number">1</span>) </span><br><span class="line">                <span class="keyword">return</span> myPow(x*x, n/<span class="number">2</span>)*x;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> myPow(x*x, n/<span class="number">2</span>);</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure><ul><li><p>sqrt(x)</p><ul><li><p>I have seen many variants using Binary Search, the key difference is the search range. It seems easy to do it but actually there are some traps we need to take care. I made this just for a note for me.<br>Search range summary:</p><ul><li><a href="easy but not recommend">1, Integer.MAX_VALUE</a></li><li><a href="recommended">1, x</a></li><li><a href="you need to do math to prove it">1, x/2</a></li></ul></li><li>For case 2 and case 3, we need to take care of the corner case by making sure right &gt;= left for [left, right], so:<ol start="2"><li>x &gt;= 1 for [1, x] =&gt; so we need to take care of the corner case: x &lt; 1</li><li>x/2 &gt;= 1 for [1, x/2]=&gt; x &gt;= 2 =&gt; so we need to take care of the corner case: x &lt; 2</li></ol></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> l=<span class="number">0</span>,r=x; <span class="comment">//in case of overflow</span></span><br><span class="line">        <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">            <span class="keyword">long</span> mid=l+(r-l)/<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(mid*mid&gt;x) r=mid-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> l=mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è®¡ç®—åŠ å‡å¼<ul><li><a href="https://leetcode.com/problems/basic-calculator/" target="_blank" rel="noopener">basic-calculator</a></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(Character.isDigit(c)) &#123;</span><br><span class="line">                number = <span class="number">10</span> * number + (<span class="keyword">int</span>)(c  - <span class="string">'0'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'+'</span>) &#123;</span><br><span class="line">                number = sign * number;</span><br><span class="line">                result += number;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                sign = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'-'</span>) &#123;</span><br><span class="line">                number = sign * number;</span><br><span class="line">                result += number;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                sign = -<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">'('</span>) &#123;</span><br><span class="line">                stack.push(result);</span><br><span class="line">                stack.push(sign);</span><br><span class="line">                result = <span class="number">0</span>;</span><br><span class="line">                sign = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">')'</span>) &#123;</span><br><span class="line">                number = sign * number;</span><br><span class="line">                result += number;</span><br><span class="line">                number = <span class="number">0</span>; </span><br><span class="line">                result *= stack.pop();</span><br><span class="line">                result += stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æœ€åä»¥æ•°å­—ç»“å°¾çš„è¯</span></span><br><span class="line">        <span class="keyword">if</span>(number != <span class="number">0</span>) <span class="keyword">return</span> result += sign * number;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>åŠ å‡ä¹˜é™¤</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> sign = <span class="string">'+'</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++ ) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(Character.isDigit(c)) &#123;</span><br><span class="line">                number = number * <span class="number">10</span> + (<span class="keyword">int</span>)(c - <span class="string">'0'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>((!Character.isDigit(c) &amp;&amp; c != <span class="string">' '</span>) || i == s.length()-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>( sign == <span class="string">'+'</span>) &#123;</span><br><span class="line">                    stack.push(number);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign == <span class="string">'-'</span>) &#123;</span><br><span class="line">                    stack.push(-number);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign == <span class="string">'*'</span>) &#123;</span><br><span class="line">                    stack.push(stack.pop() * number);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign == <span class="string">'/'</span>) &#123;</span><br><span class="line">                    stack.push(stack.pop() / number);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                sign = c;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : stack) &#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/missing-number/" target="_blank" rel="noopener">Missing Num</a><ul><li>åœ¨né•¿çš„æ•°ç»„ä¸­ï¼ŒåŒ…å«0åˆ°nè¿™n+1ä¸ªæ•°å­—ä¸­çš„nä¸ªã€‚æœ‰ä¸ªä¸€æ•°å­—[0, n]ä¸åœ¨é‡Œé¢ã€‚</li><li>å°†æ•°ç»„çš„ç´¢å¼•[0, n-1]æƒ³æˆæŠ½å±‰çš„ç¼–å·ï¼Œå¦‚æœæ˜¯nç¼ºå°‘çš„è¯ï¼Œæ¯ä¸ªæŠ½å±‰å…¶å®éƒ½èƒ½è£…åˆ°è‡ªå·±çš„æ•°å­—ï¼Œnå°±å•ç‹¬å‡ºæ¥äº†ã€‚</li><li>å¦‚æœæ˜¯[0, n-1]ä¸­çš„æ•°å­—ç¼ºå°‘äº†ï¼Œè¯´æ˜nè¿™ä¸ªæ•°å­—å äº†å…¶ä¸­ä¸€ä¸ªæŠ½å±‰ï¼Œé‚£ä¸ªæ•°å­—ï¼ˆç´¢å¼•ç¼–å·è¿˜è´´åœ¨æŠ½å±‰ä¸Šï¼‰å°±å•å‡ºæ¥äº†ã€‚</li><li>ä½¿ç”¨å¼‚æˆ–æ“ä½œå¯ä»¥å°†å•ç‹¬çš„æ•°å­—æ‰¾å‡ºæ¥ã€‚</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;   </span><br><span class="line">       </span><br><span class="line">       <span class="keyword">int</span> missing = nums.length;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">           missing ^= i ^ nums[i];</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">return</span> missing;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h2 id="Intå¤„ç†"><a href="#Intå¤„ç†" class="headerlink" title="Intå¤„ç†"></a>Intå¤„ç†</h2><ul><li>Palindrome Number å›æ–‡æ•°<ul><li>è½¬æ¢æˆString ä½¿ç”¨reverse()åˆ¤æ–­æ˜¯å¦ç›¸åŒ</li><li><a href="https://leetcode.com/problems/reverse-integer/" target="_blank" rel="noopener">reverse Integer</a>ï¼Œå†çœ‹æ˜¯å¦ç›¸åŒï¼Œä½†æ˜¯å¯èƒ½ä¼šæº¢å‡º</li><li>åªè½¬æ¢åä¸€åŠçš„æ•°å­—ï¼Œä¸å‰é¢ä¸€åŠçš„æ•°å­—æ¯”è¾ƒï¼š1221 â€“&gt; 12 12 12321 â€“&gt; 12 123/10</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; <span class="number">0</span> || (x % <span class="number">10</span> == <span class="number">0</span> &amp;&amp; x != <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> rev = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x &gt; rev) &#123; <span class="comment">//å½“å‰é¢çš„æ•°å­—å°äºç­‰äºåé¢ç¿»è½¬çš„æ•°å­—æ—¶ï¼Œå°±åˆ°ä¸­é—´äº†</span></span><br><span class="line">        rev = rev * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">        x /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (x == rev || x == rev / <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><ul><li>Remove Linked List Elements</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">removeElements</span><span class="params">(ListNode head, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        head = dummy;</span><br><span class="line">        <span class="keyword">while</span>(head.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(head.next.val == val)</span><br><span class="line">                head.next = head.next.next;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>middle ListNode</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">while</span>(fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>reverse List<ul><li>å°†é“¾è¡¨ç¿»è½¬</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverse</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode next = head.next;</span><br><span class="line">        head.next = pre;</span><br><span class="line">        pre = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¿»è½¬éƒ¨åˆ†List<ul><li><a href="https://leetcode.com/problems/reverse-linked-list-ii/" target="_blank" rel="noopener">reverse list II</a></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span> || n == <span class="number">1</span>) <span class="keyword">return</span> head;</span><br><span class="line">        </span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        ListNode p = dummy;</span><br><span class="line">        <span class="keyword">while</span>(m &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            p = p.next;</span><br><span class="line">            m--;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode tail = p.next;</span><br><span class="line">        </span><br><span class="line">        ListNode tmp = p;</span><br><span class="line">        <span class="keyword">while</span>(n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            tmp = p.next;</span><br><span class="line">            p.next = tail.next;</span><br><span class="line">            tail.next = tail.next.next;</span><br><span class="line">            p.next.next = tmp;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰ç¯çš„LinkedList<ul><li><a href="https://leetcode.com/problems/linked-list-cycle-ii/" target="_blank" rel="noopener">Linked List CycleII</a></li><li>two pointersçœ‹è§£é‡Š</li><li>å»¶ä¼¸<a href="https://leetcode.com/problems/find-the-duplicate-number/" target="_blank" rel="noopener">287. Find the Duplicate Number</a></li><li>å°†æ•°ç»„å½“æˆé“¾è¡¨çš„ç´¢å¼•è¡¨</li><li>é¸½ç¬¼åŸç†ï¼Œä¸€ä¸ªæ•°ç»„[n+1]ä¸­æœ‰1-nä¸ªä¸ç›¸åŒçš„æ•°ï¼Œè‚¯å®šæœ‰ä¸€ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚å¦‚æœæŠŠæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å½“åšæ˜¯ç´¢å¼•å€¼çš„è¯ï¼Œæ²¡æœ‰é‡å¤æ•°å­—çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªæ²¡æœ‰ç¯çš„é“¾ã€‚å¦‚æœä¸­é—´æœ‰é‡å¤å€¼çš„è¯ï¼Œå°±ä¸€å®šä¼šå‡ºç°ç¯ã€‚</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> fast = nums[<span class="number">0</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> head = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">while</span>(head != slow) &#123;</span><br><span class="line">            head = nums[head];</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><a href="https://leetcode.com/problems/add-binary/" target="_blank" rel="noopener">äºŒè¿›åˆ¶åŠ </a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> i = a.length(), j = b.lengthg(), carry = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>) sum += b.charAt(j--) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) sum += a.charAt(i--) - <span class="string">'0'</span>ï¼›</span><br><span class="line">            sb.insert(<span class="number">0</span>, sum % <span class="number">2</span>);</span><br><span class="line">            carry = sum / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(carry ï¼= <span class="number">0</span>)</span><br><span class="line">            sb.insert(<span class="number">0</span>, carry);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h2><ul><li>å°†æ•°ç»„ä¸­çš„æ•°å½“æˆæŒ‡é’ˆ<ul><li><a href="https://leetcode.com/problems/find-all-duplicates-in-an-array" target="_blank" rel="noopener">442. Find All Duplicates in an Array</a></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findDuplicates</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = Math.abs(nums[i])-<span class="number">1</span>;<span class="comment">//è¦å»ç»å¯¹å€¼ ç´¢å¼•</span></span><br><span class="line">            <span class="keyword">if</span> (nums[index] &lt; <span class="number">0</span>)<span class="comment">//æ˜¯è´Ÿçš„è¯´æ˜ï¼Œä¹‹å‰é‡åˆ°è¿‡</span></span><br><span class="line">                res.add(Math.abs(index+<span class="number">1</span>));</span><br><span class="line">            nums[index] = -nums[index];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><ol start="448"><li>Find All Numbers Disappeared in an Array</li></ol></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findDisappearedNumbers</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> val = Math.abs(nums[i]) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[val] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            nums[val] = - nums[val];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">            res.add(i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¡¨è¾¾å¼æ ¡éªŒ"><a href="#è¡¨è¾¾å¼æ ¡éªŒ" class="headerlink" title="è¡¨è¾¾å¼æ ¡éªŒ"></a>è¡¨è¾¾å¼æ ¡éªŒ</h2><ul><li><a href="https://leetcode.com/problems/valid-parentheses/" target="_blank" rel="noopener">Valid Parentheses</a><ul><li>å¸¸è§„åšæ³•ï¼šç”¨stackä¿å­˜å·¦æ‹¬å·ï¼Œé‡åˆ°å³æ‹¬å·æ£€éªŒæ ˆé¡¶æ˜¯ä¸æ˜¯å¯¹åº”çš„å·¦æ‹¬å·ï¼Œæ˜¯çš„è¯å°±popï¼Œä¸æ˜¯å°±ä¸æ­£ç¡®</li><li>éå¸¸è§„ï¼Œæ€æƒ³ç›¸åŒï¼š</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;Character&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line"><span class="keyword">if</span> (c == <span class="string">'('</span>)</span><br><span class="line">stack.push(<span class="string">')'</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'&#123;'</span>)</span><br><span class="line">stack.push(<span class="string">'&#125;'</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'['</span>)</span><br><span class="line">stack.push(<span class="string">']'</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (stack.isEmpty() || stack.pop() != c)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> stack.isEmpty();</span><br></pre></td></tr></table></figure><h2 id="ä¸‰åˆ†æŸ¥æ‰¾"><a href="#ä¸‰åˆ†æŸ¥æ‰¾" class="headerlink" title="ä¸‰åˆ†æŸ¥æ‰¾"></a>ä¸‰åˆ†æŸ¥æ‰¾</h2><ul><li><a href="https://leetcode.com/problems/guess-number-higher-or-lower/solution/" target="_blank" rel="noopener">guess number</a></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">guessNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> high = n;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid1 = low + (high - low) / <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">int</span> mid2 = high - (high - low) / <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">int</span> res1 = guess(mid1);</span><br><span class="line">            <span class="keyword">int</span> res2 = guess(mid2);</span><br><span class="line">            <span class="keyword">if</span> (res1 == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> mid1;</span><br><span class="line">            <span class="keyword">if</span> (res2 == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> mid2;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (res1 &lt; <span class="number">0</span>)</span><br><span class="line">                high = mid1 - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (res2 &gt; <span class="number">0</span>)</span><br><span class="line">                low = mid2 + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                low = mid1 + <span class="number">1</span>;</span><br><span class="line">                high = mid2 - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘ğŸš€</title>
      <link href="/2019/03/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E6%84%8F%E8%A7%81/"/>
      <url>/2019/03/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E6%84%8F%E8%A7%81/</url>
      
        <content type="html"><![CDATA[<h2 id="å¸ƒå±€æ ·å¼ğŸ“±"><a href="#å¸ƒå±€æ ·å¼ğŸ“±" class="headerlink" title="å¸ƒå±€æ ·å¼ğŸ“±"></a>å¸ƒå±€æ ·å¼ğŸ“±</h2><ul><li><a href="https://www.imooc.com/learn/974" target="_blank" rel="noopener">å…¥é—¨æ•™ç¨‹è§†é¢‘</a></li><li><a href="http://www.imooc.com/code/49" target="_blank" rel="noopener">åŸºç¡€ä»£ç æ•™ç¨‹</a></li><li>ç›¸å…³å®ç”¨ç½‘ç«™<ul><li><a href="http://www.runoob.com/css/css-tutorial.html" target="_blank" rel="noopener">èœé¸Ÿæ•™ç¨‹</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/file.html#wxml-%E6%A8%A1%E6%9D%BF" target="_blank" rel="noopener">WXMLä¸WXSS</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" target="_blank" rel="noopener">WXSSä¸»è¦æ³¨æ„å°ºå¯¸å•ä½</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener">å°ç¨‹åºçš„åŸºæœ¬ç»„ä»¶</a></li></ul></li></ul><h2 id="é€»è¾‘ğŸ—¯"><a href="#é€»è¾‘ğŸ—¯" class="headerlink" title="é€»è¾‘ğŸ—¯"></a>é€»è¾‘ğŸ—¯</h2><ul><li><a href="https://developers.weixin.qq.com/community/develop/article/doc/000aa057ca0a88dcd938b4d6656813" target="_blank" rel="noopener">PWA</a>(äº†è§£ï¼‰</li><li><a href="https://www.v2ex.com/t/427255" target="_blank" rel="noopener">å…³äºHTML5/å°ç¨‹åºçš„äº§ç”Ÿ</a>(äº†è§£ï¼‰</li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/file.html#js-%E4%BA%A4%E4%BA%92%E9%80%BB%E8%BE%91" target="_blank" rel="noopener">JSé€»è¾‘äº¤äº’</a></li><li>ç›¸å…³å®ç”¨ç½‘ç«™<ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/framework.html#api" target="_blank" rel="noopener">å°ç¨‹åºçš„API</a></li><li><a href="http://www.runoob.com/js/js-tutorial.html" target="_blank" rel="noopener">JavaScript</a></li><li><a href="http://www.runoob.com/json/json-tutorial.html" target="_blank" rel="noopener">JSONæ•™ç¨‹</a></li></ul></li></ul><h2 id="å…¶ä»–å®ç”¨ç½‘ç«™ğŸ•¸"><a href="#å…¶ä»–å®ç”¨ç½‘ç«™ğŸ•¸" class="headerlink" title="å…¶ä»–å®ç”¨ç½‘ç«™ğŸ•¸"></a>å…¶ä»–å®ç”¨ç½‘ç«™ğŸ•¸</h2><ul><li><a href="https://developers.weixin.qq.com/" target="_blank" rel="noopener">å®˜æ–¹ç¤¾åŒº</a>:æœ‰çš„å‘å¯èƒ½åˆ«äººå·²ç»è¸©è¿‡ï¼Œå¯ä»¥æœç´¢ä¸€ä¸‹</li><li><a href="https://minapp.com/miniapp/" target="_blank" rel="noopener">çŸ¥æ™“ç¨‹åº</a>ï¼šå¯ä»¥çœ‹çœ‹åˆ«äººäº§å“çš„æƒ³æ³•å’Œæ€è·¯</li><li><a href="https://tencent.github.io/wepy/" target="_blank" rel="noopener">WePY</a>ï¼šå¼€å‘å°ç¨‹åºçš„ä¸€ä¸ªæ¡†æ¶ã€‚å»ºè®®çœ‹çœ‹å°±å¥½ï¼Œè¿˜æ˜¯ä»¥åŸç”Ÿå¼€å‘ä¸ºä¸»ã€‚ç­‰åŸç”Ÿä¸Šæ‰‹åå†çœ‹çœ‹æ¡†æ¶ã€‚</li><li><a href="https://github.com/Shincey/HFUTSZK" target="_blank" rel="noopener">å·¥å¤§æ€æ”¿è¯¾</a>:æ— ç½‘ç»œäº¤äº’ï¼Œå¯ä»¥ç‹¬ç«‹å¼€å‘å®Œæˆã€‚</li><li><a href="https://github.com/fangmiao97/AISmallTribe-weixinMiniProgram" target="_blank" rel="noopener">AIå°éƒ¨è½</a>ï¼šjsé€»è¾‘ä¸­æœ‰ç½‘ç»œäº¤äº’ï¼Œå¯ä»¥åšå‚è€ƒã€‚</li><li>å„ç§cssæ ·å¼é…ç½®webå·¥å…·<ul><li><a href="https://www.html.cn/tool/css3Preview/Box-Shadow.html" target="_blank" rel="noopener">boxã€å¡ç‰‡çš„é˜´å½±æ•ˆæœ</a></li><li>â€¦â€¦</li></ul></li></ul><h2 id="å»ºè®®ğŸ»"><a href="#å»ºè®®ğŸ»" class="headerlink" title="å»ºè®®ğŸ»"></a>å»ºè®®ğŸ»</h2><ul><li>å…ˆå­¦ä¹ åŸºç¡€<strong>HTML/CSS/JavaScript</strong>ï¼Œä¸ç”¨ç‰¹åˆ«æŠ“ç»†èŠ‚ï¼Œä½†æ˜¯è¦çŸ¥æ™“å¸¸è§ç”¨æ³•</li><li>ç†æ¸…ä¸‰ä¸ªæ–¹é¢ï¼š<ul><li>å¦‚ä½•å¸ƒå±€ã€æ·»åŠ æ ·å¼</li><li>é€»è¾‘å±‚ä¸ ui å±‚å¦‚ä½•äº¤äº’ï¼Œæˆ–è€…è¯´å¦‚ä½•ç”¨ä»£ç æ“æ§ ui ç»„ä»¶</li><li>å¦‚ä½•å¤„ç†ç”¨æˆ·çš„äº¤äº’åŠ¨ä½œ</li></ul></li><li>å…ˆä»ç®€å•çš„åŠŸèƒ½å¼€å§‹å¼€å‘ï¼Œå¦‚ï¼Œç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºå›¾ç‰‡æ–‡æœ¬ã€‚å†é€æ¸å¤æ‚é€»è¾‘</li><li>å°ç¨‹åºæ¨èç”¨åŸç”Ÿå¼€å‘ï¼Œå…ˆä¸è¦ç”¨æ¡†æ¶</li><li>çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œä¹Ÿè¦ç»“åˆæœç´¢å¼•æ“ã€‚å› ä¸ºå¾®ä¿¡çš„å®˜æ–¹æ–‡æ¡£ï¼Œæœ‰å‘</li><li>æ¯å¤©æ–°å¢ä¸€è¡Œä»£ç éƒ½æ˜¯è¿›æ­¥ğŸ˜ƒåŠ æ²¹ï¼</li><li>é€æ¸ç†è§£<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noopener">ç”Ÿå‘½å‘¨æœŸ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å¼€å‘ç›¸å…³ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
